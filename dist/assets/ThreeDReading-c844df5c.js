import{e as T,f as x,h as k,i as S,g as C}from"./speedReadingStorage-3bea9f79.js";import{o as r,a as d,b as s,f as z,F as b,h as w,g as p,t as l,n as g,m as y,p as u,v as f,E as D,z as v,B as m}from"./index-e0b54b24.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";const M={name:"ThreeDReading",emits:["go-back"],data(){return{isTraining:!1,isPaused:!1,selectedMode:null,trainingModes:[{id:"basic",name:"基础立体图",description:"简单的几何图形和文字",icon:"fas fa-cube",difficulty:"简单",duration:10},{id:"pattern",name:"图案识别",description:"复杂图案和隐藏图像",icon:"fas fa-puzzle-piece",difficulty:"中等",duration:15},{id:"text",name:"立体文字",description:"3D文字和数字识别",icon:"fas fa-font",difficulty:"中等",duration:12},{id:"complex",name:"复杂场景",description:"多层次立体场景",icon:"fas fa-mountain",difficulty:"困难",duration:20}],currentImage:null,currentQuestion:null,showQuestion:!1,displayTime:3,completedImages:0,totalImages:10,elapsedTime:0,totalTime:0,accuracy:0,finalAccuracy:0,selectedAnswer:null,textAnswer:"",isDrawing:!1,drawingStrokes:[],countdown:0,showCompletionModal:!1,spatialRating:"B",displayTimer:null,countdownTimer:null,timeTimer:null,settings:{initialDisplayTime:3,imageSize:"medium",showFocusGuide:!0,showTips:!0,backgroundColor:"black",enableSound:!0,difficulty:"medium",layerSeparation:25,animationSpeed:"normal",contrastLevel:"high",blurEffect:!1,rotationEffect:!1,pulseEffect:!1,autoAdjustDifficulty:!1,minDisplayTime:1,maxDisplayTime:10,feedbackType:"visual"},statistics:{totalSessions:0,averageAccuracy:0,averageTime:0,totalTime:0,stereoVision:0,spatialPerception:0,depthPerception:0,visualFocus:0},imageDatabase:{basic:[{id:1,type:"basic",layers:[{content:"●",depth:0,opacity:1,color:"#ff4757",size:"40px"},{content:"■",depth:25,opacity:.8,color:"#2ed573",size:"35px"},{content:"▲",depth:50,opacity:.6,color:"#3742fa",size:"30px"}],question:{type:"choice",question:"哪个图形在最前面？",options:["红色圆形","绿色方形","蓝色三角形","无法确定"],correct:0}},{id:2,type:"basic",layers:[{content:"★",depth:10,opacity:.9,color:"#ffa502",size:"45px"},{content:"♦",depth:30,opacity:.7,color:"#ff6348",size:"40px"},{content:"♠",depth:50,opacity:.5,color:"#2f3542",size:"35px"}],question:{type:"choice",question:"从前到后的图形顺序是？",options:["★♦♠","♦★♠","♠♦★","★♠♦"],correct:0}},{id:3,type:"basic",layers:[{content:"◆",depth:0,opacity:1,color:"#5352ed",size:"50px"},{content:"◇",depth:20,opacity:.8,color:"#ff3838",size:"45px"},{content:"○",depth:40,opacity:.6,color:"#2ed573",size:"40px"},{content:"□",depth:60,opacity:.4,color:"#ffa502",size:"35px"}],question:{type:"choice",question:"有多少个图形层次？",options:["2个","3个","4个","5个"],correct:2}}],shapes:[{id:4,type:"shapes",layers:[{content:"🔴",depth:0,opacity:1,size:"60px"},{content:"🔵",depth:30,opacity:.7,size:"50px"},{content:"🟡",depth:60,opacity:.5,size:"40px"}],question:{type:"choice",question:"中间层是什么颜色？",options:["红色","蓝色","黄色","绿色"],correct:1}},{id:5,type:"shapes",layers:[{content:"🔺",depth:15,opacity:.9,size:"55px"},{content:"🔻",depth:35,opacity:.7,size:"50px"},{content:"⬜",depth:55,opacity:.5,size:"45px"},{content:"⬛",depth:75,opacity:.3,size:"40px"}],question:{type:"input",question:"请输入从前到后看到的图形数量：",correct:"4"}}],text:[{id:6,type:"text",layers:[{content:"A",depth:0,opacity:1,color:"#2ed573",size:"48px"},{content:"B",depth:20,opacity:.8,color:"#ff4757",size:"44px"},{content:"C",depth:40,opacity:.6,color:"#3742fa",size:"40px"}],question:{type:"input",question:"请输入您看到的字母序列（从前到后）：",correct:"ABC"}},{id:7,type:"text",layers:[{content:"1",depth:10,opacity:.9,color:"#ffa502",size:"52px"},{content:"2",depth:30,opacity:.7,color:"#ff6348",size:"48px"},{content:"3",depth:50,opacity:.5,color:"#5352ed",size:"44px"},{content:"4",depth:70,opacity:.3,color:"#2f3542",size:"40px"}],question:{type:"choice",question:"最清晰的数字是？",options:["1","2","3","4"],correct:0}},{id:8,type:"text",layers:[{content:"X",depth:5,opacity:.95,color:"#ff3838",size:"50px"},{content:"Y",depth:25,opacity:.75,color:"#2ed573",size:"46px"},{content:"Z",depth:45,opacity:.55,color:"#3742fa",size:"42px"}],question:{type:"input",question:"请输入最后面的字母：",correct:"Z"}}],complex:[{id:9,type:"complex",layers:[{content:"🏠",depth:0,opacity:1,size:"60px"},{content:"🌳",depth:25,opacity:.8,size:"55px"},{content:"🚗",depth:50,opacity:.6,size:"50px"},{content:"☁️",depth:75,opacity:.4,size:"45px"}],question:{type:"choice",question:"这个场景中，什么在最前面？",options:["房子","树","汽车","云朵"],correct:0}},{id:10,type:"complex",layers:[{content:"⭐",depth:10,opacity:.9,size:"45px"},{content:"🌙",depth:30,opacity:.7,size:"50px"},{content:"🌍",depth:50,opacity:.5,size:"55px"},{content:"🌌",depth:70,opacity:.3,size:"60px"}],question:{type:"choice",question:"在这个宇宙场景中，层次最多的是？",options:["3层","4层","5层","6层"],correct:1}},{id:11,type:"complex",layers:[{content:"🎯",depth:0,opacity:1,size:"50px"},{content:"🏹",depth:20,opacity:.8,size:"45px"},{content:"🎪",depth:40,opacity:.6,size:"55px"},{content:"🎨",depth:60,opacity:.4,size:"40px"},{content:"🎭",depth:80,opacity:.2,size:"35px"}],question:{type:"input",question:"请输入您能清楚看到的物品数量：",correct:"5"}}]}}},computed:{canSubmit(){var n,t,a;return((n=this.currentQuestion)==null?void 0:n.type)==="choice"?this.selectedAnswer!==null:((t=this.currentQuestion)==null?void 0:t.type)==="input"?this.textAnswer.trim()!=="":((a=this.currentQuestion)==null?void 0:a.type)==="draw"?this.drawingStrokes.length>0:!1}},async mounted(){await this.loadSettings(),await this.loadStatistics()},beforeUnmount(){this.clearTimers()},methods:{selectMode(n){this.selectedMode=n},startTraining(){this.selectedMode&&(this.isTraining=!0,this.isPaused=!1,this.displayTime=this.settings.initialDisplayTime,this.completedImages=0,this.elapsedTime=0,this.accuracy=0,this.loadImagesForMode(this.selectedMode),this.startTimer(),this.showNextImage())},showNextImage(){if(this.completedImages>=this.totalImages){this.completeTraining();return}this.showQuestion=!1,this.currentImage=this.getRandomImage(),this.resetAnswers(),this.countdown=3,this.countdownTimer=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownTimer),this.displayImage())},1e3)},displayImage(){this.displayTimer=setTimeout(()=>{this.currentImage=null,this.showQuestionPhase()},this.displayTime*1e3)},showQuestionPhase(){var n;this.showQuestion=!0,this.currentQuestion=(n=this.currentImage)==null?void 0:n.question},adjustDisplayTime(n){this.displayTime=Math.max(.5,Math.min(10,this.displayTime+n))},togglePause(){this.isPaused=!this.isPaused,this.isPaused?this.clearTimers():(this.startTimer(),this.currentImage&&!this.showQuestion&&this.displayImage())},stopTraining(){this.clearTimers(),this.isTraining=!1,this.showCompletionModal=!1},startTimer(){this.timeTimer=setInterval(()=>{this.isPaused||this.elapsedTime++},1e3)},selectAnswer(n){this.selectedAnswer=n},submitAnswer(){if(!this.canSubmit)return;let n=!1;this.currentQuestion.type==="choice"?n=this.selectedAnswer===this.currentQuestion.correct:this.currentQuestion.type==="input"?n=this.textAnswer.trim().toLowerCase()===this.currentQuestion.correct.toLowerCase():this.currentQuestion.type==="draw"&&(n=this.drawingStrokes.length>3),n?(this.accuracy=(this.accuracy*this.completedImages+100)/(this.completedImages+1),this.settings.enableSound&&this.playSound("correct")):(this.accuracy=this.accuracy*this.completedImages/(this.completedImages+1),this.settings.enableSound&&this.playSound("incorrect")),this.completedImages++,setTimeout(()=>{this.showNextImage()},1e3)},completeTraining(){this.clearTimers(),this.totalTime=this.elapsedTime,this.finalAccuracy=this.accuracy,this.calculateSpatialRating(),this.showCompletionModal=!0,this.saveTrainingData()},calculateSpatialRating(){const n=this.finalAccuracy,t=Math.max(0,100-(this.totalTime/this.totalImages-5)*10),a=(n+t)/2;a>=90?this.spatialRating="S":a>=80?this.spatialRating="A":a>=70?this.spatialRating="B":a>=60?this.spatialRating="C":this.spatialRating="D"},restartTraining(){this.showCompletionModal=!1,this.startTraining()},finishTraining(){this.showCompletionModal=!1,this.isTraining=!1},resetAnswers(){this.selectedAnswer=null,this.textAnswer="",this.drawingStrokes=[],this.$refs.drawingCanvas&&this.$refs.drawingCanvas.getContext("2d").clearRect(0,0,400,300)},startDrawing(n){this.isDrawing=!0;const t=this.$refs.drawingCanvas.getBoundingClientRect(),a=n.clientX-t.left,c=n.clientY-t.top,e=this.$refs.drawingCanvas.getContext("2d");e.beginPath(),e.moveTo(a,c),this.drawingStrokes.push([{x:a,y:c}])},draw(n){if(!this.isDrawing)return;const t=this.$refs.drawingCanvas.getBoundingClientRect(),a=n.clientX-t.left,c=n.clientY-t.top,e=this.$refs.drawingCanvas.getContext("2d");e.lineTo(a,c),e.stroke(),this.drawingStrokes[this.drawingStrokes.length-1].push({x:a,y:c})},stopDrawing(){this.isDrawing=!1},clearCanvas(){this.$refs.drawingCanvas.getContext("2d").clearRect(0,0,400,300),this.drawingStrokes=[]},undoLastStroke(){this.drawingStrokes.length>0&&(this.drawingStrokes.pop(),this.redrawCanvas())},redrawCanvas(){const n=this.$refs.drawingCanvas.getContext("2d");n.clearRect(0,0,400,300),this.drawingStrokes.forEach(t=>{t.length>0&&(n.beginPath(),n.moveTo(t[0].x,t[0].y),t.slice(1).forEach(a=>{n.lineTo(a.x,a.y)}),n.stroke())})},clearTimers(){this.displayTimer&&(clearTimeout(this.displayTimer),this.displayTimer=null),this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null),this.timeTimer&&(clearInterval(this.timeTimer),this.timeTimer=null)},formatTime(n){const t=Math.floor(n/60),a=n%60;return`${t}:${a.toString().padStart(2,"0")}`},playSound(n){console.log(n==="correct"?"播放正确音效":"播放错误音效")},loadImagesForMode(n){const t=this.imageDatabase[n]||this.imageDatabase.basic;this.totalImages=Math.min(10,t.length*2)},getRandomImage(){const n=this.imageDatabase[this.selectedMode]||this.imageDatabase.basic;return n[Math.floor(Math.random()*n.length)]},async getModeAccuracy(n){try{const a=(await T()).filter(c=>c.mode===n);return a.length===0?0:Math.round(a.reduce((c,e)=>c+e.accuracy,0)/a.length)}catch(t){return console.error("获取模式准确率失败:",t),0}},async getModeTime(n){try{const a=(await T()).filter(c=>c.mode===n);return a.length===0?0:Math.round(a.reduce((c,e)=>c+e.averageTime,0)/a.length)}catch(t){return console.error("获取模式平均时间失败:",t),0}},async saveTrainingData(){const n={mode:this.selectedMode,accuracy:this.finalAccuracy,averageTime:this.totalTime/this.totalImages,totalTime:this.totalTime,rating:this.spatialRating,date:new Date().toISOString()};await x(n),await this.loadStatistics()},updateStatistics(){console.log("统计数据由存储服务自动更新")},async loadSettings(){try{const n=await k();this.settings={...this.settings,...n}}catch(n){console.error("加载设置失败:",n)}},async saveSettings(){try{await S(this.settings)}catch(n){console.error("保存设置失败:",n)}},async loadStatistics(){try{const t=(await C()).threeDReading;this.statistics.totalSessions=t.totalSessions,this.statistics.averageAccuracy=t.averageAccuracy,this.statistics.averageTime=t.averageTime,this.statistics.totalTime=t.totalTime,this.statistics.stereoVision=t.stereoVision,this.statistics.spatialPerception=t.spatialPerception,this.statistics.depthPerception=t.depthPerception,this.statistics.visualFocus=t.visualFocus}catch(n){console.error("加载统计数据失败:",n)}},goBack(){this.$emit("go-back")}},watch:{settings:{async handler(){await this.saveSettings()},deep:!0}}},_={class:"threed-reading-container"},A={class:"page-header"},R={key:0,class:"training-modes"},q={class:"mode-grid"},P=["onClick"],V={class:"mode-icon"},Q={class:"mode-stats"},U=["disabled"],E={key:1,class:"training-interface"},L={class:"training-controls"},B={class:"control-group"},F={class:"time-control"},j=["disabled"],N=["disabled"],G={class:"control-group"},H={class:"training-stats"},X={key:0,class:"display-area"},Y={key:0,class:"countdown"},Z={key:1,class:"threed-image"},K={class:"depth-layers"},O={key:0,class:"focus-guide"},J={key:2,class:"preparation-message"},W={key:1,class:"question-area"},$={class:"question-content"},tt={key:0,class:"answer-options"},st=["onClick"],et={key:1,class:"answer-input"},it={key:2,class:"answer-drawing"},nt={class:"drawing-controls"},ot=["disabled"],lt={key:0,class:"training-tips"},at={key:2,class:"modal-overlay"},rt={class:"completion-modal"},dt={class:"completion-stats"},ut={class:"stat-item"},ct={class:"stat-value"},pt={class:"stat-item"},gt={class:"stat-value"},mt={class:"stat-item"},ht={class:"stat-value"},yt={class:"stat-item"},vt={class:"modal-actions"},ft={key:3,class:"training-settings"},bt={class:"settings-grid"},wt={class:"settings-section"},Tt={class:"setting-group"},xt={class:"setting-group"},kt={class:"setting-group"},St={class:"setting-group"},Ct={class:"settings-section"},zt={class:"setting-group"},Dt={class:"setting-group"},It={class:"setting-group"},Mt={class:"setting-group"},_t={class:"settings-section"},At={class:"setting-group"},Rt={class:"setting-group"},qt={class:"setting-group"},Pt={class:"setting-group"},Vt={class:"setting-group"},Qt={class:"settings-section"},Ut={class:"setting-group"},Et={class:"setting-group"},Lt={class:"setting-group"},Bt={class:"setting-group"},Ft={key:4,class:"training-statistics"},jt={class:"stats-section"},Nt={class:"stats-grid"},Gt={class:"stat-card"},Ht={class:"stat-number"},Xt={class:"stat-card"},Yt={class:"stat-number"},Zt={class:"stat-card"},Kt={class:"stat-number"},Ot={class:"stat-card"},Jt={class:"stat-number"},Wt={class:"stats-section"},$t={class:"mode-performance"},ts={class:"mode-info"},ss={class:"mode-name"},es={class:"mode-difficulty"},is={class:"performance-stats"},ns={class:"stat"},os={class:"stat-value"},ls={class:"stat"},as={class:"stat-value"},rs={class:"stats-section"},ds={class:"ability-radar"},us={class:"ability-details"},cs={class:"ability-item"},ps={class:"ability-bar"},gs={class:"ability-score"},ms={class:"ability-item"},hs={class:"ability-bar"},ys={class:"ability-score"},vs={class:"ability-item"},fs={class:"ability-bar"},bs={class:"ability-score"},ws={class:"ability-item"},Ts={class:"ability-bar"},xs={class:"ability-score"};function ks(n,t,a,c,e,o){return r(),d("div",_,[s("div",A,[s("button",{class:"back-btn",onClick:t[0]||(t[0]=(...i)=>o.goBack&&o.goBack(...i))},t[34]||(t[34]=[s("span",{class:"back-arrow"},"←",-1),z(" 返回 ",-1)])),t[35]||(t[35]=s("h1",{class:"page-title"},"3D图阅读训练",-1)),t[36]||(t[36]=s("p",{class:"page-description"},"通过立体图像训练提高空间感知和快速识别能力",-1))]),e.isTraining?p("",!0):(r(),d("div",R,[t[37]||(t[37]=s("h2",null,"选择训练模式",-1)),s("div",q,[(r(!0),d(b,null,w(e.trainingModes,i=>(r(),d("div",{class:g(["mode-card",{active:e.selectedMode===i.id}]),key:i.id,onClick:h=>o.selectMode(i.id)},[s("div",V,[s("i",{class:g(i.icon)},null,2)]),s("h3",null,l(i.name),1),s("p",null,l(i.description),1),s("div",Q,[s("span",null,"难度: "+l(i.difficulty),1),s("span",null,"时长: "+l(i.duration)+"分钟",1)])],10,P))),128))]),s("button",{class:"start-btn",onClick:t[1]||(t[1]=(...i)=>o.startTraining&&o.startTraining(...i)),disabled:!e.selectedMode}," 开始训练 ",8,U)])),e.isTraining?(r(),d("div",E,[s("div",L,[s("div",B,[t[38]||(t[38]=s("label",null,"显示时间:",-1)),s("div",F,[s("button",{onClick:t[2]||(t[2]=i=>o.adjustDisplayTime(-.5)),disabled:e.isPaused},"-",8,j),s("span",null,l(e.displayTime)+"秒",1),s("button",{onClick:t[3]||(t[3]=i=>o.adjustDisplayTime(.5)),disabled:e.isPaused},"+",8,N)])]),s("div",G,[s("button",{class:"control-btn",onClick:t[4]||(t[4]=(...i)=>o.togglePause&&o.togglePause(...i))},l(e.isPaused?"继续":"暂停"),1),s("button",{class:"control-btn",onClick:t[5]||(t[5]=(...i)=>o.stopTraining&&o.stopTraining(...i))},"结束训练")]),s("div",H,[s("span",null,"已完成: "+l(e.completedImages)+"/"+l(e.totalImages),1),s("span",null,"用时: "+l(o.formatTime(e.elapsedTime)),1),s("span",null,"准确率: "+l(Math.round(e.accuracy))+"%",1)])]),s("div",{class:g(["threed-display",{"bg-black":e.settings.backgroundColor==="black","bg-white":e.settings.backgroundColor==="white","bg-gray":e.settings.backgroundColor==="gray","bg-dark-blue":e.settings.backgroundColor==="dark-blue","contrast-low":e.settings.contrastLevel==="low","contrast-medium":e.settings.contrastLevel==="medium","contrast-high":e.settings.contrastLevel==="high","contrast-ultra":e.settings.contrastLevel==="ultra"}])},[e.showQuestion?p("",!0):(r(),d("div",X,[e.countdown>0?(r(),d("div",Y,l(e.countdown),1)):e.currentImage?(r(),d("div",Z,[s("div",{class:g(["image-container",{"size-small":e.settings.imageSize==="small","size-medium":e.settings.imageSize==="medium","size-large":e.settings.imageSize==="large","size-extra-large":e.settings.imageSize==="extra-large"}])},[s("div",{class:"stereo-image",style:y({backgroundImage:`url(${e.currentImage.url})`})},[s("div",K,[(r(!0),d(b,null,w(e.currentImage.layers,(i,h)=>(r(),d("div",{key:h,class:g(["depth-layer",{"blur-effect":e.settings.blurEffect,"rotation-effect":e.settings.rotationEffect,"pulse-effect":e.settings.pulseEffect,"anim-slow":e.settings.animationSpeed==="slow","anim-normal":e.settings.animationSpeed==="normal","anim-fast":e.settings.animationSpeed==="fast","anim-instant":e.settings.animationSpeed==="instant"}]),style:y({transform:`translateZ(${i.depth*(e.settings.layerSeparation/20)}px)`,opacity:i.opacity,color:i.color||"#fff",fontSize:i.size||"3rem"})},l(i.content),7))),128))])],4)],2),e.settings.showFocusGuide?(r(),d("div",O,t[39]||(t[39]=[s("div",{class:"guide-dot"},null,-1),s("p",null,"请放松眼睛，让视线穿透图像",-1)]))):p("",!0)])):(r(),d("div",J,t[40]||(t[40]=[s("h3",null,"准备观看下一张3D图",-1),s("p",null,"请放松眼睛，准备进入立体视觉状态",-1)])))])),e.showQuestion?(r(),d("div",W,[t[41]||(t[41]=s("h3",null,"请回答以下问题",-1)),s("div",$,[s("p",null,l(e.currentQuestion.question),1),e.currentQuestion.type==="choice"?(r(),d("div",tt,[(r(!0),d(b,null,w(e.currentQuestion.options,(i,h)=>(r(),d("button",{key:h,class:g(["option-btn",{selected:e.selectedAnswer===h}]),onClick:Ss=>o.selectAnswer(h)},l(i),11,st))),128))])):e.currentQuestion.type==="input"?(r(),d("div",et,[u(s("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=i=>e.textAnswer=i),placeholder:"请输入您看到的内容",onKeyup:t[7]||(t[7]=D((...i)=>o.submitAnswer&&o.submitAnswer(...i),["enter"]))},null,544),[[f,e.textAnswer]])])):e.currentQuestion.type==="draw"?(r(),d("div",it,[s("canvas",{ref:"drawingCanvas",width:"400",height:"300",onMousedown:t[8]||(t[8]=(...i)=>o.startDrawing&&o.startDrawing(...i)),onMousemove:t[9]||(t[9]=(...i)=>o.draw&&o.draw(...i)),onMouseup:t[10]||(t[10]=(...i)=>o.stopDrawing&&o.stopDrawing(...i)),onMouseleave:t[11]||(t[11]=(...i)=>o.stopDrawing&&o.stopDrawing(...i))},null,544),s("div",nt,[s("button",{onClick:t[12]||(t[12]=(...i)=>o.clearCanvas&&o.clearCanvas(...i))},"清除"),s("button",{onClick:t[13]||(t[13]=(...i)=>o.undoLastStroke&&o.undoLastStroke(...i))},"撤销")])])):p("",!0)]),s("button",{class:"submit-btn",onClick:t[14]||(t[14]=(...i)=>o.submitAnswer&&o.submitAnswer(...i)),disabled:!o.canSubmit}," 提交答案 ",8,ot)])):p("",!0)],2),e.settings.showTips?(r(),d("div",lt,t[42]||(t[42]=[s("h4",null,"观看技巧",-1),s("ul",null,[s("li",null,"放松眼部肌肉，不要强行聚焦"),s("li",null,"让视线穿透图像，仿佛看向远方"),s("li",null,"保持耐心，立体效果需要时间显现"),s("li",null,"如果感到眼部疲劳，请适当休息")],-1)]))):p("",!0)])):p("",!0),e.showCompletionModal?(r(),d("div",at,[s("div",rt,[t[47]||(t[47]=s("h2",null,"训练完成！",-1)),s("div",dt,[s("div",ut,[t[43]||(t[43]=s("span",{class:"stat-label"},"完成图像:",-1)),s("span",ct,l(e.completedImages)+"/"+l(e.totalImages),1)]),s("div",pt,[t[44]||(t[44]=s("span",{class:"stat-label"},"总用时:",-1)),s("span",gt,l(o.formatTime(e.totalTime)),1)]),s("div",mt,[t[45]||(t[45]=s("span",{class:"stat-label"},"识别准确率:",-1)),s("span",ht,l(Math.round(e.finalAccuracy))+"%",1)]),s("div",yt,[t[46]||(t[46]=s("span",{class:"stat-label"},"空间感知评级:",-1)),s("span",{class:g(["stat-value","rating-"+e.spatialRating.toLowerCase()])},l(e.spatialRating),3)])]),s("div",vt,[s("button",{class:"secondary-btn",onClick:t[15]||(t[15]=(...i)=>o.restartTraining&&o.restartTraining(...i))},"重新训练"),s("button",{class:"primary-btn",onClick:t[16]||(t[16]=(...i)=>o.finishTraining&&o.finishTraining(...i))},"完成")])])])):p("",!0),e.isTraining?p("",!0):(r(),d("div",ft,[t[75]||(t[75]=s("h2",null,"训练设置",-1)),s("div",bt,[s("div",wt,[t[54]||(t[54]=s("h3",null,"基础设置",-1)),s("div",Tt,[t[48]||(t[48]=s("label",null,"初始显示时间 (秒):",-1)),u(s("input",{type:"range","onUpdate:modelValue":t[17]||(t[17]=i=>e.settings.initialDisplayTime=i),min:"1",max:"10",step:"0.5"},null,512),[[f,e.settings.initialDisplayTime]]),s("span",null,l(e.settings.initialDisplayTime),1)]),s("div",xt,[t[50]||(t[50]=s("label",null,"图像大小:",-1)),u(s("select",{"onUpdate:modelValue":t[18]||(t[18]=i=>e.settings.imageSize=i)},t[49]||(t[49]=[s("option",{value:"small"},"小",-1),s("option",{value:"medium"},"中",-1),s("option",{value:"large"},"大",-1),s("option",{value:"extra-large"},"特大",-1)]),512),[[v,e.settings.imageSize]])]),s("div",kt,[t[52]||(t[52]=s("label",null,"难度等级:",-1)),u(s("select",{"onUpdate:modelValue":t[19]||(t[19]=i=>e.settings.difficulty=i)},t[51]||(t[51]=[s("option",{value:"easy"},"简单",-1),s("option",{value:"medium"},"中等",-1),s("option",{value:"hard"},"困难",-1),s("option",{value:"expert"},"专家",-1)]),512),[[v,e.settings.difficulty]])]),s("div",St,[t[53]||(t[53]=s("label",null,"自动调节难度:",-1)),u(s("input",{type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=i=>e.settings.autoAdjustDifficulty=i)},null,512),[[m,e.settings.autoAdjustDifficulty]])])]),s("div",Ct,[t[62]||(t[62]=s("h3",null,"视觉效果",-1)),s("div",zt,[t[56]||(t[56]=s("label",null,"背景颜色:",-1)),u(s("select",{"onUpdate:modelValue":t[21]||(t[21]=i=>e.settings.backgroundColor=i)},t[55]||(t[55]=[s("option",{value:"black"},"黑色",-1),s("option",{value:"white"},"白色",-1),s("option",{value:"gray"},"灰色",-1),s("option",{value:"dark-blue"},"深蓝色",-1)]),512),[[v,e.settings.backgroundColor]])]),s("div",Dt,[t[57]||(t[57]=s("label",null,"层次间距:",-1)),u(s("input",{type:"range","onUpdate:modelValue":t[22]||(t[22]=i=>e.settings.layerSeparation=i),min:"10",max:"50",step:"5"},null,512),[[f,e.settings.layerSeparation]]),s("span",null,l(e.settings.layerSeparation)+"px",1)]),s("div",It,[t[59]||(t[59]=s("label",null,"对比度:",-1)),u(s("select",{"onUpdate:modelValue":t[23]||(t[23]=i=>e.settings.contrastLevel=i)},t[58]||(t[58]=[s("option",{value:"low"},"低",-1),s("option",{value:"medium"},"中",-1),s("option",{value:"high"},"高",-1),s("option",{value:"ultra"},"超高",-1)]),512),[[v,e.settings.contrastLevel]])]),s("div",Mt,[t[61]||(t[61]=s("label",null,"动画速度:",-1)),u(s("select",{"onUpdate:modelValue":t[24]||(t[24]=i=>e.settings.animationSpeed=i)},t[60]||(t[60]=[s("option",{value:"slow"},"慢",-1),s("option",{value:"normal"},"正常",-1),s("option",{value:"fast"},"快",-1),s("option",{value:"instant"},"瞬间",-1)]),512),[[v,e.settings.animationSpeed]])])]),s("div",_t,[t[68]||(t[68]=s("h3",null,"特效设置",-1)),s("div",At,[t[63]||(t[63]=s("label",null,"模糊效果:",-1)),u(s("input",{type:"checkbox","onUpdate:modelValue":t[25]||(t[25]=i=>e.settings.blurEffect=i)},null,512),[[m,e.settings.blurEffect]])]),s("div",Rt,[t[64]||(t[64]=s("label",null,"旋转效果:",-1)),u(s("input",{type:"checkbox","onUpdate:modelValue":t[26]||(t[26]=i=>e.settings.rotationEffect=i)},null,512),[[m,e.settings.rotationEffect]])]),s("div",qt,[t[65]||(t[65]=s("label",null,"脉冲效果:",-1)),u(s("input",{type:"checkbox","onUpdate:modelValue":t[27]||(t[27]=i=>e.settings.pulseEffect=i)},null,512),[[m,e.settings.pulseEffect]])]),s("div",Pt,[t[66]||(t[66]=s("label",null,"显示聚焦引导:",-1)),u(s("input",{type:"checkbox","onUpdate:modelValue":t[28]||(t[28]=i=>e.settings.showFocusGuide=i)},null,512),[[m,e.settings.showFocusGuide]])]),s("div",Vt,[t[67]||(t[67]=s("label",null,"显示观看技巧:",-1)),u(s("input",{type:"checkbox","onUpdate:modelValue":t[29]||(t[29]=i=>e.settings.showTips=i)},null,512),[[m,e.settings.showTips]])])]),s("div",Qt,[t[74]||(t[74]=s("h3",null,"反馈设置",-1)),s("div",Ut,[t[70]||(t[70]=s("label",null,"反馈类型:",-1)),u(s("select",{"onUpdate:modelValue":t[30]||(t[30]=i=>e.settings.feedbackType=i)},t[69]||(t[69]=[s("option",{value:"visual"},"视觉反馈",-1),s("option",{value:"audio"},"音频反馈",-1),s("option",{value:"both"},"视觉+音频",-1),s("option",{value:"none"},"无反馈",-1)]),512),[[v,e.settings.feedbackType]])]),s("div",Et,[t[71]||(t[71]=s("label",null,"启用音效:",-1)),u(s("input",{type:"checkbox","onUpdate:modelValue":t[31]||(t[31]=i=>e.settings.enableSound=i)},null,512),[[m,e.settings.enableSound]])]),s("div",Lt,[t[72]||(t[72]=s("label",null,"最小显示时间 (秒):",-1)),u(s("input",{type:"range","onUpdate:modelValue":t[32]||(t[32]=i=>e.settings.minDisplayTime=i),min:"0.5",max:"5",step:"0.1"},null,512),[[f,e.settings.minDisplayTime]]),s("span",null,l(e.settings.minDisplayTime),1)]),s("div",Bt,[t[73]||(t[73]=s("label",null,"最大显示时间 (秒):",-1)),u(s("input",{type:"range","onUpdate:modelValue":t[33]||(t[33]=i=>e.settings.maxDisplayTime=i),min:"5",max:"20",step:"0.5"},null,512),[[f,e.settings.maxDisplayTime]]),s("span",null,l(e.settings.maxDisplayTime),1)])])])])),e.isTraining?p("",!0):(r(),d("div",Ft,[t[90]||(t[90]=s("h2",null,"训练统计",-1)),s("div",jt,[t[80]||(t[80]=s("h3",null,"总体表现",-1)),s("div",Nt,[s("div",Gt,[s("div",Ht,l(e.statistics.totalSessions),1),t[76]||(t[76]=s("div",{class:"stat-label"},"训练次数",-1))]),s("div",Xt,[s("div",Yt,l(Math.round(e.statistics.averageAccuracy))+"%",1),t[77]||(t[77]=s("div",{class:"stat-label"},"平均准确率",-1))]),s("div",Zt,[s("div",Kt,l(Math.round(e.statistics.averageTime))+"s",1),t[78]||(t[78]=s("div",{class:"stat-label"},"平均识别时间",-1))]),s("div",Ot,[s("div",Jt,l(o.formatTime(e.statistics.totalTime)),1),t[79]||(t[79]=s("div",{class:"stat-label"},"总训练时长",-1))])])]),s("div",Wt,[t[83]||(t[83]=s("h3",null,"不同模式表现",-1)),s("div",$t,[(r(!0),d(b,null,w(e.trainingModes,i=>(r(),d("div",{class:"performance-item",key:i.id},[s("div",ts,[s("span",ss,l(i.name),1),s("span",es,l(i.difficulty),1)]),s("div",is,[s("div",ns,[t[81]||(t[81]=s("span",{class:"stat-label"},"准确率:",-1)),s("span",os,l(o.getModeAccuracy(i.id))+"%",1)]),s("div",ls,[t[82]||(t[82]=s("span",{class:"stat-label"},"平均时间:",-1)),s("span",as,l(o.getModeTime(i.id))+"s",1)])])]))),128))])]),s("div",rs,[t[89]||(t[89]=s("h3",null,"能力分析",-1)),s("div",ds,[t[88]||(t[88]=s("div",{class:"radar-chart"},[s("div",{class:"chart-placeholder"},[s("p",null,"空间感知能力雷达图"),s("small",null,"显示各项3D视觉能力指标")])],-1)),s("div",us,[s("div",cs,[t[84]||(t[84]=s("span",{class:"ability-name"},"立体视觉",-1)),s("div",ps,[s("div",{class:"ability-progress",style:y({width:e.statistics.stereoVision+"%"})},null,4)]),s("span",gs,l(e.statistics.stereoVision)+"%",1)]),s("div",ms,[t[85]||(t[85]=s("span",{class:"ability-name"},"空间感知",-1)),s("div",hs,[s("div",{class:"ability-progress",style:y({width:e.statistics.spatialPerception+"%"})},null,4)]),s("span",ys,l(e.statistics.spatialPerception)+"%",1)]),s("div",vs,[t[86]||(t[86]=s("span",{class:"ability-name"},"深度判断",-1)),s("div",fs,[s("div",{class:"ability-progress",style:y({width:e.statistics.depthPerception+"%"})},null,4)]),s("span",bs,l(e.statistics.depthPerception)+"%",1)]),s("div",ws,[t[87]||(t[87]=s("span",{class:"ability-name"},"视觉专注",-1)),s("div",Ts,[s("div",{class:"ability-progress",style:y({width:e.statistics.visualFocus+"%"})},null,4)]),s("span",xs,l(e.statistics.visualFocus)+"%",1)])])])])]))])}const Is=I(M,[["render",ks],["__scopeId","data-v-8d4d6910"]]);export{Is as default};
