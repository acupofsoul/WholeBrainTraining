import{k as v,c as I,l as bt,q as yt,o as l,a as d,b as t,n as P,t as n,d as _t,g as M,F as y,h as _,m as ft,s as N,x as ht,y as gt,f as mt,p as wt,L as Mt,A as $t}from"./index-7434e420.js";import{_ as xt}from"./_plugin-vue_export-helper-c27b6911.js";import{P as It}from"./PatternComparisonTest-8e46b4e6.js";const St={class:"spatial-reasoning-test"},Tt={class:"test-content"},Pt={class:"test-header"},At={class:"test-info"},qt={class:"progress-counter"},Dt={key:0,class:"ready-phase"},Ct={key:1,class:"testing-phase"},Lt={class:"question-container"},Rt={class:"question-header"},Ht={class:"question-type"},Bt={class:"question-timer"},Ut={class:"question-content"},Vt={key:0,class:"rotation-question"},jt={class:"original-figure"},Ot={class:"figure-container"},Qt=["innerHTML"],Ft={class:"rotation-info"},Nt={class:"rotation-desc"},Et={key:1,class:"construction-question"},zt={class:"construction-parts"},Jt={class:"parts-container"},Xt=["innerHTML"],Yt={class:"construction-hint"},Gt={class:"hint-text"},Kt={key:2,class:"unfolding-question"},Wt={class:"solid-figure"},Zt={class:"figure-container"},te=["innerHTML"],ee={key:3,class:"combination-question"},se={class:"combination-scenario"},ie={class:"scenario-container"},ae=["innerHTML"],oe={class:"combination-task"},ne={class:"answer-options"},le={class:"options-grid"},de=["onClick","disabled"],re={class:"option-label"},ce=["innerHTML"],ue={class:"question-actions"},ve=["disabled"],pe=["disabled"],he={key:0,class:"hint-panel"},ge={class:"hint-content"},me={key:1,class:"answer-explanation"},be={class:"explanation-header"},ye={class:"result-text"},_e={class:"explanation-content"},fe={key:2,class:"results-phase"},xe={class:"results-container"},ke={class:"final-stats"},we={class:"stat-card"},Me={class:"stat-value"},$e={class:"stat-card"},Ie={class:"stat-value"},Se={class:"stat-card"},Te={class:"stat-value"},Pe={class:"stat-card"},Ae={class:"stat-value"},qe={class:"spatial-analysis"},De={class:"analysis-radar"},Ce={width:"300",height:"300",viewBox:"0 0 300 300"},Le={transform:"translate(150,150)"},Re={class:"radar-grid"},He=["r"],Be=["x2","y2"],Ue=["points"],Ve=["cx","cy"],je=["x","y"],Oe={class:"ability-details"},Qe={class:"ability-header"},Fe={class:"ability-name"},Ne={class:"ability-score"},Ee={class:"ability-bar"},ze={class:"ability-feedback"},Je={class:"detailed-results"},Xe={class:"question-results"},Ye={class:"result-header"},Ge={class:"question-number"},Ke={class:"question-type-label"},We={class:"result-details"},Ze={class:"time-used"},ts={class:"difficulty-level"},es={class:"points-earned"},ss={__name:"SpatialReasoningTest",props:{testData:{type:Object,required:!0},settings:{type:Object,required:!0}},emits:["answer-submitted","test-completed"],setup(vt,{emit:pt}){const T=vt,g=pt,R=v("ready"),D=v(0),b=v(15),k=v(900),A=v(90),H=v(null),m=v(null),O=v(0),C=v(0),f=v(null),h=v(!1),q=v(!1),B=v(!1),$=v([]),E=v(0),S=v([]),u=I(()=>S.value[D.value]||{}),U=I(()=>$.value.filter(r=>r.correct).length),Q=I(()=>$.value.length>0?Math.round(U.value/$.value.length*100):0),z=I(()=>$.value.reduce((r,s)=>r+s.points,0)),J=I(()=>{const r=Q.value;return r>=90?"ä¼˜ç§€":r>=80?"è‰¯å¥½":r>=70?"ä¸€èˆ¬":"éœ€æ”¹è¿›"}),x=I(()=>{const r={rotation:{correct:0,total:0,name:"æ—‹è½¬èƒ½åŠ›"},construction:{correct:0,total:0,name:"æ„é€ èƒ½åŠ›"},unfolding:{correct:0,total:0,name:"å±•å¼€èƒ½åŠ›"},combination:{correct:0,total:0,name:"ç»„åˆèƒ½åŠ›"}};return $.value.forEach(s=>{r[s.type]&&(r[s.type].total++,s.correct&&r[s.type].correct++)}),Object.entries(r).map(([s,o])=>{const c=o.total>0?Math.round(o.correct/o.total*100):0;return{type:s,name:o.name,score:c,feedback:rt(s,c)}}).filter(s=>s.score>0)}),st=I(()=>x.value.map((r,s)=>{const o=s*2*Math.PI/x.value.length-Math.PI/2,c=r.score/100*100,w=Math.cos(o)*c,L=Math.sin(o)*c;return`${w},${L}`}).join(" ")),it=I(()=>x.value.map((r,s)=>{const o=s*2*Math.PI/x.value.length-Math.PI/2,c=r.score/100*100;return{x:Math.cos(o)*c,y:Math.sin(o)*c}})),at={rotation:[{question:"ä¸‹é¢å“ªä¸ªå›¾å½¢æ˜¯åŸå›¾å½¢é¡ºæ—¶é’ˆæ—‹è½¬90åº¦åçš„ç»“æœï¼Ÿ",originalFigure:'<div style="width:60px;height:60px;background:linear-gradient(45deg, #4a90e2 50%, transparent 50%);border:2px solid #333;"></div>',rotationDesc:"é¡ºæ—¶é’ˆæ—‹è½¬90åº¦",options:['<div style="width:60px;height:60px;background:linear-gradient(135deg, #4a90e2 50%, transparent 50%);border:2px solid #333;"></div>','<div style="width:60px;height:60px;background:linear-gradient(-45deg, #4a90e2 50%, transparent 50%);border:2px solid #333;"></div>','<div style="width:60px;height:60px;background:linear-gradient(225deg, #4a90e2 50%, transparent 50%);border:2px solid #333;"></div>','<div style="width:60px;height:60px;background:linear-gradient(315deg, #4a90e2 50%, transparent 50%);border:2px solid #333;"></div>'],correctAnswer:1,explanation:"åŸå›¾å½¢çš„å¯¹è§’çº¿ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬90åº¦åå˜ä¸ºä»å³ä¸Šåˆ°å·¦ä¸‹ã€‚",hint:"æƒ³è±¡å›¾å½¢ç»•ä¸­å¿ƒç‚¹é¡ºæ—¶é’ˆè½¬åŠ¨90åº¦çš„æ ·å­ã€‚",difficulty:"easy"},{question:"ä¸‹é¢å“ªä¸ªå›¾å½¢æ˜¯åŸå›¾å½¢é€†æ—¶é’ˆæ—‹è½¬180åº¦åçš„ç»“æœï¼Ÿ",originalFigure:'<div style="width:60px;height:60px;background:#4a90e2;clip-path:polygon(0 0, 100% 0, 50% 100%);border:2px solid #333;"></div>',rotationDesc:"é€†æ—¶é’ˆæ—‹è½¬180åº¦",options:['<div style="width:60px;height:60px;background:#4a90e2;clip-path:polygon(50% 0, 0 100%, 100% 100%);border:2px solid #333;"></div>','<div style="width:60px;height:60px;background:#4a90e2;clip-path:polygon(0 0, 100% 50%, 0 100%);border:2px solid #333;"></div>','<div style="width:60px;height:60px;background:#4a90e2;clip-path:polygon(0 50%, 100% 0, 100% 100%);border:2px solid #333;"></div>','<div style="width:60px;height:60px;background:#4a90e2;clip-path:polygon(0 0, 100% 0, 50% 100%);border:2px solid #333;"></div>'],correctAnswer:0,explanation:"ä¸‰è§’å½¢é¡¶ç‚¹å‘ä¸Šï¼Œæ—‹è½¬180åº¦åé¡¶ç‚¹å‘ä¸‹ã€‚",hint:"180åº¦æ—‹è½¬ç›¸å½“äºä¸Šä¸‹é¢ å€’ã€‚",difficulty:"medium"}],construction:[{question:"ç”¨ä¸‹é¢çš„éƒ¨ä»¶èƒ½ç»„æˆä»€ä¹ˆç«‹ä½“å›¾å½¢ï¼Ÿ",parts:['<div style="width:40px;height:40px;background:#ff6b6b;border:2px solid #333;"></div>','<div style="width:40px;height:40px;background:#4ecdc4;border:2px solid #333;"></div>','<div style="width:40px;height:40px;background:#45b7d1;border:2px solid #333;"></div>','<div style="width:40px;height:40px;background:#96ceb4;border:2px solid #333;"></div>'],options:['<div style="width:80px;height:80px;background:linear-gradient(45deg, #ff6b6b 25%, #4ecdc4 25%, #4ecdc4 50%, #45b7d1 50%, #45b7d1 75%, #96ceb4 75%);border:2px solid #333;"></div>','<div style="width:80px;height:40px;background:linear-gradient(to right, #ff6b6b 25%, #4ecdc4 25%, #4ecdc4 50%, #45b7d1 50%, #45b7d1 75%, #96ceb4 75%);border:2px solid #333;"></div>','<div style="width:40px;height:80px;background:linear-gradient(to bottom, #ff6b6b 25%, #4ecdc4 25%, #4ecdc4 50%, #45b7d1 50%, #45b7d1 75%, #96ceb4 75%);border:2px solid #333;"></div>','<div style="width:60px;height:60px;background:radial-gradient(circle, #ff6b6b 20%, #4ecdc4 20%, #4ecdc4 40%, #45b7d1 40%, #45b7d1 60%, #96ceb4 60%);border:2px solid #333;"></div>'],correctAnswer:0,explanation:"å››ä¸ªæ­£æ–¹å½¢å¯ä»¥ç»„æˆä¸€ä¸ª2Ã—2çš„å¤§æ­£æ–¹å½¢ã€‚",hint:"è€ƒè™‘å¦‚ä½•å°†å››ä¸ªç›¸åŒå¤§å°çš„æ­£æ–¹å½¢æ‹¼æ¥åœ¨ä¸€èµ·ã€‚",difficulty:"easy"}],unfolding:[{question:"ä¸‹é¢å“ªä¸ªæ˜¯æ­£æ–¹ä½“çš„æ­£ç¡®å±•å¼€å›¾ï¼Ÿ",solidFigure:'<div style="width:60px;height:60px;background:linear-gradient(135deg, #4a90e2 50%, #357abd 50%);border:2px solid #333;position:relative;"><div style="position:absolute;top:-10px;left:10px;width:40px;height:10px;background:#2c5aa0;transform:skewX(-45deg);"></div><div style="position:absolute;top:10px;right:-10px;width:10px;height:40px;background:#1e3a5f;transform:skewY(-45deg);"></div></div>',options:['<div style="display:grid;grid-template-columns:repeat(4,20px);grid-template-rows:repeat(3,20px);gap:1px;"><div style="grid-column:2;grid-row:1;background:#4a90e2;border:1px solid #333;"></div><div style="grid-column:1/5;grid-row:2;background:#4a90e2;border:1px solid #333;"></div><div style="grid-column:2;grid-row:3;background:#4a90e2;border:1px solid #333;"></div></div>','<div style="display:grid;grid-template-columns:repeat(3,20px);grid-template-rows:repeat(4,20px);gap:1px;"><div style="grid-column:1;grid-row:2;background:#4a90e2;border:1px solid #333;"></div><div style="grid-column:2;grid-row:1/5;background:#4a90e2;border:1px solid #333;"></div><div style="grid-column:3;grid-row:2;background:#4a90e2;border:1px solid #333;"></div></div>','<div style="display:grid;grid-template-columns:repeat(3,20px);grid-template-rows:repeat(3,20px);gap:1px;"><div style="grid-column:1/4;grid-row:1;background:#4a90e2;border:1px solid #333;"></div><div style="grid-column:1/4;grid-row:2;background:#4a90e2;border:1px solid #333;"></div></div>','<div style="display:grid;grid-template-columns:repeat(2,20px);grid-template-rows:repeat(3,20px);gap:1px;"><div style="grid-column:1/3;grid-row:1/4;background:#4a90e2;border:1px solid #333;"></div></div>'],correctAnswer:0,explanation:"æ­£æ–¹ä½“æœ‰6ä¸ªé¢ï¼Œå±•å¼€å›¾åº”è¯¥æ˜¯åå­—å½¢ï¼ŒåŒ…å«ä¸€ä¸ªä¸­å¿ƒé¢å’Œå››ä¸ªç›¸é‚»é¢ï¼Œä»¥åŠä¸€ä¸ªå¯¹é¢ã€‚",hint:"æ­£æ–¹ä½“å±•å¼€å›¾é€šå¸¸å‘ˆåå­—å½¢æˆ–Tå­—å½¢ã€‚",difficulty:"medium"}],combination:[{question:"å¦‚æœå°†å›¾å½¢Aæ”¾åœ¨å›¾å½¢Bçš„ä¸Šæ–¹ï¼Œä¼šå½¢æˆä»€ä¹ˆæ ·çš„ç»„åˆï¼Ÿ",scenario:'<div style="display:flex;gap:20px;align-items:center;"><div style="text-align:center;"><div style="margin-bottom:5px;">å›¾å½¢A</div><div style="width:40px;height:40px;background:#ff6b6b;border-radius:50%;border:2px solid #333;"></div></div><div style="font-size:20px;">+</div><div style="text-align:center;"><div style="margin-bottom:5px;">å›¾å½¢B</div><div style="width:40px;height:40px;background:#4ecdc4;border:2px solid #333;"></div></div></div>',task:"é€‰æ‹©æ­£ç¡®çš„ç»„åˆç»“æœï¼š",options:['<div style="position:relative;width:40px;height:60px;"><div style="position:absolute;bottom:0;width:40px;height:40px;background:#4ecdc4;border:2px solid #333;"></div><div style="position:absolute;top:0;left:0;width:40px;height:40px;background:#ff6b6b;border-radius:50%;border:2px solid #333;"></div></div>','<div style="position:relative;width:60px;height:40px;"><div style="position:absolute;left:0;width:40px;height:40px;background:#4ecdc4;border:2px solid #333;"></div><div style="position:absolute;right:0;width:40px;height:40px;background:#ff6b6b;border-radius:50%;border:2px solid #333;"></div></div>','<div style="position:relative;width:40px;height:40px;"><div style="position:absolute;width:40px;height:40px;background:#4ecdc4;border:2px solid #333;"></div><div style="position:absolute;width:40px;height:40px;background:#ff6b6b;border-radius:50%;border:2px solid #333;opacity:0.7;"></div></div>','<div style="display:flex;gap:5px;"><div style="width:40px;height:40px;background:#ff6b6b;border-radius:50%;border:2px solid #333;"></div><div style="width:40px;height:40px;background:#4ecdc4;border:2px solid #333;"></div></div>'],correctAnswer:0,explanation:"åœ†å½¢Aæ”¾åœ¨æ­£æ–¹å½¢Bçš„ä¸Šæ–¹ï¼Œå½¢æˆå‚ç›´å åŠ çš„ç»„åˆã€‚",hint:"æ³¨æ„é¢˜ç›®è¯´çš„æ˜¯'ä¸Šæ–¹'ï¼Œä¸æ˜¯'æ—è¾¹'æˆ–'é‡å 'ã€‚",difficulty:"easy"}]},ot=()=>{R.value="testing",X(),O.value=Date.now(),nt(),Y()},X=()=>{const r=T.settings.difficulty,s={easy:{total:12,distribution:{easy:.7,medium:.3,hard:0}},medium:{total:15,distribution:{easy:.4,medium:.5,hard:.1}},hard:{total:18,distribution:{easy:.2,medium:.5,hard:.3}},expert:{total:20,distribution:{easy:.1,medium:.4,hard:.5}}},o=s[r]||s.medium;b.value=o.total,S.value=[];const c=["rotation","construction","unfolding","combination"];for(let w=0;w<b.value;w++){const L=c[w%c.length],a=at[L],e=a[Math.floor(Math.random()*a.length)];S.value.push({...e,type:L,id:w})}S.value=S.value.sort(()=>Math.random()-.5)},nt=()=>{H.value=setInterval(()=>{k.value--,k.value<=0&&Z()},1e3)},Y=()=>{C.value=Date.now(),A.value=K(),m.value=setInterval(()=>{A.value--,A.value<=0&&(f.value===null&&(f.value=-1),W())},1e3)},G=()=>{H.value&&(clearInterval(H.value),H.value=null),m.value&&(clearInterval(m.value),m.value=null)},K=()=>{const r=u.value.difficulty;return{easy:90,medium:120,hard:150}[r]||120},F=r=>{h.value||(f.value=r)},lt=()=>{q.value=!0,E.value++},W=()=>{m.value&&clearInterval(m.value);const r=Math.round((Date.now()-C.value)/1e3),s=f.value===u.value.correctAnswer;B.value=s;let o=0;if(s){o={easy:6,medium:10,hard:15}[u.value.difficulty]||10;const L=Math.max(0,A.value/K()*3);o+=Math.round(L),q.value&&(o=Math.round(o*.7))}const c={questionId:u.value.id,type:u.value.type,difficulty:u.value.difficulty,correct:s,selectedAnswer:f.value,correctAnswer:u.value.correctAnswer,timeUsed:r,points:o,usedHint:q.value};$.value.push(c),h.value=!0,g("answer-submitted",c)},dt=()=>{D.value<b.value-1?(D.value++,f.value=null,h.value=!1,q.value=!1,Y()):Z()},Z=()=>{G(),R.value="results";const r={totalScore:z.value,correctCount:U.value,totalQuestions:b.value,accuracy:Q.value,spatialLevel:J.value,timeUsed:900-k.value,usedHints:E.value,difficulty:T.settings.difficulty,spatialAbilities:x.value,questionResults:$.value};setTimeout(()=>{g("test-completed",r)},3e3)},tt=r=>({rotation:"å›¾å½¢æ—‹è½¬",construction:"ç«‹ä½“æ„é€ ",unfolding:"å±•å¼€å›¾",combination:"ç©ºé—´ç»„åˆ"})[r]||r,et=r=>({easy:"ç®€å•",medium:"ä¸­ç­‰",hard:"å›°éš¾",expert:"ä¸“å®¶"})[r]||r,rt=(r,s)=>{var w;const o={rotation:{high:"å›¾å½¢æ—‹è½¬èƒ½åŠ›ä¼˜ç§€ï¼Œç©ºé—´æƒ³è±¡åŠ›å¼ºã€‚",medium:"å›¾å½¢æ—‹è½¬èƒ½åŠ›è‰¯å¥½ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜ã€‚",low:"å›¾å½¢æ—‹è½¬èƒ½åŠ›éœ€è¦åŠ å¼ºï¼Œå»ºè®®å¤šåšæ—‹è½¬ç»ƒä¹ ã€‚"},construction:{high:"ç«‹ä½“æ„é€ èƒ½åŠ›ä¼˜ç§€ï¼Œä¸‰ç»´æ€ç»´æ¸…æ™°ã€‚",medium:"ç«‹ä½“æ„é€ èƒ½åŠ›è‰¯å¥½ï¼Œç»§ç»­ä¿æŒã€‚",low:"ç«‹ä½“æ„é€ èƒ½åŠ›éœ€è¦æé«˜ï¼Œå»ºè®®åŠ å¼ºç©ºé—´è®­ç»ƒã€‚"},unfolding:{high:"å±•å¼€å›¾ç†è§£èƒ½åŠ›ä¼˜ç§€ï¼Œç©ºé—´è½¬æ¢èƒ½åŠ›å¼ºã€‚",medium:"å±•å¼€å›¾ç†è§£èƒ½åŠ›è‰¯å¥½ï¼Œæ€è·¯æ¯”è¾ƒæ¸…æ™°ã€‚",low:"å±•å¼€å›¾ç†è§£èƒ½åŠ›éœ€è¦æ”¹å–„ï¼Œå»ºè®®å¤šç»ƒä¹ ç«‹ä½“å›¾å½¢ã€‚"},combination:{high:"ç©ºé—´ç»„åˆèƒ½åŠ›ä¼˜ç§€ï¼Œèƒ½å¤Ÿå‡†ç¡®ç†è§£ç©ºé—´å…³ç³»ã€‚",medium:"ç©ºé—´ç»„åˆèƒ½åŠ›è‰¯å¥½ï¼Œç©ºé—´æ„ŸçŸ¥åŠ›ä¸é”™ã€‚",low:"ç©ºé—´ç»„åˆèƒ½åŠ›éœ€è¦æå‡ï¼Œå»ºè®®å¤šåšç»„åˆç»ƒä¹ ã€‚"}},c=s>=80?"high":s>=60?"medium":"low";return((w=o[r])==null?void 0:w[c])||"éœ€è¦æ›´å¤šç»ƒä¹ æ¥æé«˜èƒ½åŠ›ã€‚"},ct=r=>{const s=Math.floor(r/60),o=r%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`};return bt(()=>{const r=T.settings.difficulty,s={easy:{duration:720},medium:{duration:900},hard:{duration:1080},expert:{duration:1200}},o=s[r]||s.medium;k.value=o.duration}),yt(()=>{G()}),(r,s)=>(l(),d("div",St,[t("div",Tt,[t("div",Pt,[s[0]||(s[0]=t("h3",null,"ç©ºé—´æ¨ç†æµ‹è¯•",-1)),t("div",At,[t("span",{class:P(["timer",{warning:k.value<60}])}," å‰©ä½™æ—¶é—´: "+n(ct(k.value)),3),t("span",qt,n(D.value+1)+" / "+n(b.value),1)])]),R.value==="ready"?(l(),d("div",Dt,[s[1]||(s[1]=_t('<div class="instructions" data-v-7a545a3b><h4 data-v-7a545a3b>æµ‹è¯•è¯´æ˜</h4><p data-v-7a545a3b>è¿™æ˜¯ä¸€ä¸ªç©ºé—´æ¨ç†èƒ½åŠ›æµ‹è¯•ï¼Œå°†è¯„ä¼°æ‚¨çš„ä¸‰ç»´ç©ºé—´æƒ³è±¡å’Œæ¨ç†èƒ½åŠ›ã€‚</p><p data-v-7a545a3b>æµ‹è¯•åŒ…å«å›¾å½¢æ—‹è½¬ã€ç©ºé—´æŠ˜å ã€ç«‹ä½“æ„é€ ç­‰å¤šç§ç±»å‹çš„é¢˜ç›®ã€‚</p><p data-v-7a545a3b>è¯·ä»”ç»†è§‚å¯Ÿå›¾å½¢ï¼Œè¿ç”¨ç©ºé—´æƒ³è±¡åŠ›é€‰æ‹©æ­£ç¡®ç­”æ¡ˆã€‚</p></div><div class="test-types" data-v-7a545a3b><h5 data-v-7a545a3b>æµ‹è¯•ç±»å‹ï¼š</h5><div class="type-grid" data-v-7a545a3b><div class="type-card" data-v-7a545a3b><div class="type-icon" data-v-7a545a3b>ğŸ”„</div><div class="type-name" data-v-7a545a3b>å›¾å½¢æ—‹è½¬</div><div class="type-desc" data-v-7a545a3b>è¯†åˆ«æ—‹è½¬åçš„å›¾å½¢</div></div><div class="type-card" data-v-7a545a3b><div class="type-icon" data-v-7a545a3b>ğŸ“¦</div><div class="type-name" data-v-7a545a3b>ç«‹ä½“æ„é€ </div><div class="type-desc" data-v-7a545a3b>åˆ†æä¸‰ç»´ç‰©ä½“ç»“æ„</div></div><div class="type-card" data-v-7a545a3b><div class="type-icon" data-v-7a545a3b>ğŸ“„</div><div class="type-name" data-v-7a545a3b>å±•å¼€å›¾</div><div class="type-desc" data-v-7a545a3b>åˆ¤æ–­ç«‹ä½“å›¾å½¢å±•å¼€</div></div><div class="type-card" data-v-7a545a3b><div class="type-icon" data-v-7a545a3b>ğŸ§©</div><div class="type-name" data-v-7a545a3b>ç©ºé—´ç»„åˆ</div><div class="type-desc" data-v-7a545a3b>ç»„åˆå›¾å½¢ç©ºé—´å…³ç³»</div></div></div></div>',2)),t("button",{class:"btn-primary",onClick:ot},"å¼€å§‹æµ‹è¯•")])):M("",!0),R.value==="testing"?(l(),d("div",Ct,[t("div",Lt,[t("div",Rt,[t("div",Ht,[t("span",{class:P(["type-badge",u.value.type])},n(tt(u.value.type)),3),t("span",{class:P(["difficulty-badge",u.value.difficulty])},n(et(u.value.difficulty)),3)]),t("div",Bt,[t("div",{class:P(["timer-circle",{warning:A.value<10}])},n(A.value),3)])]),t("div",Ut,[t("h4",null,n(u.value.question),1),u.value.type==="rotation"?(l(),d("div",Vt,[t("div",jt,[s[2]||(s[2]=t("h5",null,"åŸå›¾å½¢ï¼š",-1)),t("div",Ot,[t("div",{class:"spatial-figure",innerHTML:u.value.originalFigure},null,8,Qt)])]),t("div",Ft,[s[3]||(s[3]=t("span",{class:"rotation-label"},"æ—‹è½¬æ“ä½œï¼š",-1)),t("span",Nt,n(u.value.rotationDesc),1)])])):M("",!0),u.value.type==="construction"?(l(),d("div",Et,[t("div",zt,[s[4]||(s[4]=t("h5",null,"ç»„æˆéƒ¨åˆ†ï¼š",-1)),t("div",Jt,[(l(!0),d(y,null,_(u.value.parts,(o,c)=>(l(),d("div",{key:c,class:"part-item"},[t("div",{class:"spatial-figure",innerHTML:o},null,8,Xt)]))),128))])]),t("div",Yt,[s[5]||(s[5]=t("span",{class:"hint-label"},"æç¤ºï¼š",-1)),t("span",Gt,n(u.value.hint),1)])])):M("",!0),u.value.type==="unfolding"?(l(),d("div",Kt,[t("div",Wt,[s[6]||(s[6]=t("h5",null,"ç«‹ä½“å›¾å½¢ï¼š",-1)),t("div",Zt,[t("div",{class:"spatial-figure solid",innerHTML:u.value.solidFigure},null,8,te)])]),s[7]||(s[7]=t("div",{class:"unfolding-instruction"},[t("p",null,"è¯·é€‰æ‹©è¯¥ç«‹ä½“å›¾å½¢çš„æ­£ç¡®å±•å¼€å›¾ï¼š")],-1))])):M("",!0),u.value.type==="combination"?(l(),d("div",ee,[t("div",se,[s[8]||(s[8]=t("h5",null,"ç©ºé—´åœºæ™¯ï¼š",-1)),t("div",ie,[t("div",{class:"spatial-figure",innerHTML:u.value.scenario},null,8,ae)])]),t("div",oe,[t("p",null,n(u.value.task),1)])])):M("",!0)]),t("div",ne,[t("div",le,[(l(!0),d(y,null,_(u.value.options,(o,c)=>(l(),d("button",{key:c,class:P(["option-button",{selected:f.value===c,correct:h.value&&c===u.value.correctAnswer,incorrect:h.value&&f.value===c&&c!==u.value.correctAnswer}]),onClick:w=>F(c),disabled:h.value},[t("div",re,n(String.fromCharCode(65+c)),1),t("div",{class:"option-figure",innerHTML:o},null,8,ce)],10,de))),128))])]),t("div",ue,[t("button",{class:"btn-hint",onClick:lt,disabled:q.value||!u.value.hint}," ğŸ’¡ æç¤º ",8,ve),t("button",{class:"btn-submit",onClick:W,disabled:f.value===null||h.value}," æäº¤ç­”æ¡ˆ ",8,pe),h.value?(l(),d("button",{key:0,class:"btn-next",onClick:dt},n(D.value<b.value-1?"ä¸‹ä¸€é¢˜":"å®Œæˆæµ‹è¯•"),1)):M("",!0)]),q.value&&u.value.hint?(l(),d("div",he,[s[9]||(s[9]=t("div",{class:"hint-header"},[t("span",{class:"hint-icon"},"ğŸ’¡"),t("span",{class:"hint-title"},"è§£é¢˜æç¤º")],-1)),t("div",ge,n(u.value.hint),1)])):M("",!0),h.value?(l(),d("div",me,[t("div",be,[t("span",{class:P(["result-icon",{correct:B.value,incorrect:!B.value}])},n(B.value?"âœ“":"âœ—"),3),t("span",ye,n(B.value?"å›ç­”æ­£ç¡®ï¼":"å›ç­”é”™è¯¯ï¼"),1)]),t("div",_e,[s[10]||(s[10]=t("h5",null,"è§£æï¼š",-1)),t("p",null,n(u.value.explanation),1)])])):M("",!0)])])):M("",!0),R.value==="results"?(l(),d("div",fe,[t("div",xe,[s[17]||(s[17]=t("h3",null,"ç©ºé—´æ¨ç†æµ‹è¯•å®Œæˆ",-1)),t("div",ke,[t("div",we,[t("div",Me,n(z.value),1),s[11]||(s[11]=t("div",{class:"stat-label"},"æ€»å¾—åˆ†",-1))]),t("div",$e,[t("div",Ie,n(U.value)+" / "+n(b.value),1),s[12]||(s[12]=t("div",{class:"stat-label"},"æ­£ç¡®é¢˜æ•°",-1))]),t("div",Se,[t("div",Te,n(Q.value)+"%",1),s[13]||(s[13]=t("div",{class:"stat-label"},"å‡†ç¡®ç‡",-1))]),t("div",Pe,[t("div",Ae,n(J.value),1),s[14]||(s[14]=t("div",{class:"stat-label"},"ç©ºé—´èƒ½åŠ›ç­‰çº§",-1))])]),t("div",qe,[s[15]||(s[15]=t("h4",null,"ç©ºé—´èƒ½åŠ›åˆ†æ",-1)),t("div",De,[(l(),d("svg",Ce,[t("g",Le,[t("g",Re,[(l(),d(y,null,_(5,o=>t("circle",{key:o,r:o*20,fill:"none",stroke:"#e0e0e0","stroke-width":"1"},null,8,He)),64)),(l(!0),d(y,null,_(x.value,(o,c)=>(l(),d("line",{key:c,x1:0,y1:0,x2:Math.cos(c*2*Math.PI/x.value.length-Math.PI/2)*100,y2:Math.sin(c*2*Math.PI/x.value.length-Math.PI/2)*100,stroke:"#e0e0e0","stroke-width":"1"},null,8,Be))),128))]),t("polygon",{points:st.value,fill:"rgba(74, 144, 226, 0.3)",stroke:"#4a90e2","stroke-width":"2"},null,8,Ue),(l(!0),d(y,null,_(it.value,(o,c)=>(l(),d("circle",{key:c,cx:o.x,cy:o.y,r:"4",fill:"#4a90e2"},null,8,Ve))),128)),(l(!0),d(y,null,_(x.value,(o,c)=>(l(),d("text",{key:c,x:Math.cos(c*2*Math.PI/x.value.length-Math.PI/2)*120,y:Math.sin(c*2*Math.PI/x.value.length-Math.PI/2)*120,"text-anchor":"middle","dominant-baseline":"middle","font-size":"12",fill:"#333"},n(o.name),9,je))),128))])]))]),t("div",Oe,[(l(!0),d(y,null,_(x.value,o=>(l(),d("div",{key:o.type,class:"ability-item"},[t("div",Qe,[t("span",Fe,n(o.name),1),t("span",Ne,n(o.score)+"%",1)]),t("div",Ee,[t("div",{class:"ability-fill",style:ft({width:o.score+"%"})},null,4)]),t("div",ze,n(o.feedback),1)]))),128))])]),t("div",Je,[s[16]||(s[16]=t("h4",null,"è¯¦ç»†ç»“æœ",-1)),t("div",Xe,[(l(!0),d(y,null,_($.value,(o,c)=>(l(),d("div",{key:c,class:"question-result"},[t("div",Ye,[t("span",Ge,"ç¬¬ "+n(c+1)+" é¢˜",1),t("span",Ke,n(tt(o.type)),1),t("span",{class:P(["result-status",{correct:o.correct,incorrect:!o.correct}])},n(o.correct?"âœ“":"âœ—"),3)]),t("div",We,[t("span",Ze,"ç”¨æ—¶: "+n(o.timeUsed)+"s",1),t("span",ts,"éš¾åº¦: "+n(et(o.difficulty)),1),t("span",es,"å¾—åˆ†: "+n(o.points),1)])]))),128))])])])])):M("",!0)])]))}},is=xt(ss,[["__scopeId","data-v-7a545a3b"]]);const as={class:"spatial-assessment"},os={class:"assessment-container"},ns={key:0,class:"setup-phase"},ls={class:"setup-content"},ds={class:"settings-grid"},rs={class:"setting-group"},cs={class:"difficulty-options"},us=["value"],vs={class:"option-content"},ps={class:"option-title"},hs={class:"option-desc"},gs={class:"setting-group"},ms={class:"module-options"},bs=["value"],ys={class:"option-content"},_s={class:"option-title"},fs={class:"module-icon"},xs={class:"option-desc"},ks={class:"setting-group"},ws={class:"personal-settings"},Ms={class:"setting-item"},$s={class:"setting-item"},Is={class:"setting-item"},Ss={class:"setup-actions"},Ts=["disabled"],Ps={key:1,class:"testing-phase"},As={class:"test-header"},qs={class:"test-progress"},Ds={class:"progress-bar"},Cs={class:"progress-text"},Ls={key:2,class:"results-phase"},Rs={class:"results-header"},Hs={class:"overall-score"},Bs={class:"score-circle"},Us={viewBox:"0 0 100 100"},Vs=["stroke-dashoffset"],js={class:"score-text"},Os={class:"score-number"},Qs={class:"detailed-results"},Fs={class:"results-grid"},Ns={class:"result-header"},Es={class:"result-icon"},zs={class:"result-details"},Js={class:"detail-item"},Xs={class:"detail-value"},Ys={class:"detail-item"},Gs={class:"detail-value"},Ks={class:"detail-item"},Ws={class:"detail-value"},Zs={class:"result-feedback"},ti={class:"spatial-analysis"},ei={class:"analysis-chart"},si={class:"radar-container"},ii={viewBox:"0 0 300 300",class:"radar-svg"},ai={class:"radar-grid"},oi=["points"],ni=["x2","y2"],li=["points"],di=["cx","cy"],ri=["x","y"],ci={class:"improvement-suggestions"},ui={class:"suggestions-list"},vi={class:"suggestion-header"},pi={class:"suggestion-icon"},hi={class:"suggestion-desc"},gi={class:"suggestion-actions"},mi=["onClick"],bi={class:"results-actions"},yi={__name:"SpatialAssessment",emits:["go-back"],setup(vt,{emit:pt}){const T=v("setup"),g=v({difficulty:"medium",duration:"medium",selectedModules:["spatial-reasoning","pattern-comparison","3d-rotation","spatial-memory"],feedbackMode:"delayed",enable3DView:!0}),R=v([{value:"easy",label:"ç®€å•",description:"åŸºç¡€ç©ºé—´æ¦‚å¿µï¼Œé€‚åˆåˆå­¦è€…"},{value:"medium",label:"ä¸­ç­‰",description:"æ ‡å‡†ç©ºé—´æ¨ç†ï¼Œé€‚åˆä¸€èˆ¬ç”¨æˆ·"},{value:"hard",label:"å›°éš¾",description:"å¤æ‚ç©ºé—´å˜æ¢ï¼Œé€‚åˆé«˜æ°´å¹³ç”¨æˆ·"},{value:"expert",label:"ä¸“å®¶",description:"æå…·æŒ‘æˆ˜æ€§çš„ç©ºé—´é—®é¢˜"}]),D=v([{id:"spatial-reasoning",name:"ç©ºé—´æ¨ç†",icon:"ğŸ§©",description:"è¯„ä¼°ä¸‰ç»´ç©ºé—´ä¸­çš„é€»è¾‘æ¨ç†èƒ½åŠ›",component:is},{id:"pattern-comparison",name:"å›¾å½¢æ¯”è¾ƒ",icon:"ğŸ”",description:"æµ‹è¯•å›¾å½¢è¯†åˆ«å’Œæ¯”è¾ƒèƒ½åŠ›",component:It},{id:"3d-rotation",name:"3Dæ—‹è½¬",icon:"ğŸ”„",description:"è¯„ä¼°ä¸‰ç»´å›¾å½¢çš„å¿ƒç†æ—‹è½¬èƒ½åŠ›",component:null},{id:"spatial-memory",name:"ç©ºé—´è®°å¿†",icon:"ğŸ—ºï¸",description:"æµ‹è¯•ç©ºé—´ä½ç½®çš„è®°å¿†èƒ½åŠ›",component:null}]),b=v(0),k=v(null),A=v(null),H=v(null),m=v([]),O=v(null),C=v(0),f=v(null),h=v([{name:"ç©ºé—´æ¨ç†",score:0},{name:"å›¾å½¢è¯†åˆ«",score:0},{name:"3Dæ—‹è½¬",score:0},{name:"ç©ºé—´è®°å¿†",score:0},{name:"ç«‹ä½“æ„ŸçŸ¥",score:0}]),q=v([]),B=I(()=>g.value.selectedModules.length>0),$=I(()=>g.value.selectedModules.length),E=I(()=>$.value===0?0:b.value/$.value*100),S=I(()=>{if(m.value.length===0)return 0;const a=m.value.reduce((e,i)=>e+i.score,0);return Math.round(a/m.value.length)}),u=()=>{T.value="testing",b.value=0,m.value=[],O.value=Date.now();const a={short:15*60,medium:20*60,long:25*60};C.value=a[g.value.duration],K(),U()},U=()=>{if(b.value>=g.value.selectedModules.length){X();return}const a=g.value.selectedModules[b.value],e=D.value.find(i=>i.id===a);e&&e.component?(k.value=e,A.value=e.component,H.value=Q(e.id)):(b.value++,U())},Q=a=>{const i={"spatial-reasoning":z,"pattern-comparison":J,"3d-rotation":x,"spatial-memory":st}[a];return i?i():null},z=()=>({questions:[{id:1,type:"spatial-reasoning",question:"ä¸‹é¢å“ªä¸ªå›¾å½¢æ˜¯å·¦ä¾§ç«‹ä½“å›¾å½¢çš„æ­£ç¡®å±•å¼€å›¾ï¼Ÿ",stimulus:"3d-cube",options:["option1","option2","option3","option4"],correct:2,difficulty:g.value.difficulty}]}),J=()=>({questions:[{id:1,type:"pattern-comparison",question:"æ‰¾å‡ºä¸å·¦ä¾§å›¾å½¢å®Œå…¨ç›¸åŒçš„é€‰é¡¹",stimulus:"complex-pattern",options:["pattern1","pattern2","pattern3","pattern4"],correct:1,difficulty:g.value.difficulty}]}),x=()=>({questions:[{id:1,type:"3d-rotation",question:"å°†å·¦ä¾§å›¾å½¢é¡ºæ—¶é’ˆæ—‹è½¬90åº¦åï¼Œåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ",stimulus:"3d-object",options:["rotated1","rotated2","rotated3","rotated4"],correct:3,difficulty:g.value.difficulty}]}),st=()=>({questions:[{id:1,type:"spatial-memory",question:"è®°ä½ä¸‹é¢å›¾å½¢ä¸­å„ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œç„¶åé€‰æ‹©æ­£ç¡®çš„é‡ç°",stimulus:"spatial-layout",memoryTime:5e3,options:["layout1","layout2","layout3","layout4"],correct:0,difficulty:g.value.difficulty}]}),it=a=>{console.log("Answer submitted:",a)},at=()=>{const a={moduleId:k.value.id,name:k.value.name,icon:k.value.icon,score:Math.floor(Math.random()*40)+60,accuracy:Math.floor(Math.random()*30)+70,avgTime:Math.floor(Math.random()*10)+15,difficulty:g.value.difficulty,feedback:ot(k.value.id)};m.value.push(a),b.value++,U()},ot=a=>({"spatial-reasoning":"æ‚¨çš„ç©ºé—´æ¨ç†èƒ½åŠ›è¡¨ç°è‰¯å¥½ï¼Œèƒ½å¤Ÿè¾ƒå¥½åœ°ç†è§£ä¸‰ç»´ç©ºé—´ä¸­çš„é€»è¾‘å…³ç³»ã€‚","pattern-comparison":"æ‚¨åœ¨å›¾å½¢è¯†åˆ«æ–¹é¢æœ‰ä¸é”™çš„è¡¨ç°ï¼Œå¯¹ç»†èŠ‚çš„è§‚å¯Ÿæ¯”è¾ƒæ•é”ã€‚","3d-rotation":"æ‚¨çš„å¿ƒç†æ—‹è½¬èƒ½åŠ›éœ€è¦è¿›ä¸€æ­¥æå‡ï¼Œå»ºè®®å¤šåšç›¸å…³ç»ƒä¹ ã€‚","spatial-memory":"æ‚¨çš„ç©ºé—´è®°å¿†èƒ½åŠ›ä¸­ç­‰ï¼Œå¯ä»¥é€šè¿‡è®­ç»ƒå¾—åˆ°æ”¹å–„ã€‚"})[a]||"æµ‹è¯•å®Œæˆï¼Œæ„Ÿè°¢æ‚¨çš„å‚ä¸ã€‚",X=()=>{T.value="results",F(),nt(),Y(),G()},nt=()=>{h.value.forEach(a=>{a.score=Math.floor(Math.random()*40)+50})},Y=()=>{q.value=[{area:"spatial-reasoning",title:"ç©ºé—´æ¨ç†è®­ç»ƒ",icon:"ğŸ§©",description:"é€šè¿‡ç«‹ä½“å‡ ä½•å’Œç©ºé—´å˜æ¢ç»ƒä¹ æå‡ç©ºé—´æ¨ç†èƒ½åŠ›",priority:"high",trainingPath:"/basic-training/expand-vision"},{area:"3d-rotation",title:"3Dæ—‹è½¬ç»ƒä¹ ",icon:"ğŸ”„",description:"åŠ å¼ºå¿ƒç†æ—‹è½¬è®­ç»ƒï¼Œæå‡ä¸‰ç»´å›¾å½¢çš„æƒ³è±¡èƒ½åŠ›",priority:"medium",trainingPath:"/basic-training/spatial"}]},G=()=>{const a={timestamp:Date.now(),settings:g.value,testResults:m.value,overallScore:S.value,spatialAbilities:h.value,duration:O.value?Date.now()-O.value:0},e=localStorage.getItem("spatialAssessmentHistory")||"[]",i=JSON.parse(e);i.push(a),localStorage.setItem("spatialAssessmentHistory",JSON.stringify(i));const p={spatialIndex:S.value,accuracy:m.value.reduce((V,j)=>V+j.accuracy,0)/m.value.length,lastTestDate:Date.now()};localStorage.setItem("spatialAssessmentStats",JSON.stringify(p))},K=()=>{f.value=setInterval(()=>{C.value--,C.value<=0&&X()},1e3)},F=()=>{f.value&&(clearInterval(f.value),f.value=null)},lt=a=>{const e=Math.floor(a/60),i=a%60;return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},W=()=>{T.value="setup",b.value=0,m.value=[],F()},dt=()=>{const a={timestamp:new Date().toISOString(),overallScore:S.value,testResults:m.value,spatialAbilities:h.value},e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),i=URL.createObjectURL(e),p=document.createElement("a");p.href=i,p.download=`spatial-assessment-${Date.now()}.json`,p.click(),URL.revokeObjectURL(i)},Z=a=>{window.location.href=a},tt=a=>a>=80?"excellent":a>=70?"good":a>=60?"average":"poor",et=a=>({high:"é«˜ä¼˜å…ˆçº§",medium:"ä¸­ä¼˜å…ˆçº§",low:"ä½ä¼˜å…ˆçº§"})[a]||"ä¸­ä¼˜å…ˆçº§",rt=a=>{const e=[],i=2*Math.PI/h.value.length;for(let p=0;p<h.value.length;p++){const V=p*i-Math.PI/2,j=150+a*Math.cos(V),ut=150+a*Math.sin(V);e.push(`${j},${ut}`)}return e.join(" ")},ct=a=>{const e=a*(2*Math.PI)/h.value.length-Math.PI/2;return 150+100*Math.cos(e)},r=a=>{const e=a*(2*Math.PI)/h.value.length-Math.PI/2;return 150+100*Math.sin(e)},s=()=>{const a=[],e=2*Math.PI/h.value.length;return h.value.forEach((i,p)=>{const V=p*e-Math.PI/2,j=i.score,ut=150+j*Math.cos(V),kt=150+j*Math.sin(V);a.push(`${ut},${kt}`)}),a.join(" ")},o=(a,e)=>{const i=a*(2*Math.PI)/h.value.length-Math.PI/2;return 150+e*Math.cos(i)},c=(a,e)=>{const i=a*(2*Math.PI)/h.value.length-Math.PI/2;return 150+e*Math.sin(i)},w=a=>{const e=a*(2*Math.PI)/h.value.length-Math.PI/2;return 150+120*Math.cos(e)},L=a=>{const e=a*(2*Math.PI)/h.value.length-Math.PI/2;return 150+120*Math.sin(e)};return bt(()=>{}),yt(()=>{F()}),(a,e)=>(l(),d("div",as,[t("div",os,[e[25]||(e[25]=_t('<div class="assessment-header" data-v-af26f765><h2 data-v-af26f765>ç©ºé—´èƒ½åŠ›æµ‹è¯„</h2><div class="assessment-info" data-v-af26f765><span class="info-item" data-v-af26f765><i class="icon-cube" data-v-af26f765>ğŸ”®</i> ç©ºé—´æƒ³è±¡åŠ›è¯„ä¼° </span><span class="info-item" data-v-af26f765><i class="icon-time" data-v-af26f765>â±ï¸</i> é¢„è®¡ç”¨æ—¶: 20-25åˆ†é’Ÿ </span></div></div>',1)),T.value==="setup"?(l(),d("div",ns,[t("div",ls,[e[15]||(e[15]=t("h3",null,"æµ‹è¯„è®¾ç½®",-1)),e[16]||(e[16]=t("p",{class:"setup-description"}," ç©ºé—´èƒ½åŠ›æµ‹è¯„å°†è¯„ä¼°æ‚¨çš„ä¸‰ç»´ç©ºé—´æƒ³è±¡ã€ç«‹ä½“å‡ ä½•ç†è§£ã€ å›¾å½¢æ—‹è½¬ã€ç©ºé—´å®šä½ç­‰å¤šé¡¹ç©ºé—´è®¤çŸ¥èƒ½åŠ›ã€‚ ",-1)),t("div",ds,[t("div",rs,[e[7]||(e[7]=t("h4",null,"éš¾åº¦è®¾ç½®",-1)),t("div",cs,[(l(!0),d(y,null,_(R.value,i=>(l(),d("label",{key:i.value,class:"difficulty-option"},[N(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=p=>g.value.difficulty=p),value:i.value},null,8,us),[[$t,g.value.difficulty]]),t("div",vs,[t("div",ps,n(i.label),1),t("div",hs,n(i.description),1)])]))),128))])]),t("div",gs,[e[8]||(e[8]=t("h4",null,"æµ‹è¯•æ¨¡å—",-1)),t("div",ms,[(l(!0),d(y,null,_(D.value,i=>(l(),d("label",{key:i.id,class:"module-option"},[N(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=p=>g.value.selectedModules=p),value:i.id},null,8,bs),[[gt,g.value.selectedModules]]),t("div",ys,[t("div",_s,[t("span",fs,n(i.icon),1),mt(" "+n(i.name),1)]),t("div",xs,n(i.description),1)])]))),128))])]),t("div",ks,[e[14]||(e[14]=t("h4",null,"ä¸ªæ€§åŒ–è®¾ç½®",-1)),t("div",ws,[t("div",Ms,[e[10]||(e[10]=t("label",null,"æµ‹è¯•æ—¶é•¿:",-1)),N(t("select",{"onUpdate:modelValue":e[2]||(e[2]=i=>g.value.duration=i)},e[9]||(e[9]=[t("option",{value:"short"},"çŸ­æ—¶æµ‹è¯• (15åˆ†é’Ÿ)",-1),t("option",{value:"medium"},"æ ‡å‡†æµ‹è¯• (20åˆ†é’Ÿ)",-1),t("option",{value:"long"},"å®Œæ•´æµ‹è¯• (25åˆ†é’Ÿ)",-1)]),512),[[ht,g.value.duration]])]),t("div",$s,[e[12]||(e[12]=t("label",null,"åé¦ˆæ¨¡å¼:",-1)),N(t("select",{"onUpdate:modelValue":e[3]||(e[3]=i=>g.value.feedbackMode=i)},e[11]||(e[11]=[t("option",{value:"immediate"},"å³æ—¶åé¦ˆ",-1),t("option",{value:"delayed"},"å»¶è¿Ÿåé¦ˆ",-1),t("option",{value:"final"},"æœ€ç»ˆåé¦ˆ",-1)]),512),[[ht,g.value.feedbackMode]])]),t("div",Is,[t("label",null,[N(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=i=>g.value.enable3DView=i)},null,512),[[gt,g.value.enable3DView]]),e[13]||(e[13]=mt(" å¯ç”¨3Dè§†å›¾è¾…åŠ© ",-1))])])])])]),t("div",Ss,[t("button",{class:"btn-secondary",onClick:e[5]||(e[5]=i=>a.$emit("go-back"))},"è¿”å›"),t("button",{class:"btn-start",onClick:u,disabled:!B.value}," å¼€å§‹æµ‹è¯„ ",8,Ts)])])])):M("",!0),T.value==="testing"?(l(),d("div",Ps,[t("div",As,[t("div",qs,[t("div",Ds,[t("div",{class:"progress-fill",style:ft({width:E.value+"%"})},null,4)]),t("div",Cs,n(b.value+1)+" / "+n($.value)+" - "+n(k.value.name),1)]),t("div",{class:P(["test-timer",{warning:C.value<60}])},n(lt(C.value)),3)]),(l(),wt(Mt(A.value),{"test-data":H.value,settings:g.value,onAnswerSubmitted:it,onTestCompleted:at},null,40,["test-data","settings"]))])):M("",!0),T.value==="results"?(l(),d("div",Ls,[t("div",Rs,[e[19]||(e[19]=t("h3",null,"ç©ºé—´èƒ½åŠ›æµ‹è¯„ç»“æœ",-1)),t("div",Hs,[t("div",Bs,[(l(),d("svg",Us,[e[17]||(e[17]=t("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#e0e0e0","stroke-width":"8"},null,-1)),t("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--color-primary)","stroke-width":"8","stroke-dasharray":"283","stroke-dashoffset":283-283*S.value/100,transform:"rotate(-90 50 50)"},null,8,Vs)])),t("div",js,[t("span",Os,n(S.value),1),e[18]||(e[18]=t("span",{class:"score-label"},"ç©ºé—´æŒ‡æ•°",-1))])])])]),t("div",Qs,[t("div",Fs,[(l(!0),d(y,null,_(m.value,i=>(l(),d("div",{key:i.moduleId,class:"result-card"},[t("div",Ns,[t("span",Es,n(i.icon),1),t("h4",null,n(i.name),1),t("span",{class:P(["result-score",tt(i.score)])},n(i.score)+"åˆ†",3)]),t("div",zs,[t("div",Js,[e[20]||(e[20]=t("span",{class:"detail-label"},"å‡†ç¡®ç‡ï¼š",-1)),t("span",Xs,n(i.accuracy)+"%",1)]),t("div",Ys,[e[21]||(e[21]=t("span",{class:"detail-label"},"å¹³å‡ç”¨æ—¶ï¼š",-1)),t("span",Gs,n(i.avgTime)+"ç§’",1)]),t("div",Ks,[e[22]||(e[22]=t("span",{class:"detail-label"},"éš¾åº¦ç­‰çº§ï¼š",-1)),t("span",Ws,n(i.difficulty),1)])]),t("div",Zs,[t("p",null,n(i.feedback),1)])]))),128))]),t("div",ti,[e[23]||(e[23]=t("h4",null,"ç©ºé—´èƒ½åŠ›åˆ†æ",-1)),t("div",ei,[t("div",si,[(l(),d("svg",ii,[t("g",ai,[(l(),d(y,null,_(5,i=>t("polygon",{key:i,points:rt(i*20),fill:"none",stroke:"#e0e0e0","stroke-width":"1"},null,8,oi)),64)),(l(!0),d(y,null,_(h.value,(i,p)=>(l(),d("line",{key:p,x1:"150",y1:"150",x2:ct(p),y2:r(p),stroke:"#e0e0e0","stroke-width":"1"},null,8,ni))),128))]),t("polygon",{points:s(),fill:"rgba(16, 185, 129, 0.3)",stroke:"#10b981","stroke-width":"2"},null,8,li),(l(!0),d(y,null,_(h.value,(i,p)=>(l(),d("circle",{key:p,cx:o(p,i.score),cy:c(p,i.score),r:"4",fill:"#10b981"},null,8,di))),128)),(l(!0),d(y,null,_(h.value,(i,p)=>(l(),d("text",{key:p,x:w(p),y:L(p),"text-anchor":"middle","dominant-baseline":"middle","font-size":"12",fill:"#666"},n(i.name),9,ri))),128))]))])])]),t("div",ci,[e[24]||(e[24]=t("h4",null,"æ”¹è¿›å»ºè®®",-1)),t("div",ui,[(l(!0),d(y,null,_(q.value,i=>(l(),d("div",{key:i.area,class:"suggestion-item"},[t("div",vi,[t("span",pi,n(i.icon),1),t("h5",null,n(i.title),1),t("span",{class:P(["suggestion-priority",i.priority])},n(et(i.priority)),3)]),t("p",hi,n(i.description),1),t("div",gi,[t("button",{class:"btn-small",onClick:p=>Z(i.trainingPath)}," å¼€å§‹è®­ç»ƒ ",8,mi)])]))),128))])])]),t("div",bi,[t("button",{class:"btn-secondary",onClick:W},"é‡æ–°æµ‹è¯„"),t("button",{class:"btn-secondary",onClick:dt},"å¯¼å‡ºæŠ¥å‘Š"),t("button",{class:"btn-primary",onClick:e[6]||(e[6]=i=>a.$emit("go-back"))},"è¿”å›ä¸»é¡µ")])])):M("",!0)])]))}},ki=xt(yi,[["__scopeId","data-v-af26f765"]]);export{ki as default};
