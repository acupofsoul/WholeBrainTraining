import{i,c as F,j as re,k as fe,A as de,o as a,a as o,b as e,t as s,n as p,F as k,h as w,m as _e,g as h,e as ve,w as pe,T as ge,p as ye,v as be,d as ke,f as we}from"./index-e0b54b24.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{m as le}from"./meditationStorage-bc872dc6.js";const $e={class:"mindfulness-monitor"},Te={key:0,class:"attention-monitor"},xe={class:"monitor-header"},Me={class:"attention-score"},Ie={class:"score-value"},Ce={class:"attention-visual"},De={class:"attention-waves"},Se={class:"focus-icon"},Ee={class:"attention-feedback"},Fe={class:"feedback-tips"},Be={key:1,class:"reminder-system"},Re={class:"reminder-icon"},Ae={class:"reminder-content"},Ne={class:"reminder-text"},Pe={key:0,class:"reminder-actions"},Ve=["onClick"],qe={key:2,class:"emotion-tracker"},Ge={class:"emotion-grid"},He=["onClick"],ze={class:"emotion-icon"},Le={class:"emotion-name"},Oe={key:0,class:"emotion-intensity"},Ue={class:"intensity-slider"},je={key:3,class:"breathing-guide"},We={class:"breathing-visual"},Je={class:"breathing-center"},Ke={class:"breathing-text"},Qe={class:"breathing-instructions"},Xe={class:"breathing-count"},Ye={key:4,class:"progress-stats"},Ze={class:"stat-item"},et={class:"stat-value"},tt={class:"stat-item"},st={class:"stat-value"},nt={class:"stat-item"},it={class:"stat-value"},at={__name:"MindfulnessMonitor",props:{isActive:{type:Boolean,default:!1},showEmotionTracker:{type:Boolean,default:!0},showBreathingGuide:{type:Boolean,default:!1},showStats:{type:Boolean,default:!0},exerciseType:{type:String,default:"general"}},emits:["attention-change","emotion-selected","distraction-detected","focus-returned"],setup(N,{emit:K}){const $=N,l=K,v=i(85),m=i(!0),D=i(0),T=i(0),P=i(0),g=i(!1),B=i("gentle"),V=i(""),x=i("ğŸ””"),R=i([]),f=i(""),M=i(5),y=i("inhale"),q=i(1),S=i("å¸æ°”"),A=i("æ…¢æ…¢æ·±å¸æ°”ï¼Œæ„Ÿå—ç©ºæ°”è¿›å…¥èº«ä½“");let I=null,C=null,_=null,G=null;const H=i([{duration:3,opacity:.6},{duration:4,opacity:.4},{duration:5,opacity:.3}]),Q=i([{name:"å¹³é™",icon:"ğŸ˜Œ",color:"#95E1D3"},{name:"ç„¦è™‘",icon:"ğŸ˜°",color:"#FFB6C1"},{name:"å¿«ä¹",icon:"ğŸ˜Š",color:"#FFD700"},{name:"æ‚²ä¼¤",icon:"ğŸ˜¢",color:"#87CEEB"},{name:"æ„¤æ€’",icon:"ğŸ˜ ",color:"#FF6B6B"},{name:"å›°æƒ‘",icon:"ğŸ¤”",color:"#DDA0DD"},{name:"æ„Ÿæ¿€",icon:"ğŸ™",color:"#98FB98"},{name:"ç–²æƒ«",icon:"ğŸ˜´",color:"#D3D3D3"}]),z=F(()=>v.value>=80?"high":v.value>=60?"medium":"low"),O=F(()=>{switch($.exerciseType){case"breathing":return"ğŸŒ¬ï¸";case"body-scan":return"ğŸ«‚";case"emotion":return"ğŸ’­";case"sound":return"ğŸ‘‚";default:return"ğŸ§˜â€â™€ï¸"}}),X=F(()=>{const n={high:["ä¸“æ³¨åº¦å¾ˆå¥½ï¼","ä¿æŒè¿™ç§çŠ¶æ€","ä½ åšå¾—å¾ˆæ£’"],medium:["æ³¨æ„åŠ›æœ‰äº›åˆ†æ•£","è¯•ç€å›åˆ°å½“ä¸‹","è½»æŸ”åœ°æ‹‰å›æ³¨æ„åŠ›"],low:["æ³¨æ„åŠ›è·‘å¾—æœ‰ç‚¹è¿œ","æ²¡å…³ç³»ï¼Œé‡æ–°å¼€å§‹","æ¯ä¸€åˆ»éƒ½æ˜¯æ–°çš„æœºä¼š"]}[z.value];return n[Math.floor(Math.random()*n.length)]}),Y=F(()=>({breathing:["ä¸“æ³¨äºå‘¼å¸çš„æ„Ÿè§‰","æ„Ÿå—ç©ºæ°”çš„æ¸©åº¦","æ³¨æ„èƒ¸è…¹çš„èµ·ä¼"],"body-scan":["ä»å¤´åˆ°è„šæ‰«æ","ä¸è¦è¯•å›¾æ”¹å˜ä»€ä¹ˆ","åªæ˜¯è§‚å¯Ÿå’Œæ„Ÿå—"],emotion:["è§‚å¯Ÿæƒ…ç»ªçš„å˜åŒ–","ä¸è¦è¯„åˆ¤å¥½å","æ¥çº³å½“ä¸‹çš„æ„Ÿå—"],sound:["å¬å¬è¿œè¿‘çš„å£°éŸ³","æ³¨æ„å£°éŸ³çš„å±‚æ¬¡","è®©å£°éŸ³è‡ªç„¶æ¥å»"]})[$.exerciseType]||["ä¿æŒè§‰å¯Ÿ","å‹å–„å¯¹å¾…è‡ªå·±","å½“ä¸‹å°±æ˜¯æœ€å¥½çš„æ—¶åˆ»"]),U=()=>{$.isActive&&(I=setInterval(()=>{Z()},3e3),G=setInterval(()=>{m.value&&D.value++},1e3),C=setInterval(()=>{ee()},12e4),$.showBreathingGuide&&ie())},Z=()=>{const r=(Math.random()-.5)*20;v.value=Math.max(20,Math.min(100,v.value+r));const n=m.value;m.value=v.value>60,n&&!m.value?(T.value++,l("distraction-detected",{score:v.value}),te()):!n&&m.value&&(P.value++,l("focus-returned",{score:v.value})),l("attention-change",{score:v.value,level:z.value,focused:m.value})},ee=()=>{const r=[{text:"è®°å¾—ä¿æŒå‹å–„çš„æ€åº¦å¯¹å¾…è‡ªå·±",icon:"ğŸ’",type:"gentle"},{text:"æ³¨æ„åŠ›è·‘äº†å¾ˆæ­£å¸¸ï¼Œè½»æŸ”åœ°æ‹‰å›æ¥",icon:"ğŸŒ¸",type:"gentle"},{text:"æ¯ä¸€åˆ»éƒ½æ˜¯æ–°çš„å¼€å§‹",icon:"ğŸŒ…",type:"gentle"},{text:"è§‚å¯Ÿè€Œä¸è¯„åˆ¤",icon:"ğŸ‘ï¸",type:"gentle"}],n=r[Math.floor(Math.random()*r.length)];j(n.text,n.icon,n.type)},te=()=>{const r=[{text:"æ³¨æ„åŠ›åˆ†æ•£äº†ï¼Œè¦å›åˆ°ç»ƒä¹ å—ï¼Ÿ",icon:"ğŸ¯",type:"attention",actions:[{text:"å›åˆ°ç»ƒä¹ ",action:"refocus"}]},{text:"å‘ç°æ€ç»´åœ¨æ¸¸èµ°ï¼Œè¿™å¾ˆæ­£å¸¸",icon:"ğŸŒŠ",type:"gentle",actions:[{text:"é‡æ–°å¼€å§‹",action:"restart"}]}],n=r[Math.floor(Math.random()*r.length)];j(n.text,n.icon,n.type,n.actions)},j=(r,n,d,E=[])=>{V.value=r,x.value=n,B.value=d,R.value=E,g.value=!0,setTimeout(()=>{g.value=!1},5e3)},se=r=>{switch(r.action){case"refocus":v.value=Math.min(100,v.value+20);break;case"restart":v.value=75;break}W()},W=()=>{g.value=!1},ne=r=>{f.value=r.name,l("emotion-selected",{emotion:r.name,intensity:M.value,timestamp:Date.now()})},ie=()=>{_=setInterval(()=>{y.value==="inhale"?(y.value="hold",S.value="å±æ¯",A.value="è½»è½»å±ä½å‘¼å¸"):y.value==="hold"?(y.value="exhale",S.value="å‘¼æ°”",A.value="æ…¢æ…¢å‘¼å‡ºï¼Œæ”¾æ¾èº«ä½“"):(y.value="inhale",S.value="å¸æ°”",A.value="æ…¢æ…¢æ·±å¸æ°”ï¼Œæ„Ÿå—ç©ºæ°”è¿›å…¥èº«ä½“",q.value++)},8e3/3)},ae=r=>{const n=Math.floor(r/60),d=r%60;return`${n}:${d.toString().padStart(2,"0")}`},J=()=>{I&&(clearInterval(I),I=null),C&&(clearInterval(C),C=null),_&&(clearInterval(_),_=null),G&&(clearInterval(G),G=null)};return re(()=>$.isActive,r=>{r?U():J()}),re(M,r=>{f.value&&l("emotion-selected",{emotion:f.value,intensity:r,timestamp:Date.now()})}),fe(()=>{$.isActive&&U()}),de(()=>{J()}),(r,n)=>(a(),o("div",$e,[N.isActive?(a(),o("div",Te,[e("div",xe,[n[1]||(n[1]=e("h4",null,"ğŸ§  æ³¨æ„åŠ›ç›‘æµ‹",-1)),e("div",Me,[e("span",Ie,s(v.value)+"%",1),e("div",{class:p(["score-indicator",z.value])},null,2)])]),e("div",Ce,[e("div",De,[(a(!0),o(k,null,w(H.value,(d,E)=>(a(),o("div",{key:E,class:p(["wave",`wave-${E+1}`]),style:_e({animationDuration:d.duration+"s",opacity:d.opacity})},null,6))),128))]),e("div",{class:p(["focus-center",{active:m.value}])},[e("span",Se,s(O.value),1)],2)]),e("div",Ee,[e("div",{class:p(["feedback-text",z.value])},s(X.value),3),e("div",Fe,[(a(!0),o(k,null,w(Y.value,d=>(a(),o("span",{key:d,class:"tip-item"},s(d),1))),128))])])])):h("",!0),g.value?(a(),o("div",Be,[ve(ge,{name:"reminder-fade"},{default:pe(()=>[e("div",{class:p(["reminder-card",B.value])},[e("div",Re,s(x.value),1),e("div",Ae,[e("p",Ne,s(V.value),1),R.value.length>0?(a(),o("div",Pe,[(a(!0),o(k,null,w(R.value,d=>(a(),o("button",{key:d.text,class:"reminder-btn",onClick:E=>se(d)},s(d.text),9,Ve))),128))])):h("",!0)]),e("button",{class:"reminder-close",onClick:W},"Ã—")],2)]),_:1})])):h("",!0),N.showEmotionTracker?(a(),o("div",qe,[n[4]||(n[4]=e("h4",null,"ğŸ’­ æƒ…ç»ªçŠ¶æ€",-1)),e("div",Ge,[(a(!0),o(k,null,w(Q.value,d=>(a(),o("button",{key:d.name,class:p(["emotion-btn",{active:f.value===d.name}]),onClick:E=>ne(d)},[e("span",ze,s(d.icon),1),e("span",Le,s(d.name),1)],10,He))),128))]),f.value?(a(),o("div",Oe,[n[3]||(n[3]=e("label",null,"å¼ºåº¦ï¼š",-1)),e("div",Ue,[ye(e("input",{type:"range","onUpdate:modelValue":n[0]||(n[0]=d=>M.value=d),min:"1",max:"10",class:"slider"},null,512),[[be,M.value]]),n[2]||(n[2]=e("div",{class:"intensity-labels"},[e("span",null,"è½»å¾®"),e("span",null,"ä¸­ç­‰"),e("span",null,"å¼ºçƒˆ")],-1))])])):h("",!0)])):h("",!0),N.showBreathingGuide?(a(),o("div",je,[e("div",We,[e("div",{class:p(["breathing-circle",y.value])},[e("div",Je,[e("span",Ke,s(S.value),1)])],2)]),e("div",Qe,[e("p",null,s(A.value),1),e("div",Xe,[e("span",null,"ç¬¬ "+s(q.value)+" ä¸ªå‘¼å¸å¾ªç¯",1)])])])):h("",!0),N.showStats?(a(),o("div",Ye,[e("div",Ze,[n[5]||(n[5]=e("span",{class:"stat-label"},"ä¸“æ³¨æ—¶é—´",-1)),e("span",et,s(ae(D.value)),1)]),e("div",tt,[n[6]||(n[6]=e("span",{class:"stat-label"},"åˆ†å¿ƒæ¬¡æ•°",-1)),e("span",st,s(T.value),1)]),e("div",nt,[n[7]||(n[7]=e("span",{class:"stat-label"},"å›å½’æ¬¡æ•°",-1)),e("span",it,s(P.value),1)])])):h("",!0)]))}},ot=me(at,[["__scopeId","data-v-d96c8a15"]]);const lt={class:"mindfulness-training-container"},ct={class:"mindfulness-exercises"},ut={class:"exercises-grid"},rt=["onClick"],dt={class:"exercise-icon"},vt={class:"exercise-benefits"},mt={class:"exercise-info"},ht={class:"info-row"},ft={class:"info-value"},_t={class:"info-row"},pt={class:"info-value"},gt={class:"info-row"},yt={class:"info-value"},bt={key:0,class:"training-setup"},kt={class:"setup-card"},wt={class:"setup-overview"},$t={class:"overview-icon"},Tt={class:"overview-content"},xt={class:"setup-instructions"},Mt={class:"setup-posture"},It={key:1,class:"training-active"},Ct={class:"training-header"},Dt={class:"training-timer"},St={class:"timer-display"},Et={class:"time-remaining"},Ft={class:"time-total"},Bt={class:"timer-progress"},Rt={class:"progress-circle"},At={class:"progress-ring",width:"120",height:"120"},Nt=["stroke-dasharray","stroke-dashoffset"],Pt={class:"timer-center"},Vt={class:"timer-icon"},qt={class:"current-phase"},Gt={class:"phase-content"},Ht={class:"phase-guidance"},zt={class:"phase-focus"},Lt={class:"focus-icon"},Ot={class:"mindfulness-reminders"},Ut={class:"reminder-text"},jt={class:"training-controls"},Wt={key:2,class:"training-completed"},Jt={class:"completion-card"},Kt={class:"completion-header"},Qt={class:"completion-reflection"},Xt={class:"reflection-questions"},Yt={class:"question-item"},Zt={class:"reflection-options"},es=["onClick"],ts={class:"question-item"},ss={class:"reflection-options"},ns=["onClick"],is={class:"completion-stats"},as={class:"stat-item"},os={class:"stat-value"},ls={class:"stat-item"},cs={class:"stat-value"},us={__name:"MindfulnessTraining",setup(N){const K=i([{id:1,name:"èº«ä½“æ‰«æ",icon:"ğŸ«‚",description:"ä»å¤´åˆ°è„šæ„Ÿå—èº«ä½“çš„æ¯ä¸ªéƒ¨ä½ï¼ŒåŸ¹å…»èº«ä½“è§‰å¯ŸåŠ›",duration:8,difficulty:"åˆçº§",ageRange:"5-12å²",benefits:["èº«ä½“è§‰å¯Ÿ","æ”¾æ¾è‚Œè‚‰","ä¸“æ³¨è®­ç»ƒ"],overview:"é€šè¿‡æœ‰åºåœ°å…³æ³¨èº«ä½“å„ä¸ªéƒ¨ä½ï¼Œå­¦ä¼šè§‰å¯Ÿèº«ä½“çš„æ„Ÿå—å’ŒçŠ¶æ€ã€‚",instructions:["æ‰¾ä¸€ä¸ªèˆ’é€‚çš„å§¿åŠ¿èººä¸‹æˆ–åç€","é—­ä¸Šçœ¼ç›ï¼Œæ·±å‘¼å¸å‡ æ¬¡","ä»å¤´é¡¶å¼€å§‹ï¼Œæ…¢æ…¢æ„Ÿå—èº«ä½“çš„æ¯ä¸ªéƒ¨ä½","ä¸è¦è¯•å›¾æ”¹å˜ä»€ä¹ˆï¼Œåªæ˜¯è§‚å¯Ÿå’Œæ„Ÿå—","å¦‚æœæ³¨æ„åŠ›è·‘äº†ï¼Œè½»æŸ”åœ°æ‹‰å›åˆ°èº«ä½“ä¸Š"],posture:"å¯ä»¥èººä¸‹æˆ–èˆ’é€‚åœ°åç€ï¼Œä¿æŒè„ŠèƒŒæŒºç›´ä½†ä¸ç´§å¼ ",phases:[{title:"å‡†å¤‡é˜¶æ®µ",guidance:"é—­ä¸Šçœ¼ç›ï¼Œæ·±å‘¼å¸ä¸‰æ¬¡ï¼Œè®©èº«ä½“æ”¾æ¾ä¸‹æ¥",focusIcon:"ğŸ˜Œ",duration:60},{title:"å¤´éƒ¨æ‰«æ",guidance:"æ„Ÿå—ä½ çš„å¤´é¡¶ã€é¢å¤´ã€çœ¼ç›ã€é¼»å­å’Œå˜´å·´",focusIcon:"ğŸ§ ",duration:120},{title:"ä¸Šèº«æ‰«æ",guidance:"æ³¨æ„ä½ çš„è„–å­ã€è‚©è†€ã€æ‰‹è‡‚å’Œèƒ¸éƒ¨çš„æ„Ÿè§‰",focusIcon:"ğŸ’ª",duration:180},{title:"ä¸‹èº«æ‰«æ",guidance:"æ„Ÿå—ä½ çš„è…¹éƒ¨ã€è…°éƒ¨ã€è‡€éƒ¨å’Œè…¿éƒ¨",focusIcon:"ğŸ¦µ",duration:120},{title:"æ•´ä½“æ„Ÿå—",guidance:"æ„Ÿå—æ•´ä¸ªèº«ä½“ä½œä¸ºä¸€ä¸ªæ•´ä½“çš„æ„Ÿè§‰",focusIcon:"ğŸ«‚",duration:60}]},{id:2,name:"æƒ…ç»ªè§‚å¯Ÿ",icon:"ğŸ’­",description:"å­¦ä¼šè§‚å¯Ÿå’Œæ¥çº³è‡ªå·±çš„æƒ…ç»ªï¼Œä¸è¢«æƒ…ç»ªæ§åˆ¶",duration:6,difficulty:"ä¸­çº§",ageRange:"7-12å²",benefits:["æƒ…ç»ªç®¡ç†","è‡ªæˆ‘è®¤çŸ¥","å¿ƒç†å¹³è¡¡"],overview:"é€šè¿‡è§‚å¯Ÿå†…å¿ƒçš„æƒ…ç»ªå˜åŒ–ï¼Œå­¦ä¼šä»¥å¹³å’Œçš„å¿ƒæ€é¢å¯¹å„ç§æ„Ÿå—ã€‚",instructions:["ååœ¨èˆ’é€‚çš„ä½ç½®ï¼Œé—­ä¸Šçœ¼ç›","æ³¨æ„æ­¤åˆ»å†…å¿ƒçš„æ„Ÿå—","ä¸è¦è¯„åˆ¤æƒ…ç»ªçš„å¥½åï¼Œåªæ˜¯è§‚å¯Ÿ","æƒ³è±¡æƒ…ç»ªåƒäº‘æœµä¸€æ ·é£˜è¿‡å¤©ç©º","ä¿æŒå‹å–„å’Œå¥½å¥‡çš„æ€åº¦"],posture:"èˆ’é€‚åœ°åç€ï¼ŒåŒè„šå¹³æ”¾åœ¨åœ°ä¸Šï¼ŒåŒæ‰‹è‡ªç„¶æ”¾åœ¨è…¿ä¸Š",phases:[{title:"æƒ…ç»ªè§‰å¯Ÿ",guidance:"æ³¨æ„æ­¤åˆ»ä½ å†…å¿ƒçš„æ„Ÿå—ï¼Œæ˜¯å¼€å¿ƒã€ç´§å¼ è¿˜æ˜¯å¹³é™ï¼Ÿ",focusIcon:"ğŸ­",duration:90},{title:"æƒ…ç»ªæ¥çº³",guidance:"ä¸è¦è¯•å›¾æ”¹å˜è¿™äº›æ„Ÿå—ï¼Œåªæ˜¯å‹å–„åœ°è§‚å¯Ÿå®ƒä»¬",focusIcon:"ğŸ¤—",duration:120},{title:"æƒ…ç»ªæµåŠ¨",guidance:"æƒ³è±¡æƒ…ç»ªåƒæ²³æ°´ä¸€æ ·æµåŠ¨ï¼Œå®ƒä»¬ä¼šè‡ªç„¶åœ°æ¥å»",focusIcon:"ğŸŒŠ",duration:120},{title:"å†…å¿ƒå¹³é™",guidance:"æ„Ÿå—å†…å¿ƒæ·±å¤„é‚£ä»½å®é™å’Œå¹³å’Œ",focusIcon:"â˜®ï¸",duration:90}]},{id:3,name:"å£°éŸ³å†¥æƒ³",icon:"ğŸ‘‚",description:"ä¸“æ³¨äºå‘¨å›´çš„å£°éŸ³ï¼Œè®­ç»ƒå¬è§‰ä¸“æ³¨åŠ›",duration:5,difficulty:"åˆçº§",ageRange:"4-12å²",benefits:["å¬è§‰ä¸“æ³¨","ç¯å¢ƒè§‰å¯Ÿ","å½“ä¸‹æ„è¯†"],overview:"é€šè¿‡ä¸“æ³¨äºå„ç§å£°éŸ³ï¼ŒåŸ¹å…»å¯¹å½“ä¸‹ç¯å¢ƒçš„æ•é”è§‰å¯ŸåŠ›ã€‚",instructions:["æ‰¾ä¸€ä¸ªå®‰é™çš„åœ°æ–¹åä¸‹","é—­ä¸Šçœ¼ç›ï¼Œä»”ç»†è†å¬","æ³¨æ„è¿œå¤„å’Œè¿‘å¤„çš„å„ç§å£°éŸ³","ä¸è¦åˆ†æå£°éŸ³ï¼Œåªæ˜¯å¬","å½“æ€ç»´æ¸¸èµ°æ—¶ï¼Œå›åˆ°å£°éŸ³ä¸Š"],posture:"èˆ’é€‚åœ°åç€ï¼Œä¿æŒè­¦è§‰ä½†æ”¾æ¾çš„çŠ¶æ€",phases:[{title:"å£°éŸ³è§‰å¯Ÿ",guidance:"é—­ä¸Šçœ¼ç›ï¼Œä»”ç»†å¬å¬å‘¨å›´æœ‰ä»€ä¹ˆå£°éŸ³",focusIcon:"ğŸ‘‚",duration:60},{title:"è¿œè¿‘å£°éŸ³",guidance:"åˆ†åˆ«æ³¨æ„è¿œå¤„å’Œè¿‘å¤„çš„å£°éŸ³ï¼Œä¸è¦åçˆ±ä»»ä½•ä¸€ç§",focusIcon:"ğŸ”Š",duration:120},{title:"å£°éŸ³å±‚æ¬¡",guidance:"å¬å¬å£°éŸ³çš„å±‚æ¬¡ï¼Œæœ‰äº›å¤§å£°ï¼Œæœ‰äº›è½»æŸ”",focusIcon:"ğŸµ",duration:120},{title:"å£°éŸ³ç©ºé—´",guidance:"æ„Ÿå—å£°éŸ³åœ¨ç©ºé—´ä¸­çš„ä½ç½®å’Œç§»åŠ¨",focusIcon:"ğŸŒ",duration:60}]}]),$=i({noticed:["èº«ä½“çš„æ„Ÿè§‰","å‘¼å¸çš„å˜åŒ–","å†…å¿ƒçš„å¹³é™","æ€ç»´çš„æ´»åŠ¨","æƒ…ç»ªçš„æµåŠ¨"],feeling:["å¾ˆæ”¾æ¾","æ›´å¹³é™","æœ‰ç‚¹å›°å€¦","ç²¾ç¥ç„•å‘","å†…å¿ƒå®‰å®š"]}),l=i(null),v=i(!1),m=i(!1),D=i(!1),T=i(0),P=i(0),g=i(0),B=i(0),V=i(!1),x=i({noticed:"",feeling:""}),R=i(85),f=i(null),M=i([]),y=i([]),q=i([]),S=i(null),A=i(null);let I=null,C=null;const _=F(()=>!l.value||!l.value.phases?null:l.value.phases[g.value]||l.value.phases[0]),G=F(()=>{const c=["ä¿æŒå‹å–„å’Œå¥½å¥‡çš„æ€åº¦","ä¸è¦è¯„åˆ¤ï¼Œåªæ˜¯è§‚å¯Ÿ","æ³¨æ„åŠ›è·‘äº†å¾ˆæ­£å¸¸ï¼Œè½»æŸ”åœ°æ‹‰å›æ¥","æ¯ä¸€åˆ»éƒ½æ˜¯æ–°çš„å¼€å§‹"];return[c[Math.floor(Math.random()*c.length)]]}),H=F(()=>2*Math.PI*52),Q=F(()=>{if(!l.value)return H.value;const c=(l.value.duration*60-T.value)/(l.value.duration*60);return H.value-c*H.value}),z=c=>{l.value=c,D.value=!1,x.value={noticed:"",feeling:""}},O=()=>{v.value=!0,T.value=l.value.duration*60,P.value=0,g.value=0,B.value=0,X(),Y(),U()},X=()=>{S.value=Date.now(),A.value=`mindfulness_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,M.value=[],y.value=[],q.value=[],f.value={id:A.value,type:"mindfulness",exercise:l.value.name,exerciseId:l.value.id,startTime:S.value,duration:l.value.duration*60,status:"active"}},Y=()=>{I=setInterval(()=>{m.value||(T.value--,P.value++,B.value++,_.value&&B.value>=_.value.duration&&Z(),T.value<=0&&W())},1e3)},U=()=>{C=setInterval(()=>{V.value=!V.value},2e3)},Z=()=>{g.value<l.value.phases.length-1&&(g.value++,B.value=0)},ee=()=>{m.value=!0},te=()=>{m.value=!1},j=()=>{T.value+=300},se=()=>{v.value=!1,m.value=!1,f.value&&(f.value.status="stopped",n()),oe()},W=()=>{v.value=!1,D.value=!0,n(),oe()},ne=c=>{M.value.push({timestamp:Date.now(),score:c.score,level:c.level,focused:c.focused}),R.value=c.score},ie=c=>{y.value.push({timestamp:c.timestamp,emotion:c.emotion,intensity:c.intensity})},ae=c=>{var t;q.value.push({timestamp:Date.now(),score:c.score,phase:((t=_.value)==null?void 0:t.title)||"unknown"})},J=c=>{M.value.push({timestamp:Date.now(),score:c.score,level:c.level,focused:!0,event:"focus_returned"})},r=c=>({1:"body-scan",2:"emotion",3:"sound",4:"breathing"})[c]||"general",n=()=>{if(!f.value)return;const c=Date.now(),t=Math.floor((c-S.value)/1e3),u={...f.value,endTime:c,actualDuration:t,status:"completed",attentionHistory:M.value,emotionHistory:y.value,distractionEvents:q.value,finalScore:R.value,reflections:x.value,phases:l.value.phases.map((L,he)=>({...L,completed:he<=g.value}))};le.saveSession(u);const b=le.getStatistics();b.totalMindfulnessSessions=(b.totalMindfulnessSessions||0)+1,b.totalMindfulnessTime=(b.totalMindfulnessTime||0)+t,le.updateStatistics(b)},d=()=>{D.value=!1,x.value={noticed:"",feeling:""},O()},E=()=>{l.value=null,D.value=!1,v.value=!1},ce=(c,t)=>{x.value[c]=t},oe=()=>{I&&(clearInterval(I),I=null),C&&(clearInterval(C),C=null)},ue=c=>{const t=Math.floor(c/60),u=c%60;return`${t}:${u.toString().padStart(2,"0")}`};return de(()=>{oe()}),(c,t)=>(a(),o("div",lt,[t[14]||(t[14]=ke('<div class="page-header" data-v-65c3427c><div class="header-background" data-v-65c3427c><div class="mindfulness-waves" data-v-65c3427c><div class="wave wave-1" data-v-65c3427c></div><div class="wave wave-2" data-v-65c3427c></div><div class="wave wave-3" data-v-65c3427c></div></div></div><h1 data-v-65c3427c>ğŸ§˜â€â™€ï¸ æ­£å¿µè®­ç»ƒ</h1><p class="page-description" data-v-65c3427c> åŸ¹å…»å­©å­çš„å½“ä¸‹è§‰å¯Ÿèƒ½åŠ›ï¼Œæå‡æƒ…ç»ªç®¡ç†æŠ€èƒ½ã€‚ æ­£å¿µæ˜¯ä¸€ç§ä¸“æ³¨äºå½“ä¸‹çš„èƒ½åŠ›ï¼Œå¸®åŠ©å­©å­æ›´å¥½åœ°ç†è§£è‡ªå·±çš„æ„Ÿå—å’Œæƒ³æ³•ã€‚ </p></div>',1)),e("div",ct,[t[3]||(t[3]=e("h2",{class:"section-title"},"é€‰æ‹©æ­£å¿µç»ƒä¹ ",-1)),e("div",ut,[(a(!0),o(k,null,w(K.value,u=>{var b;return a(),o("div",{key:u.id,class:p(["exercise-card",{active:((b=l.value)==null?void 0:b.id)===u.id}]),onClick:L=>z(u)},[e("div",dt,s(u.icon),1),e("h3",null,s(u.name),1),e("p",null,s(u.description),1),e("div",vt,[(a(!0),o(k,null,w(u.benefits,L=>(a(),o("span",{key:L,class:"benefit-tag"},s(L),1))),128))]),e("div",mt,[e("div",ht,[t[0]||(t[0]=e("span",{class:"info-label"},"æ—¶é•¿ï¼š",-1)),e("span",ft,s(u.duration)+"åˆ†é’Ÿ",1)]),e("div",_t,[t[1]||(t[1]=e("span",{class:"info-label"},"éš¾åº¦ï¼š",-1)),e("span",pt,s(u.difficulty),1)]),e("div",gt,[t[2]||(t[2]=e("span",{class:"info-label"},"é€‚åˆå¹´é¾„ï¼š",-1)),e("span",yt,s(u.ageRange),1)])])],10,rt)}),128))])]),l.value&&!v.value?(a(),o("div",bt,[e("div",kt,[e("h3",null,"å‡†å¤‡å¼€å§‹ï¼š"+s(l.value.name),1),e("div",wt,[e("div",$t,s(l.value.icon),1),e("div",Tt,[e("p",null,s(l.value.overview),1)])]),e("div",xt,[t[4]||(t[4]=e("h4",null,"ğŸ¯ ç»ƒä¹ è¦ç‚¹",-1)),e("ul",null,[(a(!0),o(k,null,w(l.value.instructions,u=>(a(),o("li",{key:u},s(u),1))),128))])]),e("div",Mt,[t[5]||(t[5]=e("h4",null,"ğŸª‘ å»ºè®®å§¿åŠ¿",-1)),e("p",null,s(l.value.posture),1)]),e("button",{class:"start-training-btn",onClick:O},t[6]||(t[6]=[e("span",{class:"btn-icon"},"ğŸŒŸ",-1),we(" å¼€å§‹æ­£å¿µç»ƒä¹  ",-1)]))])])):h("",!0),v.value?(a(),o("div",It,[e("div",Ct,[e("h2",null,s(l.value.name),1),e("div",Dt,[e("div",St,[e("span",Et,s(ue(T.value)),1),e("span",Ft,"/ "+s(ue(l.value.duration*60)),1)]),e("div",Bt,[e("div",Rt,[(a(),o("svg",At,[e("circle",{class:"progress-ring-circle",stroke:"#95E1D3","stroke-width":"4",fill:"transparent",r:"52",cx:"60",cy:"60","stroke-dasharray":H.value,"stroke-dashoffset":Q.value},null,8,Nt)])),e("div",Pt,[e("span",Vt,s(l.value.icon),1)])])])])]),ve(ot,{"is-active":v.value&&!m.value,"exercise-type":r(l.value.id),"show-breathing-guide":l.value.id===1,onAttentionChange:ne,onEmotionSelected:ie,onDistractionDetected:ae,onFocusReturned:J},null,8,["is-active","exercise-type","show-breathing-guide"]),e("div",qt,[e("div",Gt,[e("h3",null,s(_.value.title),1),e("p",Ht,s(_.value.guidance),1),e("div",zt,[e("div",{class:p(["focus-point",{active:V.value}])},[e("span",Lt,s(_.value.focusIcon),1)],2)])])]),e("div",Ot,[(a(!0),o(k,null,w(G.value,u=>(a(),o("div",{class:"reminder-card",key:u},[e("span",Ut,s(u),1)]))),128))]),e("div",jt,[m.value?h("",!0):(a(),o("button",{key:0,class:"control-btn pause",onClick:ee}," â¸ï¸ æš‚åœ ")),m.value?(a(),o("button",{key:1,class:"control-btn resume",onClick:te}," â–¶ï¸ ç»§ç»­ ")):h("",!0),e("button",{class:"control-btn extend",onClick:j}," â° å»¶é•¿5åˆ†é’Ÿ "),e("button",{class:"control-btn stop",onClick:se}," â¹ï¸ ç»“æŸ ")])])):h("",!0),D.value?(a(),o("div",Wt,[e("div",Jt,[e("div",Kt,[t[7]||(t[7]=e("div",{class:"completion-icon"},"ğŸ‰",-1)),t[8]||(t[8]=e("h2",null,"æ­£å¿µç»ƒä¹ å®Œæˆï¼",-1)),e("p",null,"æ­å–œå®Œæˆ"+s(l.value.name)+"ç»ƒä¹ ",1)]),e("div",Qt,[t[11]||(t[11]=e("h4",null,"ğŸ¤” ç»ƒä¹ åæ€",-1)),e("div",Xt,[e("div",Yt,[t[9]||(t[9]=e("p",{class:"question"},"ä½ åœ¨ç»ƒä¹ ä¸­æ³¨æ„åˆ°äº†ä»€ä¹ˆï¼Ÿ",-1)),e("div",Zt,[(a(!0),o(k,null,w($.value.noticed,u=>(a(),o("button",{key:u,class:p(["reflection-btn",{selected:x.value.noticed===u}]),onClick:b=>ce("noticed",u)},s(u),11,es))),128))])]),e("div",ts,[t[10]||(t[10]=e("p",{class:"question"},"ç°åœ¨çš„æ„Ÿå—å¦‚ä½•ï¼Ÿ",-1)),e("div",ss,[(a(!0),o(k,null,w($.value.feeling,u=>(a(),o("button",{key:u,class:p(["reflection-btn",{selected:x.value.feeling===u}]),onClick:b=>ce("feeling",u)},s(u),11,ns))),128))])])])]),e("div",is,[e("div",as,[t[12]||(t[12]=e("span",{class:"stat-label"},"ç»ƒä¹ æ—¶é•¿",-1)),e("span",os,s(Math.ceil(P.value/60))+"åˆ†é’Ÿ",1)]),e("div",ls,[t[13]||(t[13]=e("span",{class:"stat-label"},"ä¸“æ³¨åº¦",-1)),e("span",cs,s(R.value)+"%",1)])]),e("div",{class:"completion-actions"},[e("button",{class:"action-btn primary",onClick:d}," ğŸ”„ å†æ¬¡ç»ƒä¹  "),e("button",{class:"action-btn secondary",onClick:E}," ğŸ”€ é€‰æ‹©å…¶ä»–ç»ƒä¹  ")])])])):h("",!0)]))}},ms=me(us,[["__scopeId","data-v-65c3427c"]]);export{ms as default};
