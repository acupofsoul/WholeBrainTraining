import{o as n,a as o,b as s,F as m,h as p,g as h,t as c,n as g,m as v,d as k,z as M,s as y,v as w,x as _,y as f}from"./index-7434e420.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";const A={name:"ThreeDCard",data(){return{isTraining:!1,trainingPhase:"preparation",selectedMode:null,currentRound:1,correctAnswers:0,totalScore:0,showCompletionModal:!1,countdown:3,observeTimer:0,responseTime:0,averageTime:0,currentCard:null,userAnswers:{},isCorrect:!1,accuracy:0,roundScore:0,showColorPicker:!1,selectedColorIndex:0,selectedItem:null,trainingModes:[{id:"basic",name:"基础形状",icon:"🔷",description:"记忆简单的几何形状和颜色",difficulty:"简单",duration:"5-10分钟"},{id:"complex",name:"复合图形",icon:"🎯",description:"记忆多个图形的组合和位置",difficulty:"中等",duration:"10-15分钟"},{id:"numbers",name:"数字组合",icon:"🔢",description:"记忆数字序列和颜色组合",difficulty:"中等",duration:"8-12分钟"},{id:"symbols",name:"符号序列",icon:"🔣",description:"记忆复杂符号的排列组合",difficulty:"困难",duration:"12-18分钟"}],settings:{observeTime:5,totalRounds:10,difficulty:"medium",soundEnabled:!0,autoNext:!1,showHints:!0},shapeOptions:["circle","square","triangle","diamond","pentagon","hexagon"],colorOptions:["#ff4757","#2ed573","#3742fa","#ffa502","#ff6b81","#70a1ff","#5352ed","#ff9ff3"],symbolOptions:["★","♠","♥","♦","♣","◆","◇","○","●","△","▲","□","■"],availableItems:[],statistics:{totalSessions:0,averageAccuracy:0,averageTime:0,bestScore:0,modeStats:{},abilities:{spatial:75,shape:68,color:82,position:71,sequence:79}},timers:{countdown:null,observe:null,response:null}}},computed:{progressPercent(){return this.settings.observeTime===0?0:(this.settings.observeTime-this.observeTimer)/this.settings.observeTime*100},isAnswerComplete(){if(!this.currentCard)return!1;switch(this.currentCard.type){case"basic":return this.userAnswers.shape&&this.userAnswers.color;case"complex":return this.userAnswers.count&&this.userAnswers.arrangement&&this.userAnswers.arrangement.length>0;case"numbers":return this.userAnswers.numbers&&this.userAnswers.numbers.every(r=>r!=="")&&this.userAnswers.colorSequence&&this.userAnswers.colorSequence.every(r=>r);case"symbols":return this.userAnswers.symbols&&this.userAnswers.symbols.every(r=>r!=="");default:return!1}},rating(){const r=this.correctAnswers/this.settings.totalRounds*100;return r>=90?"S":r>=80?"A":r>=70?"B":r>=60?"C":"D"}},mounted(){this.loadStatistics()},beforeUnmount(){this.clearAllTimers()},methods:{selectMode(r){this.selectedMode=r},startTraining(){this.selectedMode&&(this.isTraining=!0,this.currentRound=1,this.correctAnswers=0,this.totalScore=0,this.trainingPhase="preparation",this.startCountdown())},startCountdown(){this.countdown=3,this.timers.countdown=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.timers.countdown),this.startObserving())},1e3)},startObserving(){this.generateCard(),this.trainingPhase="observing",this.observeTimer=this.settings.observeTime,this.timers.observe=setInterval(()=>{this.observeTimer--,this.observeTimer<=0&&(clearInterval(this.timers.observe),this.startAnswering())},1e3)},startAnswering(){this.trainingPhase="answering",this.initializeAnswers(),this.responseTime=0,this.timers.response=setInterval(()=>{this.responseTime++},1e3)},generateCard(){const r=this.trainingModes.find(t=>t.id===this.selectedMode);if(r)switch(r.id){case"basic":this.currentCard=this.generateBasicCard();break;case"complex":this.currentCard=this.generateComplexCard();break;case"numbers":this.currentCard=this.generateNumberCard();break;case"symbols":this.currentCard=this.generateSymbolCard();break}},generateBasicCard(){return{type:"basic",shape:this.shapeOptions[Math.floor(Math.random()*this.shapeOptions.length)],color:this.colorOptions[Math.floor(Math.random()*this.colorOptions.length)]}},generateComplexCard(){const r=Math.floor(Math.random()*4)+2,t=[];for(let u=0;u<r;u++)t.push({shape:this.shapeOptions[Math.floor(Math.random()*this.shapeOptions.length)],color:this.colorOptions[Math.floor(Math.random()*this.colorOptions.length)],x:Math.floor(Math.random()*200)-100,y:Math.floor(Math.random()*200)-100,rotation:Math.floor(Math.random()*360),layer:u+1});return{type:"complex",items:t}},generateNumberCard(){const r=Math.floor(Math.random()*3)+3,t=[],u=[],b=[],e=[];for(let l=0;l<r;l++)t.push(Math.floor(Math.random()*10)),u.push(this.colorOptions[Math.floor(Math.random()*this.colorOptions.length)]),b.push(Math.floor(Math.random()*20)+30),e.push(Math.floor(Math.random()*60)-30);return{type:"numbers",numbers:t,colors:u,sizes:b,rotations:e}},generateSymbolCard(){const r=Math.floor(Math.random()*3)+4,t=[],u=[],b=[],e=[];for(let l=0;l<r;l++)t.push(this.symbolOptions[Math.floor(Math.random()*this.symbolOptions.length)]),u.push(this.colorOptions[Math.floor(Math.random()*this.colorOptions.length)]),b.push(Math.random()*.5+.8),e.push(Math.floor(Math.random()*60)-30);return{type:"symbols",symbols:t,colors:u,scales:b,rotations:e}},initializeAnswers(){switch(this.currentCard.type){case"basic":this.userAnswers={shape:null,color:null};break;case"complex":this.userAnswers={count:null,arrangement:[]},this.generateAvailableItems();break;case"numbers":this.userAnswers={numbers:new Array(this.currentCard.numbers.length).fill(""),colorSequence:new Array(this.currentCard.colors.length).fill(null)};break;case"symbols":this.userAnswers={symbols:new Array(this.currentCard.symbols.length).fill("")};break}},generateAvailableItems(){this.availableItems=[],this.currentCard.items.forEach(r=>{this.availableItems.push({shape:r.shape,color:r.color})});for(let r=0;r<3;r++)this.availableItems.push({shape:this.shapeOptions[Math.floor(Math.random()*this.shapeOptions.length)],color:this.colorOptions[Math.floor(Math.random()*this.colorOptions.length)]});this.availableItems=this.availableItems.sort(()=>Math.random()-.5)},selectAnswer(r,t){this.userAnswers[r]=t},selectItem(r){this.selectedItem=r},startDrag(r,t){this.selectedItem=r,t.dataTransfer.setData("text/plain","")},removeItem(r){this.userAnswers.arrangement.splice(r,1)},openColorPicker(r){this.selectedColorIndex=r,this.showColorPicker=!0},selectColor(r){this.userAnswers.colorSequence[this.selectedColorIndex]=r,this.showColorPicker=!1},submitAnswer(){clearInterval(this.timers.response),this.checkAnswer(),this.trainingPhase="result",this.settings.autoNext&&setTimeout(()=>{this.nextRound()},2e3)},checkAnswer(){let r=!1,t=0;switch(this.currentCard.type){case"basic":r=this.userAnswers.shape===this.currentCard.shape&&this.userAnswers.color===this.currentCard.color,t=r?100:0;break;case"complex":const u=this.userAnswers.count===this.currentCard.items.length,b=Math.min(this.userAnswers.arrangement.length/this.currentCard.items.length,1);t=(u?50:0)+b*50,r=t>=70;break;case"numbers":let e=0,l=0;this.currentCard.numbers.forEach((a,d)=>{parseInt(this.userAnswers.numbers[d])===a&&e++}),this.currentCard.colors.forEach((a,d)=>{this.userAnswers.colorSequence[d]===a&&l++}),t=(e+l)/(this.currentCard.numbers.length*2)*100,r=t>=70;break;case"symbols":let i=0;this.currentCard.symbols.forEach((a,d)=>{this.userAnswers.symbols[d]===a&&i++}),t=i/this.currentCard.symbols.length*100,r=t>=70;break}this.isCorrect=r,this.accuracy=Math.round(t),r?(this.correctAnswers++,this.roundScore=Math.round(100-this.responseTime*2),this.roundScore=Math.max(this.roundScore,10)):this.roundScore=Math.round(t/2),this.totalScore+=this.roundScore,this.settings.soundEnabled&&this.playSound(r?"correct":"incorrect")},nextRound(){if(this.currentRound>=this.settings.totalRounds){this.completeTraining();return}this.currentRound++,this.trainingPhase="preparation",this.startCountdown()},completeTraining(){this.isTraining=!1,this.showCompletionModal=!0,this.calculateAverageTime(),this.saveStatistics()},calculateAverageTime(){this.averageTime=Math.round(this.responseTime)},pauseTraining(){this.timers.observe&&(clearInterval(this.timers.observe),this.trainingPhase="paused")},resumeTraining(){this.trainingPhase="observing",this.timers.observe=setInterval(()=>{this.observeTimer--,this.observeTimer<=0&&(clearInterval(this.timers.observe),this.startAnswering())},1e3)},stopTraining(){this.clearAllTimers(),this.isTraining=!1,this.trainingPhase="preparation"},adjustTime(r){this.settings.observeTime=Math.max(2,Math.min(10,this.settings.observeTime+r))},restartTraining(){this.showCompletionModal=!1,this.startTraining()},backToModes(){this.showCompletionModal=!1,this.selectedMode=null},closeModal(){this.showCompletionModal=!1},getShapeName(r){return{circle:"圆形",square:"正方形",triangle:"三角形",diamond:"菱形",pentagon:"五边形",hexagon:"六边形"}[r]||r},playSound(r){console.log(`Playing ${r} sound`)},clearAllTimers(){Object.values(this.timers).forEach(r=>{r&&clearInterval(r)})},saveStatistics(){const r={mode:this.selectedMode,rounds:this.settings.totalRounds,correct:this.correctAnswers,accuracy:Math.round(this.correctAnswers/this.settings.totalRounds*100),totalScore:this.totalScore,averageTime:this.averageTime,date:new Date().toISOString()},t=JSON.parse(localStorage.getItem("threeDCardStats")||"[]");t.push(r),localStorage.setItem("threeDCardStats",JSON.stringify(t)),this.updateStatistics()},loadStatistics(){JSON.parse(localStorage.getItem("threeDCardStats")||"[]").length>0&&this.updateStatistics()},updateStatistics(){const r=JSON.parse(localStorage.getItem("threeDCardStats")||"[]");r.length!==0&&(this.statistics.totalSessions=r.length,this.statistics.averageAccuracy=Math.round(r.reduce((t,u)=>t+u.accuracy,0)/r.length),this.statistics.averageTime=Math.round(r.reduce((t,u)=>t+u.averageTime,0)/r.length),this.statistics.bestScore=Math.max(...r.map(t=>t.totalScore)),this.trainingModes.forEach(t=>{const u=r.filter(b=>b.mode===t.id);u.length>0&&(this.statistics.modeStats[t.id]={sessions:u.length,accuracy:Math.round(u.reduce((b,e)=>b+e.accuracy,0)/u.length),best:Math.max(...u.map(b=>b.totalScore))})}))}}},S={class:"three-d-card-container"},x={key:0,class:"training-modes"},I={class:"mode-grid"},O=["onClick"],P={class:"mode-icon"},q={class:"mode-stats"},R=["disabled"],D={key:1,class:"training-interface"},N={class:"training-controls"},V={class:"control-group"},E={class:"time-control"},U=["disabled"],z=["disabled"],B={class:"control-group"},j={class:"training-stats"},J={class:"card-display"},H={key:0,class:"preparation-phase"},F={class:"preparation-message"},L={class:"countdown"},G={key:1,class:"observing-phase"},K={class:"card-area"},Q={key:0,class:"basic-shape"},W={key:1,class:"complex-shape"},X={key:2,class:"number-combination"},Y={key:3,class:"symbol-sequence"},Z={class:"observe-timer"},$={class:"observe-instructions"},ss={class:"progress-bar"},ts={key:2,class:"answer-phase"},es={class:"answer-area"},is={key:0,class:"basic-questions"},rs={class:"question-item"},ns={class:"shape-options"},os=["onClick"],ls={class:"question-item"},as={class:"color-options"},cs=["onClick"],us={key:1,class:"complex-questions"},ds={class:"question-item"},hs={class:"number-options"},ms=["onClick"],ps={class:"question-item"},vs={class:"rebuild-area"},bs={class:"canvas",ref:"rebuildCanvas"},gs=["onClick"],ys={class:"item-palette"},_s=["onClick","onDragstart"],fs={key:2,class:"number-questions"},Cs={class:"question-item"},ws={class:"number-input"},ks=["onUpdate:modelValue"],Ms={class:"question-item"},Ts={class:"color-sequence"},As=["onClick"],Ss={key:0,class:"color-picker"},xs=["onClick"],Is={key:3,class:"symbol-questions"},Os={class:"question-item"},Ps={class:"symbol-input"},qs=["onUpdate:modelValue"],Rs=["value"],Ds=["disabled"],Ns={key:3,class:"result-phase"},Vs={class:"result-area"},Es={class:"result-stats"},Us={class:"completion-stats"},zs={class:"stat-item"},Bs={class:"stat-value"},js={class:"stat-item"},Js={class:"stat-value"},Hs={class:"stat-item"},Fs={class:"stat-value"},Ls={class:"stat-item"},Gs={class:"stat-value"},Ks={class:"stat-item"},Qs={class:"modal-actions"},Ws={key:3,class:"training-settings"},Xs={class:"settings-grid"},Ys={class:"setting-group"},Zs={class:"setting-group"},$s={class:"setting-group"},st={class:"setting-group"},tt={class:"setting-group"},et={class:"setting-group"},it={key:4,class:"training-statistics"},rt={class:"stats-section"},nt={class:"stats-grid"},ot={class:"stat-card"},lt={class:"stat-number"},at={class:"stat-card"},ct={class:"stat-number"},ut={class:"stat-card"},dt={class:"stat-number"},ht={class:"stat-card"},mt={class:"stat-number"},pt={class:"stats-section"},vt={class:"mode-performance"},bt={class:"mode-info"},gt={class:"mode-name"},yt={class:"mode-difficulty"},_t={class:"performance-stats"},ft={class:"stat"},Ct={class:"stat-value"},wt={class:"stat"},kt={class:"stat-value"},Mt={class:"stat"},Tt={class:"stat-value"},At={class:"stats-section"},St={class:"ability-radar"},xt={class:"ability-details"},It={class:"ability-item"},Ot={class:"ability-bar"},Pt={class:"ability-score"},qt={class:"ability-item"},Rt={class:"ability-bar"},Dt={class:"ability-score"},Nt={class:"ability-item"},Vt={class:"ability-bar"},Et={class:"ability-score"},Ut={class:"ability-item"},zt={class:"ability-bar"},Bt={class:"ability-score"},jt={class:"ability-item"},Jt={class:"ability-bar"},Ht={class:"ability-score"};function Ft(r,t,u,b,e,l){return n(),o("div",S,[e.isTraining?h("",!0):(n(),o("div",x,[t[18]||(t[18]=s("h2",null,"选择训练模式",-1)),s("div",I,[(n(!0),o(m,null,p(e.trainingModes,i=>(n(),o("div",{key:i.id,class:g(["mode-card",{active:e.selectedMode===i.id}]),onClick:a=>l.selectMode(i.id)},[s("div",P,c(i.icon),1),s("h3",null,c(i.name),1),s("p",null,c(i.description),1),s("div",q,[s("span",null,"难度: "+c(i.difficulty),1),s("span",null,"时长: "+c(i.duration),1)])],10,O))),128))]),s("button",{class:"start-btn",disabled:!e.selectedMode,onClick:t[0]||(t[0]=(...i)=>l.startTraining&&l.startTraining(...i))}," 开始训练 ",8,R)])),e.isTraining?(n(),o("div",D,[s("div",N,[s("div",V,[t[19]||(t[19]=s("label",null,"观察时间:",-1)),s("div",E,[s("button",{onClick:t[1]||(t[1]=i=>l.adjustTime(-.5)),disabled:e.trainingPhase!=="preparation"},"-",8,U),s("span",null,c(e.settings.observeTime)+"s",1),s("button",{onClick:t[2]||(t[2]=i=>l.adjustTime(.5)),disabled:e.trainingPhase!=="preparation"},"+",8,z)])]),s("div",B,[e.trainingPhase==="observing"?(n(),o("button",{key:0,class:"control-btn",onClick:t[3]||(t[3]=(...i)=>l.pauseTraining&&l.pauseTraining(...i))},"暂停")):h("",!0),e.trainingPhase==="paused"?(n(),o("button",{key:1,class:"control-btn",onClick:t[4]||(t[4]=(...i)=>l.resumeTraining&&l.resumeTraining(...i))},"继续")):h("",!0),s("button",{class:"control-btn",onClick:t[5]||(t[5]=(...i)=>l.stopTraining&&l.stopTraining(...i))},"结束训练")]),s("div",j,[s("span",null,"轮次: "+c(e.currentRound)+"/"+c(e.settings.totalRounds),1),s("span",null,"正确率: "+c(Math.round(e.correctAnswers/Math.max(e.currentRound-1,1)*100))+"%",1),s("span",null,"平均时间: "+c(e.averageTime)+"s",1)])]),s("div",J,[e.trainingPhase==="preparation"?(n(),o("div",H,[s("div",F,[t[20]||(t[20]=s("h3",null,"准备观察3D卡片",-1)),t[21]||(t[21]=s("p",null,"请集中注意力，仔细观察即将出现的立体卡片",-1)),s("div",L,c(e.countdown),1)])])):h("",!0),e.trainingPhase==="observing"?(n(),o("div",G,[s("div",K,[s("div",{class:g(["card-3d",e.currentCard.type])},[e.currentCard.type==="basic"?(n(),o("div",Q,[s("div",{class:g(["shape-item",e.currentCard.shape]),style:v({backgroundColor:e.currentCard.color})},null,6)])):h("",!0),e.currentCard.type==="complex"?(n(),o("div",W,[(n(!0),o(m,null,p(e.currentCard.items,(i,a)=>(n(),o("div",{key:a,class:g(["shape-item",i.shape]),style:v({backgroundColor:i.color,transform:`translate(${i.x}px, ${i.y}px) rotate(${i.rotation}deg)`,zIndex:i.layer})},null,6))),128))])):h("",!0),e.currentCard.type==="numbers"?(n(),o("div",X,[(n(!0),o(m,null,p(e.currentCard.numbers,(i,a)=>(n(),o("div",{key:a,class:"number-item",style:v({color:e.currentCard.colors[a],fontSize:e.currentCard.sizes[a]+"px",transform:`rotate(${e.currentCard.rotations[a]}deg)`})},c(i),5))),128))])):h("",!0),e.currentCard.type==="symbols"?(n(),o("div",Y,[(n(!0),o(m,null,p(e.currentCard.symbols,(i,a)=>(n(),o("div",{key:a,class:"symbol-item",style:v({color:e.currentCard.colors[a],transform:`scale(${e.currentCard.scales[a]}) rotate(${e.currentCard.rotations[a]}deg)`})},c(i),5))),128))])):h("",!0)],2)]),s("div",Z,c(e.observeTimer),1),s("div",$,[t[22]||(t[22]=s("p",null,"仔细观察卡片上的内容，记住所有细节",-1)),s("div",ss,[s("div",{class:"progress-fill",style:v({width:l.progressPercent+"%"})},null,4)])])])):h("",!0),e.trainingPhase==="answering"?(n(),o("div",ts,[s("div",es,[t[31]||(t[31]=s("h3",null,"请根据记忆回答问题",-1)),e.currentCard.type==="basic"?(n(),o("div",is,[s("div",rs,[t[23]||(t[23]=s("p",null,"形状是什么？",-1)),s("div",ns,[(n(!0),o(m,null,p(e.shapeOptions,i=>(n(),o("div",{key:i,class:g(["shape-option",{selected:e.userAnswers.shape===i}]),onClick:a=>l.selectAnswer("shape",i)},[s("div",{class:g(["shape-preview",i])},null,2),s("span",null,c(l.getShapeName(i)),1)],10,os))),128))])]),s("div",ls,[t[24]||(t[24]=s("p",null,"颜色是什么？",-1)),s("div",as,[(n(!0),o(m,null,p(e.colorOptions,i=>(n(),o("div",{key:i,class:g(["color-option",{selected:e.userAnswers.color===i}]),style:v({backgroundColor:i}),onClick:a=>l.selectAnswer("color",i)},null,14,cs))),128))])])])):h("",!0),e.currentCard.type==="complex"?(n(),o("div",us,[s("div",ds,[t[25]||(t[25]=s("p",null,"有多少个图形？",-1)),s("div",hs,[(n(),o(m,null,p([2,3,4,5,6],i=>s("button",{key:i,class:g(["number-option",{selected:e.userAnswers.count===i}]),onClick:a=>l.selectAnswer("count",i)},c(i),11,ms)),64))])]),s("div",ps,[t[26]||(t[26]=s("p",null,"请重建图形排列",-1)),s("div",vs,[s("div",bs,[(n(!0),o(m,null,p(e.userAnswers.arrangement,(i,a)=>(n(),o("div",{key:a,class:g(["placed-item",i.shape]),style:v({backgroundColor:i.color,left:i.x+"px",top:i.y+"px",transform:`rotate(${i.rotation}deg)`}),onClick:d=>l.removeItem(a)},null,14,gs))),128))],512),s("div",ys,[(n(!0),o(m,null,p(e.availableItems,(i,a)=>(n(),o("div",{key:a,class:g(["palette-item",i.shape]),style:v({backgroundColor:i.color}),onClick:d=>l.selectItem(i),draggable:"true",onDragstart:d=>l.startDrag(i,d)},null,46,_s))),128))])])])])):h("",!0),e.currentCard.type==="numbers"?(n(),o("div",fs,[s("div",Cs,[t[27]||(t[27]=s("p",null,"数字序列是什么？",-1)),s("div",ws,[(n(!0),o(m,null,p(e.userAnswers.numbers,(i,a)=>y((n(),o("input",{key:a,"onUpdate:modelValue":d=>e.userAnswers.numbers[a]=d,type:"number",min:"0",max:"9",class:"number-field"},null,8,ks)),[[w,e.userAnswers.numbers[a]]])),128))])]),s("div",Ms,[t[28]||(t[28]=s("p",null,"颜色顺序是什么？",-1)),s("div",Ts,[(n(!0),o(m,null,p(e.userAnswers.colorSequence,(i,a)=>(n(),o("div",{key:a,class:"color-slot",style:v({backgroundColor:i||"#f0f0f0"}),onClick:d=>l.openColorPicker(a)},c(a+1),13,As))),128))]),e.showColorPicker?(n(),o("div",Ss,[(n(!0),o(m,null,p(e.colorOptions,i=>(n(),o("div",{key:i,class:"picker-color",style:v({backgroundColor:i}),onClick:a=>l.selectColor(i)},null,12,xs))),128))])):h("",!0)])])):h("",!0),e.currentCard.type==="symbols"?(n(),o("div",Is,[s("div",Os,[t[30]||(t[30]=s("p",null,"符号序列是什么？",-1)),s("div",Ps,[(n(!0),o(m,null,p(e.userAnswers.symbols,(i,a)=>y((n(),o("select",{key:a,"onUpdate:modelValue":d=>e.userAnswers.symbols[a]=d,class:"symbol-select"},[t[29]||(t[29]=s("option",{value:""},"选择符号",-1)),(n(!0),o(m,null,p(e.symbolOptions,d=>(n(),o("option",{key:d,value:d},c(d),9,Rs))),128))],8,qs)),[[_,e.userAnswers.symbols[a]]])),128))])])])):h("",!0),s("button",{class:"submit-btn",disabled:!l.isAnswerComplete,onClick:t[6]||(t[6]=(...i)=>l.submitAnswer&&l.submitAnswer(...i))}," 提交答案 ",8,Ds)])])):h("",!0),e.trainingPhase==="result"?(n(),o("div",Ns,[s("div",Vs,[s("h3",{class:g(e.isCorrect?"correct":"incorrect")},c(e.isCorrect?"回答正确！":"回答错误"),3),t[32]||(t[32]=k('<div class="result-comparison" data-v-1e8c999b><div class="original-card" data-v-1e8c999b><h4 data-v-1e8c999b>原始卡片</h4><div class="card-preview" data-v-1e8c999b></div></div><div class="user-answer" data-v-1e8c999b><h4 data-v-1e8c999b>您的答案</h4><div class="answer-preview" data-v-1e8c999b></div></div></div>',1)),s("div",Es,[s("p",null,"用时: "+c(e.responseTime)+"秒",1),s("p",null,"准确度: "+c(e.accuracy)+"%",1),s("p",null,"得分: "+c(e.roundScore)+"分",1)]),s("button",{class:"next-btn",onClick:t[7]||(t[7]=(...i)=>l.nextRound&&l.nextRound(...i))},"下一轮")])])):h("",!0)]),t[33]||(t[33]=s("div",{class:"training-tips"},[s("h4",null,"训练技巧"),s("ul",null,[s("li",null,"观察时要注意形状、颜色、位置、大小等所有细节"),s("li",null,"可以在脑中构建立体模型来帮助记忆"),s("li",null,"注意图形之间的相对位置关系"),s("li",null,"利用颜色和形状的组合来增强记忆"),s("li",null,"练习时保持专注，避免分心")])],-1))])):h("",!0),e.showCompletionModal?(n(),o("div",{key:2,class:"modal-overlay",onClick:t[11]||(t[11]=(...i)=>l.closeModal&&l.closeModal(...i))},[s("div",{class:"completion-modal",onClick:t[10]||(t[10]=M(()=>{},["stop"]))},[t[39]||(t[39]=s("h2",null,"训练完成！",-1)),s("div",Us,[s("div",zs,[t[34]||(t[34]=s("span",{class:"stat-label"},"总轮次:",-1)),s("span",Bs,c(e.settings.totalRounds),1)]),s("div",js,[t[35]||(t[35]=s("span",{class:"stat-label"},"正确率:",-1)),s("span",Js,c(Math.round(e.correctAnswers/e.settings.totalRounds*100))+"%",1)]),s("div",Hs,[t[36]||(t[36]=s("span",{class:"stat-label"},"平均用时:",-1)),s("span",Fs,c(e.averageTime)+"秒",1)]),s("div",Ls,[t[37]||(t[37]=s("span",{class:"stat-label"},"总得分:",-1)),s("span",Gs,c(e.totalScore)+"分",1)]),s("div",Ks,[t[38]||(t[38]=s("span",{class:"stat-label"},"评级:",-1)),s("span",{class:g(["stat-value","rating-"+l.rating.toLowerCase()])},c(l.rating),3)])]),s("div",Qs,[s("button",{class:"primary-btn",onClick:t[8]||(t[8]=(...i)=>l.restartTraining&&l.restartTraining(...i))},"重新训练"),s("button",{class:"secondary-btn",onClick:t[9]||(t[9]=(...i)=>l.backToModes&&l.backToModes(...i))},"返回模式选择")])])])):h("",!0),e.isTraining?h("",!0):(n(),o("div",Ws,[t[48]||(t[48]=s("h2",null,"训练设置",-1)),s("div",Xs,[s("div",Ys,[t[40]||(t[40]=s("label",null,"观察时间 (秒)",-1)),y(s("input",{type:"range","onUpdate:modelValue":t[12]||(t[12]=i=>e.settings.observeTime=i),min:"2",max:"10",step:"0.5"},null,512),[[w,e.settings.observeTime]]),s("span",null,c(e.settings.observeTime)+"秒",1)]),s("div",Zs,[t[42]||(t[42]=s("label",null,"训练轮次",-1)),y(s("select",{"onUpdate:modelValue":t[13]||(t[13]=i=>e.settings.totalRounds=i)},t[41]||(t[41]=[s("option",{value:"5"},"5轮",-1),s("option",{value:"10"},"10轮",-1),s("option",{value:"15"},"15轮",-1),s("option",{value:"20"},"20轮",-1)]),512),[[_,e.settings.totalRounds]])]),s("div",$s,[t[44]||(t[44]=s("label",null,"难度级别",-1)),y(s("select",{"onUpdate:modelValue":t[14]||(t[14]=i=>e.settings.difficulty=i)},t[43]||(t[43]=[s("option",{value:"easy"},"简单",-1),s("option",{value:"medium"},"中等",-1),s("option",{value:"hard"},"困难",-1)]),512),[[_,e.settings.difficulty]])]),s("div",st,[t[45]||(t[45]=s("label",null,"音效反馈",-1)),y(s("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=i=>e.settings.soundEnabled=i)},null,512),[[f,e.settings.soundEnabled]])]),s("div",tt,[t[46]||(t[46]=s("label",null,"自动下一轮",-1)),y(s("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=i=>e.settings.autoNext=i)},null,512),[[f,e.settings.autoNext]])]),s("div",et,[t[47]||(t[47]=s("label",null,"显示提示",-1)),y(s("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=i=>e.settings.showHints=i)},null,512),[[f,e.settings.showHints]])])])])),e.isTraining?h("",!0):(n(),o("div",it,[t[65]||(t[65]=s("h2",null,"训练统计",-1)),s("div",rt,[t[53]||(t[53]=s("h3",null,"总体表现",-1)),s("div",nt,[s("div",ot,[s("div",lt,c(e.statistics.totalSessions),1),t[49]||(t[49]=s("div",{class:"stat-label"},"训练次数",-1))]),s("div",at,[s("div",ct,c(e.statistics.averageAccuracy)+"%",1),t[50]||(t[50]=s("div",{class:"stat-label"},"平均正确率",-1))]),s("div",ut,[s("div",dt,c(e.statistics.averageTime)+"s",1),t[51]||(t[51]=s("div",{class:"stat-label"},"平均用时",-1))]),s("div",ht,[s("div",mt,c(e.statistics.bestScore),1),t[52]||(t[52]=s("div",{class:"stat-label"},"最高得分",-1))])])]),s("div",pt,[t[57]||(t[57]=s("h3",null,"不同模式表现",-1)),s("div",vt,[(n(!0),o(m,null,p(e.trainingModes,i=>{var a,d,C;return n(),o("div",{key:i.id,class:"performance-item"},[s("div",bt,[s("div",gt,c(i.name),1),s("div",yt,c(i.difficulty),1)]),s("div",_t,[s("div",ft,[t[54]||(t[54]=s("div",{class:"stat-label"},"次数",-1)),s("div",Ct,c(((a=e.statistics.modeStats[i.id])==null?void 0:a.sessions)||0),1)]),s("div",wt,[t[55]||(t[55]=s("div",{class:"stat-label"},"正确率",-1)),s("div",kt,c(((d=e.statistics.modeStats[i.id])==null?void 0:d.accuracy)||0)+"%",1)]),s("div",Mt,[t[56]||(t[56]=s("div",{class:"stat-label"},"最佳",-1)),s("div",Tt,c(((C=e.statistics.modeStats[i.id])==null?void 0:C.best)||0)+"分",1)])])])}),128))])]),s("div",At,[t[64]||(t[64]=s("h3",null,"能力分析",-1)),s("div",St,[t[63]||(t[63]=s("div",{class:"radar-chart"},[s("div",{class:"chart-placeholder"},[s("p",null,"📊 能力雷达图"),s("small",null,"显示各项能力的发展水平")])],-1)),s("div",xt,[s("div",It,[t[58]||(t[58]=s("span",{class:"ability-name"},"空间感知",-1)),s("div",Ot,[s("div",{class:"ability-progress",style:v({width:e.statistics.abilities.spatial+"%"})},null,4)]),s("span",Pt,c(e.statistics.abilities.spatial),1)]),s("div",qt,[t[59]||(t[59]=s("span",{class:"ability-name"},"形状识别",-1)),s("div",Rt,[s("div",{class:"ability-progress",style:v({width:e.statistics.abilities.shape+"%"})},null,4)]),s("span",Dt,c(e.statistics.abilities.shape),1)]),s("div",Nt,[t[60]||(t[60]=s("span",{class:"ability-name"},"颜色记忆",-1)),s("div",Vt,[s("div",{class:"ability-progress",style:v({width:e.statistics.abilities.color+"%"})},null,4)]),s("span",Et,c(e.statistics.abilities.color),1)]),s("div",Ut,[t[61]||(t[61]=s("span",{class:"ability-name"},"位置记忆",-1)),s("div",zt,[s("div",{class:"ability-progress",style:v({width:e.statistics.abilities.position+"%"})},null,4)]),s("span",Bt,c(e.statistics.abilities.position),1)]),s("div",jt,[t[62]||(t[62]=s("span",{class:"ability-name"},"序列记忆",-1)),s("div",Jt,[s("div",{class:"ability-progress",style:v({width:e.statistics.abilities.sequence+"%"})},null,4)]),s("span",Ht,c(e.statistics.abilities.sequence),1)])])])])]))])}const Kt=T(A,[["render",Ft],["__scopeId","data-v-1e8c999b"]]);export{Kt as default};
