import{o as u,a as c,b as t,F as w,h as v,s as f,v as p,t as l,f as m,g as d,n as h,D as y}from"./index-7434e420.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";const k={name:"BasicFlash",data(){return{selectedMode:null,isTraining:!1,showResults:!1,currentRound:0,currentContent:"",currentOptions:[],correctAnswer:"",userAnswer:"",isFlashing:!1,waitingForAnswer:!1,showFeedback:!1,feedbackType:"",feedbackMessage:"",results:[],startTime:0,settings:{flashDuration:500,intervalDuration:1e3,rounds:10},trainingModes:[{id:"numbers",name:"数字识别",description:"快速识别闪现的数字序列",icon:"fas fa-hashtag",speed:500,difficulty:"简单",type:"input",generator:this.generateNumbers},{id:"letters",name:"字母识别",description:"快速识别闪现的字母组合",icon:"fas fa-font",speed:600,difficulty:"中等",type:"input",generator:this.generateLetters},{id:"words",name:"词汇识别",description:"快速识别闪现的中文词汇",icon:"fas fa-language",speed:800,difficulty:"困难",type:"choice",generator:this.generateWords},{id:"colors",name:"颜色识别",description:"快速识别闪现的颜色名称",icon:"fas fa-palette",speed:400,difficulty:"简单",type:"choice",generator:this.generateColors}]}},computed:{accuracy(){if(this.results.length===0)return 0;const n=this.results.filter(s=>s.correct).length;return Math.round(n/this.results.length*100)},finalScore(){return Math.round(this.finalAccuracy*10)},finalAccuracy(){if(this.results.length===0)return 0;const n=this.results.filter(s=>s.correct).length;return Math.round(n/this.results.length*100)},correctCount(){return this.results.filter(n=>n.correct).length},averageResponseTime(){if(this.results.length===0)return 0;const n=this.results.reduce((s,i)=>s+i.responseTime,0);return Math.round(n/this.results.length)},fastestTime(){return this.results.length===0?0:Math.min(...this.results.map(n=>n.responseTime))}},methods:{selectMode(n){this.selectedMode=n,this.settings.flashDuration=n.speed},startTraining(){this.isTraining=!0,this.currentRound=0,this.results=[],this.nextFlash()},stopTraining(){this.isTraining=!1,this.showResults=!0},nextFlash(){if(this.currentRound>=this.settings.rounds){this.completeTraining();return}this.currentRound++,this.generateContent(),this.startTime=Date.now(),this.isFlashing=!0,this.waitingForAnswer=!1,this.showFeedback=!1,setTimeout(()=>{this.isFlashing=!1,this.waitingForAnswer=!0,this.$nextTick(()=>{this.$refs.answerInput&&this.$refs.answerInput.focus()})},this.settings.flashDuration)},generateContent(){const n=this.selectedMode.generator();this.currentContent=n.content,this.correctAnswer=n.answer,this.currentOptions=n.options||[]},generateNumbers(){const n=Math.floor(Math.random()*4)+3,s=Array.from({length:n},()=>Math.floor(Math.random()*10)).join("");return{content:s,answer:s}},generateLetters(){const n=Math.floor(Math.random()*3)+3,s=Array.from({length:n},()=>String.fromCharCode(65+Math.floor(Math.random()*26))).join("");return{content:s,answer:s}},generateWords(){const n=["苹果","香蕉","橙子","葡萄","草莓","西瓜","桃子","梨子","柠檬","樱桃"],s=n[Math.floor(Math.random()*n.length)],i=[s];for(;i.length<4;){const a=n[Math.floor(Math.random()*n.length)];i.includes(a)||i.push(a)}for(let a=i.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[i[a],i[e]]=[i[e],i[a]]}return{content:s,answer:s,options:i}},generateColors(){const n=["红色","蓝色","绿色","黄色","紫色","橙色","粉色","黑色","白色","灰色"],s=n[Math.floor(Math.random()*n.length)],i=[s];for(;i.length<4;){const a=n[Math.floor(Math.random()*n.length)];i.includes(a)||i.push(a)}for(let a=i.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[i[a],i[e]]=[i[e],i[a]]}return{content:s,answer:s,options:i}},submitAnswer(n){const s=Date.now()-this.startTime,i=n.toString().toLowerCase()===this.correctAnswer.toString().toLowerCase();this.results.push({round:this.currentRound,content:this.currentContent,userAnswer:n,correctAnswer:this.correctAnswer,correct:i,responseTime:s}),this.showFeedback=!0,this.feedbackType=i?"correct":"incorrect",this.feedbackMessage=i?"正确！":`错误，正确答案是: ${this.correctAnswer}`,this.userAnswer="",this.waitingForAnswer=!1,setTimeout(()=>{this.nextFlash()},1500)},completeTraining(){this.isTraining=!1,this.showResults=!0},restartTraining(){this.showResults=!1,this.startTraining()},backToModes(){this.showResults=!1,this.selectedMode=null}}},T={class:"basic-flash-container"},_={key:0,class:"training-modes"},A={class:"modes-grid"},C=["onClick"],F={class:"mode-icon"},x={class:"mode-stats"},D={key:0,class:"training-settings"},R={class:"settings-grid"},V={class:"setting-item"},B={class:"setting-item"},S={class:"setting-item"},L={key:1,class:"training-interface"},N={class:"training-header"},j={class:"training-info"},I={key:0,class:"flash-content"},U={key:1,class:"answer-prompt"},O={key:2,class:"ready-prompt"},K={key:0,class:"answer-section"},W={key:0,class:"answer-options"},z=["onClick"],E={key:1,class:"answer-input"},q={key:2,class:"training-results"},G={class:"results-summary"},H={class:"result-card"},J={class:"score"},P={class:"accuracy"},Q={class:"result-card"},X={class:"time"},Y={class:"time"},Z={class:"detailed-stats"},$={class:"stats-grid"},ss={class:"stat-item"},ts={class:"stat-item"},es={class:"stat-item"},ns={class:"result-actions"};function rs(n,s,i,a,e,o){return u(),c("div",T,[s[29]||(s[29]=t("div",{class:"page-header"},[t("h1",null,"基础闪视训练"),t("p",null,"通过快速闪现的内容提升视觉处理速度和注意力")],-1)),!e.isTraining&&!e.showResults?(u(),c("div",_,[s[16]||(s[16]=t("h2",null,"选择训练模式",-1)),t("div",A,[(u(!0),c(w,null,v(e.trainingModes,r=>{var g;return u(),c("div",{key:r.id,class:h(["mode-card",{active:((g=e.selectedMode)==null?void 0:g.id)===r.id}]),onClick:b=>o.selectMode(r)},[t("div",F,[t("i",{class:h(r.icon)},null,2)]),t("h3",null,l(r.name),1),t("p",null,l(r.description),1),t("div",x,[t("span",null,"速度: "+l(r.speed)+"ms",1),t("span",null,"难度: "+l(r.difficulty),1)])],10,C)}),128))]),e.selectedMode?(u(),c("div",D,[s[15]||(s[15]=t("h3",null,"训练设置",-1)),t("div",R,[t("div",V,[s[11]||(s[11]=t("label",null,"闪视速度 (毫秒)",-1)),f(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>e.settings.flashDuration=r),type:"range",min:"50",max:"2000",step:"50"},null,512),[[p,e.settings.flashDuration,void 0,{number:!0}]]),t("span",null,l(e.settings.flashDuration)+"ms",1)]),t("div",B,[s[12]||(s[12]=t("label",null,"间隔时间 (毫秒)",-1)),f(t("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>e.settings.intervalDuration=r),type:"range",min:"500",max:"3000",step:"100"},null,512),[[p,e.settings.intervalDuration,void 0,{number:!0}]]),t("span",null,l(e.settings.intervalDuration)+"ms",1)]),t("div",S,[s[13]||(s[13]=t("label",null,"训练轮数",-1)),f(t("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>e.settings.rounds=r),type:"range",min:"5",max:"50",step:"5"},null,512),[[p,e.settings.rounds,void 0,{number:!0}]]),t("span",null,l(e.settings.rounds)+"轮",1)])]),t("button",{onClick:s[3]||(s[3]=(...r)=>o.startTraining&&o.startTraining(...r)),class:"start-btn"},s[14]||(s[14]=[t("i",{class:"fas fa-play"},null,-1),m(" 开始训练 ",-1)]))])):d("",!0)])):d("",!0),e.isTraining?(u(),c("div",L,[t("div",N,[t("div",j,[t("span",null,"模式: "+l(e.selectedMode.name),1),t("span",null,"进度: "+l(e.currentRound)+"/"+l(e.settings.rounds),1),t("span",null,"正确率: "+l(o.accuracy)+"%",1)]),t("button",{onClick:s[4]||(s[4]=(...r)=>o.stopTraining&&o.stopTraining(...r)),class:"stop-btn"},s[17]||(s[17]=[t("i",{class:"fas fa-stop"},null,-1),m(" 停止训练 ",-1)]))]),t("div",{class:h(["flash-container",{flashing:e.isFlashing}])},[e.isFlashing?(u(),c("div",I,l(e.currentContent),1)):e.waitingForAnswer?(u(),c("div",U,s[18]||(s[18]=[t("p",null,"请输入刚才看到的内容:",-1)]))):(u(),c("div",O,[s[19]||(s[19]=t("p",null,"准备好了吗？",-1)),t("button",{onClick:s[5]||(s[5]=(...r)=>o.nextFlash&&o.nextFlash(...r)),class:"next-btn"},"下一个")]))],2),e.waitingForAnswer?(u(),c("div",K,[e.selectedMode.type==="choice"?(u(),c("div",W,[(u(!0),c(w,null,v(e.currentOptions,(r,g)=>(u(),c("button",{key:g,onClick:b=>o.submitAnswer(r),class:"option-btn"},l(r),9,z))),128))])):(u(),c("div",E,[f(t("input",{"onUpdate:modelValue":s[6]||(s[6]=r=>e.userAnswer=r),onKeyup:s[7]||(s[7]=y(r=>o.submitAnswer(e.userAnswer),["enter"])),placeholder:"输入答案",ref:"answerInput"},null,544),[[p,e.userAnswer]]),t("button",{onClick:s[8]||(s[8]=r=>o.submitAnswer(e.userAnswer)),class:"submit-btn"}," 提交 ")]))])):d("",!0),e.showFeedback?(u(),c("div",{key:1,class:h(["feedback",e.feedbackType])},[t("i",{class:h(e.feedbackType==="correct"?"fas fa-check":"fas fa-times")},null,2),t("span",null,l(e.feedbackMessage),1)],2)):d("",!0)])):d("",!0),e.showResults?(u(),c("div",q,[s[28]||(s[28]=t("h2",null,"训练完成",-1)),t("div",G,[t("div",H,[s[20]||(s[20]=t("h3",null,"总体表现",-1)),t("div",J,l(o.finalScore)+"分",1),t("div",P,"正确率: "+l(o.finalAccuracy)+"%",1)]),t("div",Q,[s[21]||(s[21]=t("h3",null,"反应时间",-1)),t("div",X,"平均: "+l(o.averageResponseTime)+"ms",1),t("div",Y,"最快: "+l(o.fastestTime)+"ms",1)])]),t("div",Z,[s[25]||(s[25]=t("h3",null,"详细统计",-1)),t("div",$,[t("div",ss,[s[22]||(s[22]=t("span",null,"总题数",-1)),t("span",null,l(e.results.length),1)]),t("div",ts,[s[23]||(s[23]=t("span",null,"正确数",-1)),t("span",null,l(o.correctCount),1)]),t("div",es,[s[24]||(s[24]=t("span",null,"错误数",-1)),t("span",null,l(e.results.length-o.correctCount),1)])])]),t("div",ns,[t("button",{onClick:s[9]||(s[9]=(...r)=>o.restartTraining&&o.restartTraining(...r)),class:"restart-btn"},s[26]||(s[26]=[t("i",{class:"fas fa-redo"},null,-1),m(" 重新训练 ",-1)])),t("button",{onClick:s[10]||(s[10]=(...r)=>o.backToModes&&o.backToModes(...r)),class:"back-modes-btn"},s[27]||(s[27]=[t("i",{class:"fas fa-list"},null,-1),m(" 选择模式 ",-1)]))])])):d("",!0)])}const ls=M(k,[["render",rs],["__scopeId","data-v-365f9f10"]]);export{ls as default};
