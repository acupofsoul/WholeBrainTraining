import{u as Ce,k as i,c as se,l as Ve,q as Be,o as u,a as r,b as e,t as a,n as m,m as I,F as p,h as g,s as c,v as D,x as $,d as we,y as N,f as M,A as H,z as Pe,g as Re}from"./index-7434e420.js";import{_ as Ue}from"./_plugin-vue_export-helper-c27b6911.js";const Ae={class:"metronome-container"},Ie={class:"metronome-player"},De={class:"player-card"},$e={class:"metronome-display"},Ne={class:"tempo-info"},Oe={class:"tempo-description"},qe={class:"visual-metronome"},Fe={class:"beat-indicator"},ze={class:"measure-counter"},Ee={class:"measure-number"},Le={class:"session-timer"},Ge={class:"timer-display"},je={class:"time-elapsed"},Ke={class:"session-duration"},He={class:"timer-progress"},Je={class:"progress-bar"},Qe={class:"metronome-controls"},We={class:"tempo-control"},Xe={class:"tempo-input-group"},Ye=["disabled"],Ze=["disabled"],et={class:"time-signature-control"},tt={class:"play-controls"},st={class:"audio-settings"},nt={class:"volume-control"},at={class:"volume-value"},it={class:"sound-selection"},ot={class:"preset-tempos"},lt={class:"presets-grid"},dt=["onClick"],ut={class:"preset-icon"},rt={class:"preset-bpm"},ct={class:"preset-description"},vt={class:"preset-benefits"},mt={class:"training-modes"},pt={class:"modes-grid"},gt=["onClick"],bt={class:"mode-header"},ft={class:"mode-icon"},yt={class:"mode-description"},_t={class:"mode-details"},ht={class:"detail-item"},St={class:"detail-value"},kt={class:"detail-item"},Mt={class:"detail-value"},Tt={class:"detail-item"},xt={class:"detail-value"},Ct={class:"mode-progress"},Vt={class:"progress-bar"},Bt={class:"progress-text"},wt={class:"start-mode-btn"},Pt={class:"session-settings"},Rt={class:"settings-grid"},Ut={class:"setting-card"},At={class:"setting-item"},It={class:"setting-item"},Dt={class:"setting-label"},$t={class:"setting-item"},Nt={class:"setting-label"},Ot={class:"setting-card"},qt={class:"setting-item"},Ft={class:"setting-label"},zt={class:"setting-item"},Et={class:"setting-label"},Lt={class:"setting-item"},Gt={class:"setting-card"},jt={class:"setting-item"},Kt={class:"setting-label"},Ht={class:"setting-item"},Jt={class:"setting-label"},Qt={class:"setting-item"},Wt={class:"setting-label"},Xt={class:"usage-analytics"},Yt={class:"analytics-grid"},Zt={class:"analytics-card"},es={class:"analytics-header"},ts={class:"stats-overview"},ss={class:"stat-item"},ns={class:"stat-info"},as={class:"stat-value"},is={class:"stat-item"},os={class:"stat-info"},ls={class:"stat-value"},ds={class:"stat-item"},us={class:"stat-info"},rs={class:"stat-value"},cs={class:"analytics-card"},vs={class:"tempo-chart"},ms={class:"chart-bars"},ps=["title"],gs={class:"bar-label"},bs={class:"analytics-card"},fs={class:"effect-ratings"},ys={class:"rating-item"},_s={class:"rating-stars"},hs={class:"rating-item"},Ss={class:"rating-stars"},ks={class:"rating-item"},Ms={class:"rating-stars"},Ts={class:"rating-item"},xs={class:"rating-stars"},Cs={class:"modal-content"},Vs={class:"session-summary"},Bs={class:"summary-item"},ws={class:"summary-value"},Ps={class:"summary-item"},Rs={class:"summary-value"},Us={class:"summary-item"},As={class:"summary-value"},Is={class:"effect-feedback"},Ds={class:"feedback-options"},$s=["onClick"],Ns=3e3,Os={__name:"Metronome",emits:["back"],setup(qs,{emit:Fs}){const J=Ce(),y=i(!1),l=i(120),V=i("4/4"),O=i(4),f=i(0),B=i(0),w=i(70),Q=i("click"),_=i(15),x=i(0),q=i("basic"),F=i(0),W=i(120),h=i([]);let v=null,X=null,Y=null;const o=i({autoStop:!0,countIn:!0,accentBeat:!0,visualOnly:!1,subdivision:"quarter",goal:"focus",soundType:"click",accentSoundType:"bell",volume:70,accentVolume:80,fadeIn:!1,fadeOut:!1,visualStyle:"pendulum",colorTheme:"auto",showBeatNumbers:!0,showMeasureCount:!0,showTimer:!0,fullscreenMode:!1,beatAnimation:"pulse",adaptiveTempo:!1,tempoVariation:0,progressiveTraining:!1,sessionReminders:!0,reminderInterval:5,preferredTempos:[60,80,120],customTimeSignatures:["4/4","3/4","2/4"],trainingGoals:{daily:20,weekly:140,monthly:600},polyrhythm:!1,polyrhythmRatio:"3:2",metronomeChain:!1,biofeedback:!1,heartRateSync:!1,hapticFeedback:!1,voiceCount:!1,accessibilityMode:!1,largeText:!1,highContrast:!1,maxVolume:85,maxSessionTime:60,breakReminders:!0,eyeStrainProtection:!0}),Z=i("month"),P=i(0),R=i(0),z=i(120),S=i({}),ee=i(0),k=i({focus:4,rhythm:4,relaxation:3,timing:4}),E=i(!1),L=i("");i([{id:1,name:"æ·±åº¦å†¥æƒ³",bpm:60,icon:"ğŸ§˜",description:"ç¼“æ…¢èŠ‚æ‹ï¼Œé€‚åˆæ·±åº¦å†¥æƒ³å’Œæ”¾æ¾",benefits:["æ·±åº¦æ”¾æ¾","å†…å¿ƒå¹³é™","å‹åŠ›é‡Šæ”¾"],category:"meditation",timeSignature:"4/4",difficulty:"beginner"},{id:2,name:"ä¸“æ³¨è®­ç»ƒ",bpm:80,icon:"ğŸ¯",description:"ä¸­æ…¢èŠ‚æ‹ï¼Œæå‡ä¸“æ³¨åŠ›å’Œé›†ä¸­åº¦",benefits:["ä¸“æ³¨åŠ›","é›†ä¸­åº¦","å¿ƒç†ç¨³å®š"],category:"focus",timeSignature:"4/4",difficulty:"beginner"},{id:3,name:"æ ‡å‡†èŠ‚æ‹",bpm:120,icon:"âš¡",description:"æ ‡å‡†èŠ‚æ‹ï¼Œé€‚åˆæ—¥å¸¸è®­ç»ƒ",benefits:["èŠ‚å¥æ„Ÿ","æ—¶é—´æ„Ÿ","åè°ƒæ€§"],category:"rhythm",timeSignature:"4/4",difficulty:"intermediate"},{id:4,name:"æ´»åŠ›è®­ç»ƒ",bpm:140,icon:"ğŸ”¥",description:"å¿«é€ŸèŠ‚æ‹ï¼Œæ¿€å‘æ´»åŠ›å’Œèƒ½é‡",benefits:["æ´»åŠ›æå‡","ååº”é€Ÿåº¦","åŠ¨æ€å¹³è¡¡"],category:"energy",timeSignature:"4/4",difficulty:"intermediate"},{id:5,name:"æŒ‘æˆ˜æ¨¡å¼",bpm:180,icon:"ğŸš€",description:"é«˜é€ŸèŠ‚æ‹ï¼ŒæŒ‘æˆ˜æé™ä¸“æ³¨åŠ›",benefits:["æé™ä¸“æ³¨","å¿«é€Ÿååº”","é«˜åº¦é›†ä¸­"],category:"challenge",timeSignature:"4/4",difficulty:"advanced"},{id:6,name:"å‘¼å¸åŒæ­¥",bpm:45,icon:"ğŸŒ¬ï¸",description:"è¶…æ…¢èŠ‚æ‹ï¼Œä¸æ·±å‘¼å¸èŠ‚å¥åŒæ­¥",benefits:["å‘¼å¸è°ƒèŠ‚","å¿ƒç‡å¹³ç¨³","æ·±åº¦æ”¾æ¾"],category:"breathing",timeSignature:"4/4",difficulty:"beginner"},{id:7,name:"å­¦ä¹ è¾…åŠ©",bpm:100,icon:"ğŸ“š",description:"é€‚ä¸­èŠ‚æ‹ï¼Œæå‡å­¦ä¹ æ•ˆç‡å’Œè®°å¿†åŠ›",benefits:["å­¦ä¹ æ•ˆç‡","è®°å¿†å¢å¼º","æ€ç»´æ¸…æ™°"],category:"study",timeSignature:"4/4",difficulty:"beginner"},{id:8,name:"åˆ›æ„æ¿€å‘",bpm:90,icon:"ğŸ¨",description:"çµæ„ŸèŠ‚æ‹ï¼Œæ¿€å‘åˆ›é€ åŠ›å’Œæƒ³è±¡åŠ›",benefits:["åˆ›é€ åŠ›","çµæ„Ÿæ¿€å‘","æ€ç»´å‘æ•£"],category:"creativity",timeSignature:"3/4",difficulty:"intermediate"},{id:9,name:"è¿åŠ¨åè°ƒ",bpm:160,icon:"ğŸƒ",description:"è¿åŠ¨èŠ‚æ‹ï¼Œæå‡èº«ä½“åè°ƒæ€§",benefits:["èº«ä½“åè°ƒ","è¿åŠ¨èŠ‚å¥","è‚Œè‚‰è®°å¿†"],category:"movement",timeSignature:"2/4",difficulty:"intermediate"},{id:10,name:"å¤åˆèŠ‚æ‹",bpm:110,icon:"ğŸ¼",description:"å¤æ‚æ‹å·ï¼Œè®­ç»ƒé«˜çº§èŠ‚å¥æ„Ÿ",benefits:["å¤æ‚èŠ‚å¥","éŸ³ä¹æ„ŸçŸ¥","è®¤çŸ¥çµæ´»"],category:"complex",timeSignature:"7/8",difficulty:"advanced"},{id:11,name:"ç¡å‰æ”¾æ¾",bpm:40,icon:"ğŸŒ™",description:"ææ…¢èŠ‚æ‹ï¼Œå¸®åŠ©å…¥ç¡å’Œæ·±åº¦ä¼‘æ¯",benefits:["åŠ©çœ æ•ˆæœ","æ·±åº¦æ”¾æ¾","å¿ƒç‡ä¸‹é™"],category:"sleep",timeSignature:"4/4",difficulty:"beginner"},{id:12,name:"æ™¨é—´å”¤é†’",bpm:130,icon:"â˜€ï¸",description:"æ´»åŠ›èŠ‚æ‹ï¼Œå”¤é†’èº«å¿ƒçŠ¶æ€",benefits:["ç²¾ç¥å”¤é†’","æ´»åŠ›æå‡","çŠ¶æ€è°ƒæ•´"],category:"morning",timeSignature:"4/4",difficulty:"intermediate"}]);const U=i([{id:"basic",name:"åŸºç¡€è®­ç»ƒ",description:"å›ºå®šèŠ‚æ‹è®­ç»ƒï¼Œå»ºç«‹ç¨³å®šçš„å†…åœ¨èŠ‚å¥æ„Ÿ",icon:"ğŸµ",level:"beginner",duration:10,tempoRange:"60-120 BPM",difficulty:"ç®€å•",totalSessions:10,completedSessions:0,benefits:["èŠ‚å¥æ„Ÿå»ºç«‹","æ—¶é—´æ„ŸåŸ¹å…»","åŸºç¡€åè°ƒ"],targetAudience:"åˆå­¦è€…ã€èŠ‚æ‹å™¨æ–°æ‰‹",stages:[{name:"é€‚åº”é˜¶æ®µ",duration:3,tempo:80,description:"ç†Ÿæ‚‰èŠ‚æ‹å™¨èŠ‚å¥"},{name:"ç¨³å®šé˜¶æ®µ",duration:4,tempo:100,description:"ä¿æŒç¨³å®šè·Ÿéš"},{name:"å·©å›ºé˜¶æ®µ",duration:3,tempo:120,description:"å·©å›ºèŠ‚å¥æ„Ÿ"}]},{id:"progressive",name:"æ¸è¿›è®­ç»ƒ",description:"èŠ‚æ‹é€æ¸åŠ å¿«ï¼Œæå‡é€‚åº”èƒ½åŠ›",icon:"ğŸ“ˆ",level:"intermediate",duration:15,tempoRange:"80-160 BPM",difficulty:"ä¸­ç­‰",totalSessions:8,completedSessions:0,benefits:["é€‚åº”èƒ½åŠ›","ååº”é€Ÿåº¦","èŠ‚å¥æ§åˆ¶"],targetAudience:"æœ‰åŸºç¡€çš„ç»ƒä¹ è€…",stages:[{name:"æ…¢é€Ÿèµ·æ­¥",duration:5,tempo:80,description:"ä»æ…¢é€Ÿå¼€å§‹é€‚åº”"},{name:"é€æ­¥åŠ é€Ÿ",duration:5,tempo:120,description:"é€æ¸æå‡èŠ‚æ‹é€Ÿåº¦"},{name:"å¿«é€ŸæŒ‘æˆ˜",duration:5,tempo:160,description:"æŒ‘æˆ˜å¿«é€ŸèŠ‚æ‹"}]},{id:"variable",name:"å˜é€Ÿè®­ç»ƒ",description:"èŠ‚æ‹éšæœºå˜åŒ–ï¼Œå¢å¼ºä¸“æ³¨åŠ›å’Œé€‚åº”æ€§",icon:"ğŸ”„",level:"advanced",duration:20,tempoRange:"60-180 BPM",difficulty:"å›°éš¾",totalSessions:12,completedSessions:0,benefits:["ä¸“æ³¨åŠ›","é€‚åº”æ€§","ååº”çµæ•"],targetAudience:"é«˜çº§ç»ƒä¹ è€…",stages:[{name:"å°å¹…å˜åŒ–",duration:6,tempo:100,description:"å°èŒƒå›´èŠ‚æ‹å˜åŒ–"},{name:"ä¸­å¹…å˜åŒ–",duration:7,tempo:120,description:"ä¸­ç­‰èŒƒå›´å˜åŒ–"},{name:"å¤§å¹…å˜åŒ–",duration:7,tempo:140,description:"å¤§èŒƒå›´éšæœºå˜åŒ–"}]},{id:"meditation",name:"å†¥æƒ³è¾…åŠ©",description:"ç¼“æ…¢ç¨³å®šèŠ‚æ‹ï¼Œè¾…åŠ©å†¥æƒ³ç»ƒä¹ ",icon:"ğŸŒŠ",level:"beginner",duration:25,tempoRange:"40-80 BPM",difficulty:"ç®€å•",totalSessions:15,completedSessions:0,benefits:["æ·±åº¦æ”¾æ¾","å†¥æƒ³ä¸“æ³¨","å¿ƒç‡è°ƒèŠ‚"],targetAudience:"å†¥æƒ³ç»ƒä¹ è€…ã€æ”¾æ¾éœ€æ±‚è€…",stages:[{name:"å…¥é™å‡†å¤‡",duration:5,tempo:60,description:"è¿›å…¥å†¥æƒ³çŠ¶æ€"},{name:"æ·±åº¦å†¥æƒ³",duration:15,tempo:45,description:"æ·±åº¦å†¥æƒ³ç»ƒä¹ "},{name:"å›å½’è°ƒæ•´",duration:5,tempo:60,description:"é€æ¸å›åˆ°æ­£å¸¸çŠ¶æ€"}]},{id:"complex",name:"å¤åˆèŠ‚æ‹",description:"å¤æ‚æ‹å·è®­ç»ƒï¼Œæå‡éŸ³ä¹æ„ŸçŸ¥èƒ½åŠ›",icon:"ğŸ¼",level:"advanced",duration:18,tempoRange:"90-150 BPM",difficulty:"å›°éš¾",totalSessions:10,completedSessions:0,benefits:["éŸ³ä¹æ„ŸçŸ¥","å¤æ‚èŠ‚å¥","è®¤çŸ¥çµæ´»"],targetAudience:"éŸ³ä¹å­¦ä¹ è€…ã€é«˜çº§ç»ƒä¹ è€…",stages:[{name:"3/4æ‹ç»ƒä¹ ",duration:6,tempo:100,description:"ä¸‰æ‹å­èŠ‚å¥è®­ç»ƒ"},{name:"5/4æ‹ç»ƒä¹ ",duration:6,tempo:110,description:"äº”æ‹å­èŠ‚å¥è®­ç»ƒ"},{name:"7/8æ‹ç»ƒä¹ ",duration:6,tempo:120,description:"å¤æ‚æ‹å·è®­ç»ƒ"}]},{id:"breathing",name:"å‘¼å¸åŒæ­¥",description:"ä¸å‘¼å¸èŠ‚å¥åŒæ­¥ï¼Œè°ƒèŠ‚èº«å¿ƒçŠ¶æ€",icon:"ğŸŒ¬ï¸",level:"beginner",duration:20,tempoRange:"30-60 BPM",difficulty:"ç®€å•",totalSessions:12,completedSessions:0,benefits:["å‘¼å¸è°ƒèŠ‚","å¿ƒç‡å¹³ç¨³","å‹åŠ›ç¼“è§£"],targetAudience:"å‹åŠ›å¤§çš„äººç¾¤ã€å‘¼å¸ç»ƒä¹ è€…",stages:[{name:"è‡ªç„¶å‘¼å¸",duration:5,tempo:45,description:"è·Ÿéšè‡ªç„¶å‘¼å¸èŠ‚å¥"},{name:"æ·±åº¦å‘¼å¸",duration:10,tempo:30,description:"æ·±åº¦å‘¼å¸ç»ƒä¹ "},{name:"èŠ‚å¥å‘¼å¸",duration:5,tempo:40,description:"å»ºç«‹è§„å¾‹å‘¼å¸"}]},{id:"focus",name:"ä¸“æ³¨åŠ›å¼ºåŒ–",description:"é€šè¿‡èŠ‚æ‹è®­ç»ƒæå‡ä¸“æ³¨åŠ›å’Œæ³¨æ„åŠ›",icon:"ğŸ¯",level:"intermediate",duration:12,tempoRange:"80-120 BPM",difficulty:"ä¸­ç­‰",totalSessions:14,completedSessions:0,benefits:["ä¸“æ³¨åŠ›","æ³¨æ„åŠ›","å¿ƒç†ç¨³å®š"],targetAudience:"å­¦ç”Ÿã€éœ€è¦ä¸“æ³¨çš„å·¥ä½œè€…",stages:[{name:"æ³¨æ„åŠ›é›†ä¸­",duration:4,tempo:80,description:"é›†ä¸­æ³¨æ„åŠ›è®­ç»ƒ"},{name:"æŒç»­ä¸“æ³¨",duration:4,tempo:100,description:"ç»´æŒä¸“æ³¨çŠ¶æ€"},{name:"æ·±åº¦ä¸“æ³¨",duration:4,tempo:120,description:"æ·±åº¦ä¸“æ³¨è®­ç»ƒ"}]},{id:"creativity",name:"åˆ›æ„æ¿€å‘",description:"ç‰¹æ®ŠèŠ‚æ‹æ¨¡å¼æ¿€å‘åˆ›é€ åŠ›å’Œçµæ„Ÿ",icon:"ğŸ¨",level:"intermediate",duration:16,tempoRange:"70-110 BPM",difficulty:"ä¸­ç­‰",totalSessions:8,completedSessions:0,benefits:["åˆ›é€ åŠ›","çµæ„Ÿæ¿€å‘","æ€ç»´å‘æ•£"],targetAudience:"åˆ›ä½œè€…ã€è®¾è®¡å¸ˆã€è‰ºæœ¯å®¶",stages:[{name:"æ€ç»´æ”¾æ¾",duration:5,tempo:70,description:"æ”¾æ¾æ€ç»´çŠ¶æ€"},{name:"çµæ„Ÿæ¶Œç°",duration:6,tempo:90,description:"æ¿€å‘åˆ›æ„çµæ„Ÿ"},{name:"åˆ›æ„æ•´åˆ",duration:5,tempo:110,description:"æ•´åˆåˆ›æ„æ€è·¯"}]}]),ne=i([{value:"excellent",label:"éå¸¸å¥½",icon:"ğŸ˜Š"},{value:"good",label:"ä¸é”™",icon:"ğŸ™‚"},{value:"average",label:"ä¸€èˆ¬",icon:"ğŸ˜"},{value:"poor",label:"ä¸å¤ªå¥½",icon:"ğŸ˜•"}]),ae=se(()=>60/l.value),ie=se(()=>{const n=_.value*60;return x.value/n*100}),oe=n=>n<60?"ææ…¢ - æ·±åº¦å†¥æƒ³":n<80?"æ…¢é€Ÿ - æ”¾æ¾å†¥æƒ³":n<100?"ä¸­æ…¢ - ä¸“æ³¨è®­ç»ƒ":n<120?"ä¸­é€Ÿ - æ ‡å‡†èŠ‚æ‹":n<140?"ä¸­å¿« - æ´»åŠ›è®­ç»ƒ":n<160?"å¿«é€Ÿ - æŒ‘æˆ˜æ¨¡å¼":"æå¿« - æé™æŒ‘æˆ˜",le=()=>{y.value?C():G()},G=()=>{y.value=!0,f.value=0,B.value=0,F.value=0,de(),re(),ce()},C=()=>{y.value=!1,clearInterval(X),clearInterval(Y)},de=()=>{v||(v=new(window.AudioContext||window.webkitAudioContext))},ue=(n=!1)=>{if(o.value.visualOnly||!v)return;const t=v.createOscillator(),s=v.createGain();t.connect(s),s.connect(v.destination);const d=n&&o.value.accentBeat?800:600,b=.1,K=w.value/100*.3;t.frequency.setValueAtTime(d,v.currentTime),s.gain.setValueAtTime(K,v.currentTime),s.gain.exponentialRampToValueAtTime(.001,v.currentTime+b),t.start(v.currentTime),t.stop(v.currentTime+b)},re=()=>{const n=60/l.value*1e3;X=setInterval(()=>{f.value++,F.value++,f.value>O.value&&(f.value=1,B.value++);const t=f.value===1;ue(t)},n)},ce=()=>{Y=setInterval(()=>{x.value++,x.value>=_.value*60&&ve()},1e3)},ve=()=>{C(),R.value++,P.value+=_.value,W.value=l.value;const n=Math.floor(l.value/20)*20,t=`${n}-${n+19}`;S.value[t]=(S.value[t]||0)+1,Me(),o.value.autoStop&&(E.value=!0)},T=()=>{y.value&&(C(),setTimeout(()=>{G()},100))},me=()=>{l.value<200&&(l.value+=5,T())},pe=()=>{l.value>40&&(l.value-=5,T())},j=()=>{const[n]=V.value.split("/");O.value=parseInt(n),y.value&&(f.value=0,B.value=0)},ge=()=>{},be=()=>{},fe=()=>{const n=Date.now();if(h.value.push(n),h.value=h.value.filter(t=>n-t<Ns),h.value.length>=2){const t=[];for(let b=1;b<h.value.length;b++)t.push(h.value[b]-h.value[b-1]);const s=t.reduce((b,K)=>b+K)/t.length,d=Math.round(6e4/s);d>=40&&d<=200&&(l.value=d,T())}},ye=n=>{l.value=n.bpm,T()},_e=n=>{switch(q.value=n.id,n.id){case"meditation":l.value=60,o.value.goal="meditation";break;case"progressive":l.value=80,o.value.goal="focus";break;case"variable":l.value=120,o.value.goal="focus";break;case"complex":V.value="3/4",j();break;default:l.value=120,o.value.goal="rhythm"}},he=n=>({beginner:"åˆçº§",intermediate:"ä¸­çº§",advanced:"é«˜çº§"})[n]||"ä¸­çº§",Se=()=>{const n=U.value.find(t=>t.id===q.value);return n?n.name:"åŸºç¡€è®­ç»ƒ"},te=n=>{const t=Math.floor(n/60),s=n%60;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},A=()=>{E.value=!1,L.value="",x.value=0},ke=()=>{A(),G()},Me=()=>{const n={settings:o.value,modes:U.value,analytics:{totalTrainingMinutes:P.value,totalSessions:R.value,averageTempo:z.value,tempoUsage:S.value,effectRatings:k.value}};J.saveMeditationModuleData("metronome",n)},Te=()=>{const n=J.getMeditationModuleData("metronome");n&&(n.settings&&(o.value={...o.value,...n.settings}),n.modes&&(U.value=n.modes),n.analytics&&(P.value=n.analytics.totalTrainingMinutes||0,R.value=n.analytics.totalSessions||0,z.value=n.analytics.averageTempo||120,S.value=n.analytics.tempoUsage||{},k.value={...k.value,...n.analytics.effectRatings})),xe()},xe=()=>{["40-59","60-79","80-99","100-119","120-139","140-159","160-179","180-199"].forEach(t=>{S.value[t]=Math.floor(Math.random()*30)+5}),ee.value=Math.max(...Object.values(S.value))};return Ve(()=>{Te(),j()}),Be(()=>{C(),v&&v.close()}),(n,t)=>(u(),r("div",Ae,[e("div",Ie,[e("div",De,[e("div",$e,[e("div",Ne,[e("h3",null,a(l.value)+" BPM",1),e("p",Oe,a(oe(l.value)),1)]),e("div",qe,[e("div",{class:m(["metronome-pendulum",{active:y.value}])},[e("div",{class:"pendulum-rod",style:I({animationDuration:ae.value+"s"})},t[16]||(t[16]=[e("div",{class:"pendulum-weight"},null,-1)]),4)],2),e("div",Fe,[(u(!0),r(p,null,g(O.value,(s,d)=>(u(),r("div",{key:d,class:m(["beat-dot",{active:f.value===d+1,accent:d===0&&f.value===1}])},a(d+1),3))),128))]),e("div",ze,[t[17]||(t[17]=e("span",{class:"measure-label"},"å°èŠ‚ï¼š",-1)),e("span",Ee,a(B.value),1)])]),e("div",Le,[e("div",Ge,[e("span",je,a(te(x.value)),1),e("span",Ke,"/ "+a(te(_.value*60)),1)]),e("div",He,[e("div",Je,[e("div",{class:"progress-fill",style:I({width:ie.value+"%"})},null,4)])])])]),e("div",Qe,[e("div",We,[t[18]||(t[18]=e("label",null,"èŠ‚æ‹é€Ÿåº¦ (BPM)ï¼š",-1)),e("div",Xe,[e("button",{class:"tempo-btn",onClick:pe,disabled:l.value<=40},"-",8,Ye),c(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),min:"40",max:"200",class:"tempo-input",onInput:T},null,544),[[D,l.value]]),e("button",{class:"tempo-btn",onClick:me,disabled:l.value>=200},"+",8,Ze)]),c(e("input",{type:"range","onUpdate:modelValue":t[1]||(t[1]=s=>l.value=s),min:"40",max:"200",class:"tempo-slider",onInput:T},null,544),[[D,l.value]])]),e("div",et,[t[20]||(t[20]=e("label",null,"æ‹å·ï¼š",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>V.value=s),onChange:j,class:"time-signature-select"},t[19]||(t[19]=[e("option",{value:"4/4"},"4/4",-1),e("option",{value:"3/4"},"3/4",-1),e("option",{value:"2/4"},"2/4",-1),e("option",{value:"6/8"},"6/8",-1)]),544),[[$,V.value]])]),e("div",tt,[e("button",{class:"control-btn",onClick:le},a(y.value?"â¸ï¸":"â–¶ï¸"),1),e("button",{class:"control-btn",onClick:C},"â¹ï¸"),e("button",{class:"control-btn",onClick:fe},"ğŸ‘† Tap")]),e("div",st,[e("div",nt,[t[21]||(t[21]=e("label",null,"éŸ³é‡ï¼š",-1)),c(e("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":t[3]||(t[3]=s=>w.value=s),class:"volume-slider",onInput:ge},null,544),[[D,w.value]]),e("span",at,a(w.value)+"%",1)]),e("div",it,[t[23]||(t[23]=e("label",null,"èŠ‚æ‹éŸ³æ•ˆï¼š",-1)),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>Q.value=s),onChange:be,class:"sound-select"},t[22]||(t[22]=[we('<option value="click" data-v-8a9b0193>å’”å—’å£°</option><option value="beep" data-v-8a9b0193>èœ‚é¸£å£°</option><option value="wood" data-v-8a9b0193>æœ¨å—å£°</option><option value="bell" data-v-8a9b0193>é“ƒå£°</option><option value="drum" data-v-8a9b0193>é¼“å£°</option>',5)]),544),[[$,Q.value]])])])])])]),e("div",ot,[t[24]||(t[24]=e("h3",null,"é¢„è®¾èŠ‚æ‹",-1)),e("div",lt,[(u(!0),r(p,null,g(n.tempoPresets,s=>(u(),r("div",{key:s.id,class:m(["preset-card",{active:l.value===s.bpm}]),onClick:d=>ye(s)},[e("div",ut,a(s.icon),1),e("h4",null,a(s.name),1),e("p",rt,a(s.bpm)+" BPM",1),e("p",ct,a(s.description),1),e("div",vt,[(u(!0),r(p,null,g(s.benefits,d=>(u(),r("span",{key:d,class:"benefit-tag"},a(d),1))),128))])],10,dt))),128))])]),e("div",mt,[t[28]||(t[28]=e("h3",null,"è®­ç»ƒæ¨¡å¼",-1)),e("div",pt,[(u(!0),r(p,null,g(U.value,s=>(u(),r("div",{key:s.id,class:m(["mode-card",{active:q.value===s.id}]),onClick:d=>_e(s)},[e("div",bt,[e("div",ft,a(s.icon),1),e("div",{class:m(["mode-level",s.level])},a(he(s.level)),3)]),e("h4",null,a(s.name),1),e("p",yt,a(s.description),1),e("div",_t,[e("div",ht,[t[25]||(t[25]=e("span",{class:"detail-label"},"æ—¶é•¿ï¼š",-1)),e("span",St,a(s.duration)+"åˆ†é’Ÿ",1)]),e("div",kt,[t[26]||(t[26]=e("span",{class:"detail-label"},"èŠ‚æ‹èŒƒå›´ï¼š",-1)),e("span",Mt,a(s.tempoRange),1)]),e("div",Tt,[t[27]||(t[27]=e("span",{class:"detail-label"},"éš¾åº¦ï¼š",-1)),e("span",xt,a(s.difficulty),1)])]),e("div",Ct,[e("div",Vt,[e("div",{class:"progress-fill",style:I({width:s.completedSessions/s.totalSessions*100+"%"})},null,4)]),e("span",Bt,a(s.completedSessions)+"/"+a(s.totalSessions)+" å®Œæˆ",1)]),e("button",wt,a(s.completedSessions===0?"å¼€å§‹è®­ç»ƒ":"ç»§ç»­è®­ç»ƒ"),1)],10,gt))),128))])]),e("div",Pt,[t[42]||(t[42]=e("h3",null,"ä¼šè¯è®¾ç½®",-1)),e("div",Rt,[e("div",Ut,[t[32]||(t[32]=e("h4",null,"â° æ—¶é—´è®¾ç½®",-1)),e("div",At,[t[29]||(t[29]=e("label",null,"ä¼šè¯æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ï¼š",-1)),c(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=s=>_.value=s),min:"5",max:"60",class:"number-input"},null,512),[[D,_.value]])]),e("div",It,[e("label",Dt,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=s=>o.value.autoStop=s)},null,512),[[N,o.value.autoStop]]),t[30]||(t[30]=M(" æ—¶é—´åˆ°è‡ªåŠ¨åœæ­¢ ",-1))])]),e("div",$t,[e("label",Nt,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>o.value.countIn=s)},null,512),[[N,o.value.countIn]]),t[31]||(t[31]=M(" å¼€å§‹å‰é¢„å¤‡æ‹ ",-1))])])]),e("div",Ot,[t[37]||(t[37]=e("h4",null,"ğŸµ éŸ³é¢‘è®¾ç½®",-1)),e("div",qt,[e("label",Ft,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=s=>o.value.accentBeat=s)},null,512),[[N,o.value.accentBeat]]),t[33]||(t[33]=M(" å¼ºæ‹é‡éŸ³ ",-1))])]),e("div",zt,[e("label",Et,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=s=>o.value.visualOnly=s)},null,512),[[N,o.value.visualOnly]]),t[34]||(t[34]=M(" ä»…è§†è§‰æ¨¡å¼ ",-1))])]),e("div",Lt,[t[36]||(t[36]=e("label",null,"èŠ‚æ‹ç»†åˆ†ï¼š",-1)),c(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>o.value.subdivision=s),class:"select-input"},t[35]||(t[35]=[e("option",{value:"quarter"},"å››åˆ†éŸ³ç¬¦",-1),e("option",{value:"eighth"},"å…«åˆ†éŸ³ç¬¦",-1),e("option",{value:"sixteenth"},"åå…­åˆ†éŸ³ç¬¦",-1)]),512),[[$,o.value.subdivision]])])]),e("div",Gt,[t[41]||(t[41]=e("h4",null,"ğŸ¯ è®­ç»ƒç›®æ ‡",-1)),e("div",jt,[e("label",Kt,[c(e("input",{type:"radio","onUpdate:modelValue":t[11]||(t[11]=s=>o.value.goal=s),value:"focus"},null,512),[[H,o.value.goal]]),t[38]||(t[38]=M(" ä¸“æ³¨åŠ›è®­ç»ƒ ",-1))])]),e("div",Ht,[e("label",Jt,[c(e("input",{type:"radio","onUpdate:modelValue":t[12]||(t[12]=s=>o.value.goal=s),value:"rhythm"},null,512),[[H,o.value.goal]]),t[39]||(t[39]=M(" èŠ‚å¥æ„ŸåŸ¹å…» ",-1))])]),e("div",Qt,[e("label",Wt,[c(e("input",{type:"radio","onUpdate:modelValue":t[13]||(t[13]=s=>o.value.goal=s),value:"meditation"},null,512),[[H,o.value.goal]]),t[40]||(t[40]=M(" å†¥æƒ³è¾…åŠ© ",-1))])])])])]),e("div",Xt,[t[57]||(t[57]=e("h3",null,"ä½¿ç”¨åˆ†æ",-1)),e("div",Yt,[e("div",Zt,[e("div",es,[t[44]||(t[44]=e("h4",null,"ğŸ“Š è®­ç»ƒç»Ÿè®¡",-1)),c(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>Z.value=s),class:"time-range-select"},t[43]||(t[43]=[e("option",{value:"week"},"æœ€è¿‘ä¸€å‘¨",-1),e("option",{value:"month"},"æœ€è¿‘ä¸€æœˆ",-1),e("option",{value:"quarter"},"æœ€è¿‘ä¸‰æœˆ",-1)]),512),[[$,Z.value]])]),e("div",ts,[e("div",ss,[t[46]||(t[46]=e("div",{class:"stat-icon"},"â±ï¸",-1)),e("div",ns,[e("span",as,a(P.value),1),t[45]||(t[45]=e("span",{class:"stat-label"},"æ€»è®­ç»ƒæ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰",-1))])]),e("div",is,[t[48]||(t[48]=e("div",{class:"stat-icon"},"ğŸ¯",-1)),e("div",os,[e("span",ls,a(R.value),1),t[47]||(t[47]=e("span",{class:"stat-label"},"æ€»ä¼šè¯æ¬¡æ•°",-1))])]),e("div",ds,[t[50]||(t[50]=e("div",{class:"stat-icon"},"ğŸµ",-1)),e("div",us,[e("span",rs,a(z.value),1),t[49]||(t[49]=e("span",{class:"stat-label"},"å¹³å‡èŠ‚æ‹ (BPM)",-1))])])])]),e("div",cs,[t[51]||(t[51]=e("h4",null,"ğŸ“ˆ èŠ‚æ‹åˆ†å¸ƒ",-1)),e("div",vs,[e("div",ms,[(u(!0),r(p,null,g(S.value,(s,d)=>(u(),r("div",{key:d,class:"chart-bar",style:I({height:s/ee.value*100+"%"}),title:`${d} BPM: ${s}æ¬¡`},[e("span",gs,a(d),1)],12,ps))),128))])])]),e("div",bs,[t[56]||(t[56]=e("h4",null,"ğŸ¯ è®­ç»ƒæ•ˆæœ",-1)),e("div",fs,[e("div",ys,[t[52]||(t[52]=e("span",{class:"rating-label"},"ä¸“æ³¨åŠ›ï¼š",-1)),e("div",_s,[(u(),r(p,null,g(5,s=>e("span",{key:s,class:m(["star",{filled:s<=k.value.focus}])},"â­",2)),64))])]),e("div",hs,[t[53]||(t[53]=e("span",{class:"rating-label"},"èŠ‚å¥æ„Ÿï¼š",-1)),e("div",Ss,[(u(),r(p,null,g(5,s=>e("span",{key:s,class:m(["star",{filled:s<=k.value.rhythm}])},"â­",2)),64))])]),e("div",ks,[t[54]||(t[54]=e("span",{class:"rating-label"},"æ”¾æ¾åº¦ï¼š",-1)),e("div",Ms,[(u(),r(p,null,g(5,s=>e("span",{key:s,class:m(["star",{filled:s<=k.value.relaxation}])},"â­",2)),64))])]),e("div",Ts,[t[55]||(t[55]=e("span",{class:"rating-label"},"æ—¶é—´æ„Ÿï¼š",-1)),e("div",xs,[(u(),r(p,null,g(5,s=>e("span",{key:s,class:m(["star",{filled:s<=k.value.timing}])},"â­",2)),64))])])])])])]),E.value?(u(),r("div",{key:0,class:"modal-overlay",onClick:A},[e("div",{class:"session-modal",onClick:t[15]||(t[15]=Pe(()=>{},["stop"]))},[e("div",{class:"modal-header"},[t[58]||(t[58]=e("h3",null,"ğŸ‰ è®­ç»ƒå®Œæˆ",-1)),e("button",{class:"close-btn",onClick:A},"Ã—")]),e("div",Cs,[e("p",null,"æ‚¨å·²å®Œæˆ "+a(_.value)+" åˆ†é’Ÿçš„èŠ‚æ‹å™¨è®­ç»ƒï¼",1),e("div",Vs,[e("div",Bs,[t[59]||(t[59]=e("span",{class:"summary-label"},"å¹³å‡èŠ‚æ‹ï¼š",-1)),e("span",ws,a(W.value)+" BPM",1)]),e("div",Ps,[t[60]||(t[60]=e("span",{class:"summary-label"},"æ€»èŠ‚æ‹æ•°ï¼š",-1)),e("span",Rs,a(F.value),1)]),e("div",Us,[t[61]||(t[61]=e("span",{class:"summary-label"},"è®­ç»ƒæ¨¡å¼ï¼š",-1)),e("span",As,a(Se()),1)])]),e("div",Is,[t[62]||(t[62]=e("h4",null,"è¯·è¯„ä»·æœ¬æ¬¡è®­ç»ƒæ•ˆæœï¼š",-1)),e("div",Ds,[(u(!0),r(p,null,g(ne.value,s=>(u(),r("button",{key:s.value,class:m(["feedback-btn",{selected:L.value===s.value}]),onClick:d=>L.value=s.value},a(s.icon)+" "+a(s.label),11,$s))),128))])]),e("div",{class:"modal-actions"},[e("button",{class:"secondary-btn",onClick:A},"å®Œæˆ"),e("button",{class:"primary-btn",onClick:ke},"å†æ¥ä¸€æ¬¡")])])])])):Re("",!0)]))}},Ls=Ue(Os,[["__scopeId","data-v-8a9b0193"]]);export{Ls as default};
