import{i as b,r as w,o as c,a as d,b as s,F as f,h as _,g as u,t as r,n as g,m as p,p as T,v as C,E as R,f as S,e as k,y as A,l as x}from"./index-e0b54b24.js";import{S as F,a as I}from"./configService-cad34a82.js";import{u as M}from"./useTrainingSettings-353bc7b0.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const q={name:"ArticleFlash",components:{SettingsModal:F,SettingsButton:I},emits:["go-back"],setup(){const{settings:t,isLoading:e,error:n,updateSettings:l,resetSettings:i,settingsSections:a}=M("articleFlash"),h=b(!1);return{settings:t,settingsLoading:e,settingsError:n,settingsSections:a,showSettingsModal:h,handleSettingsSave:async m=>{try{await l(m,{immediate:!0}),h.value=!1}catch(y){console.error("保存设置失败:",y)}},handleSettingsReset:async()=>{try{await i(),h.value=!1}catch(m){console.error("重置设置失败:",m)}}}},data(){return{isTraining:!1,isPaused:!1,isCompleted:!1,selectedMode:null,currentRound:0,totalRounds:10,correctCount:0,errorCount:0,isFlashing:!1,currentFlashContent:"",showComprehensionTest:!1,showResult:!1,isAnswerCorrect:!1,countdown:3,comprehensionQuestion:{},selectedAnswer:null,userInput:"",readingTimes:[],roundStartTime:null,trainingModes:[{id:"short_sentences",name:"短句理解",icon:"📝",level:"beginner",levelText:"初级",description:"短句快速闪视，训练基础理解能力",flashSpeed:1500,contentLength:"10-20字",difficulty:"简单",bestComprehension:92,averageComprehension:85},{id:"medium_paragraphs",name:"段落理解",icon:"📄",level:"intermediate",levelText:"中级",description:"中等段落闪视，提升理解深度",flashSpeed:2e3,contentLength:"50-100字",difficulty:"中等",bestComprehension:78,averageComprehension:71},{id:"long_articles",name:"长文理解",icon:"📰",level:"advanced",levelText:"高级",description:"长文章闪视，挑战理解极限",flashSpeed:2500,contentLength:"150-300字",difficulty:"困难",bestComprehension:65,averageComprehension:58},{id:"story_comprehension",name:"故事理解",icon:"📚",level:"intermediate",levelText:"中级",description:"故事情节闪视，训练情境理解",flashSpeed:2200,contentLength:"80-150字",difficulty:"中等",bestComprehension:73,averageComprehension:66},{id:"news_analysis",name:"新闻分析",icon:"📺",level:"advanced",levelText:"高级",description:"新闻内容闪视，训练信息提取",flashSpeed:1800,contentLength:"100-200字",difficulty:"困难",bestComprehension:69,averageComprehension:62},{id:"science_reading",name:"科普阅读",icon:"🔬",level:"advanced",levelText:"高级",description:"科普文章闪视，训练逻辑理解",flashSpeed:2800,contentLength:"120-250字",difficulty:"困难",bestComprehension:61,averageComprehension:54}],currentModeData:{},articleLibrary:{short_sentences:[{content:"春天来了，花儿开了，鸟儿在枝头歌唱。",difficulty:"easy",category:"自然",keywords:["春天","花儿","鸟儿"],questions:[{type:"choice",question:"这句话描述的是什么季节？",options:["春天","夏天","秋天","冬天"],correctAnswer:"春天",explanation:'文中明确提到"春天来了"'}]},{content:"小明每天早上六点起床，然后去公园跑步。",difficulty:"easy",category:"生活",keywords:["早上","起床","跑步"],questions:[{type:"judgment",question:"小明是在晚上跑步的。",correctAnswer:!1,explanation:'文中说的是"早上六点起床，然后去公园跑步"'}]},{content:"图书馆里安静极了，只能听到翻书的声音。",difficulty:"easy",category:"学习",keywords:["图书馆","安静","翻书"],questions:[{type:"choice",question:"图书馆里能听到什么声音？",options:["说话声","翻书声","音乐声","脚步声"],correctAnswer:"翻书声",explanation:'文中提到"只能听到翻书的声音"'}]},{content:"妈妈在厨房里忙碌着，准备丰盛的晚餐。",difficulty:"easy",category:"家庭",keywords:["妈妈","厨房","晚餐"],questions:[{type:"fill",question:"妈妈在___里准备晚餐。",correctAnswer:"厨房",explanation:'文中明确提到"妈妈在厨房里忙碌着"'}]},{content:"雨后的空气格外清新，彩虹挂在天边。",difficulty:"medium",category:"自然",keywords:["雨后","空气","彩虹"],questions:[{type:"judgment",question:"彩虹出现在雨前。",correctAnswer:!1,explanation:'文中说的是"雨后的空气格外清新，彩虹挂在天边"'}]}],medium_paragraphs:[{content:"图书馆是一个安静的地方，人们在这里阅读、学习和思考。书架上摆满了各种各样的书籍，从文学作品到科学研究，应有尽有。许多学生喜欢在这里度过他们的课余时间，因为这里的环境有助于集中注意力。",difficulty:"medium",category:"学习",keywords:["图书馆","阅读","学习","书籍"],questions:[{type:"choice",question:"根据文章，学生喜欢在图书馆学习的主要原因是什么？",options:["书籍种类丰富","环境安静有助集中注意力","离家近","免费开放"],correctAnswer:"环境安静有助集中注意力",explanation:'文中明确提到"这里的环境有助于集中注意力"'}]},{content:"健康的生活方式对每个人都很重要。规律的作息时间、均衡的饮食、适量的运动和良好的心态是保持健康的四大要素。现代人工作压力大，经常熬夜加班，饮食不规律，缺乏运动，这些都会对身体健康造成负面影响。我们应该重视健康，从改变不良习惯开始，逐步建立健康的生活模式。",difficulty:"medium",category:"健康",keywords:["健康","生活方式","作息","饮食","运动"],questions:[{type:"fill",question:"保持健康的四大要素包括规律的作息时间、均衡的饮食、适量的运动和___。",correctAnswer:"良好的心态",explanation:'文中提到"规律的作息时间、均衡的饮食、适量的运动和良好的心态是保持健康的四大要素"'},{type:"judgment",question:"现代人的工作压力对健康没有影响。",correctAnswer:!1,explanation:'文中明确提到"现代人工作压力大...这些都会对身体健康造成负面影响"'}]}],long_articles:[{content:"人工智能技术的发展正在改变我们的生活方式。从智能手机的语音助手到自动驾驶汽车，AI技术已经渗透到我们日常生活的各个方面。在医疗领域，AI可以帮助医生更准确地诊断疾病；在教育领域，个性化学习系统可以根据学生的学习进度调整教学内容；在交通领域，智能交通系统可以优化路线，减少拥堵。然而，AI技术的发展也带来了一些挑战，比如就业问题和隐私保护问题。我们需要在享受AI带来便利的同时，也要思考如何应对这些挑战。",difficulty:"hard",category:"科技",keywords:["人工智能","AI技术","医疗","教育","交通"],questions:[{type:"choice",question:"文章提到AI技术在哪些领域有应用？",options:["医疗、教育、交通","医疗、金融、娱乐","教育、农业、工业","交通、通信、能源"],correctAnswer:"医疗、教育、交通",explanation:"文中明确提到了医疗、教育、交通三个领域的AI应用"}]},{content:"阅读是人类获取知识和信息的重要途径之一。在数字化时代，我们的阅读方式发生了巨大变化。传统的纸质书籍阅读逐渐被电子阅读所补充，甚至在某些情况下被替代。电子阅读具有便携性强、存储量大、搜索功能强大等优势，但也存在对眼睛伤害较大、缺乏纸质书籍的触感体验等缺点。无论采用哪种阅读方式，培养良好的阅读习惯都是至关重要的。这包括选择适合的阅读环境、保持专注的阅读状态、定期总结阅读心得，以及根据个人兴趣和需求选择合适的读物。",difficulty:"hard",category:"教育",keywords:["阅读","数字化","电子阅读","纸质书籍","阅读习惯"],questions:[{type:"judgment",question:"电子阅读完全替代了纸质书籍阅读。",correctAnswer:!1,explanation:'文中说"传统的纸质书籍阅读逐渐被电子阅读所补充，甚至在某些情况下被替代"，并非完全替代'},{type:"choice",question:"根据文章，电子阅读的优势不包括哪一项？",options:["便携性强","存储量大","搜索功能强大","触感体验好"],correctAnswer:"触感体验好",explanation:'文中提到电子阅读"缺乏纸质书籍的触感体验"，所以触感体验好不是电子阅读的优势'}]}]},statistics:{totalSessions:45,bestComprehension:92,averageComprehension:73,averageReadingSpeed:"280字/分钟",modePerformance:[{id:"short_sentences",name:"短句理解",level:"初级",bestComprehension:92,averageComprehension:85,attempts:15,mastery:88},{id:"medium_paragraphs",name:"段落理解",level:"中级",bestComprehension:78,averageComprehension:71,attempts:12,mastery:75},{id:"long_articles",name:"长文理解",level:"高级",bestComprehension:65,averageComprehension:58,attempts:8,mastery:62}],comprehensionTrend:[{comprehension:60},{comprehension:65},{comprehension:68},{comprehension:72},{comprehension:75},{comprehension:73},{comprehension:78},{comprehension:80},{comprehension:82},{comprehension:85}]},flashTimer:null,countdownTimer:null}},computed:{comprehensionRate(){const t=this.correctCount+this.errorCount;return t>0?Math.round(this.correctCount/t*100):0},averageReadingTime(){if(this.readingTimes.length===0)return 0;const t=this.readingTimes.reduce((e,n)=>e+n,0);return Math.round(t/this.readingTimes.length)},performanceLevel(){const t=this.comprehensionRate;return t>=85?{text:"优秀",class:"excellent"}:t>=75?{text:"良好",class:"good"}:t>=65?{text:"一般",class:"average"}:{text:"需要提高",class:"poor"}},abilityScores(){return{quickComprehension:Math.min(100,this.comprehensionRate+10),informationExtraction:Math.min(100,this.comprehensionRate+5),logicalReasoning:Math.min(100,this.comprehensionRate),memoryRetention:Math.min(100,this.comprehensionRate-5)}}},methods:{selectMode(t){this.selectedMode=t},startTraining(t){this.selectedMode=t,this.currentModeData=this.trainingModes.find(e=>e.id===t),this.resetTrainingState(),this.isTraining=!0,this.totalRounds=parseInt(this.settings.rounds),this.startCountdown()},pauseTraining(){this.isPaused=!0,this.clearTimers()},resumeTraining(){this.isPaused=!1,!this.showComprehensionTest&&this.startCountdown()},stopTraining(){this.clearTimers(),this.isTraining=!1,this.isPaused=!1,this.isCompleted=!1},restartTraining(){this.resetTrainingState(),this.startCountdown()},startCountdown(){this.countdown=3,this.countdownTimer=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownTimer),this.startFlash())},1e3)},startFlash(){this.currentRound++,this.generateFlashContent(),this.isFlashing=!0,this.roundStartTime=Date.now(),this.settings.soundEffects&&this.playFlashSound(),this.flashTimer=setTimeout(()=>{this.isFlashing=!1,this.showComprehensionTest=!0;const t=Date.now()-this.roundStartTime;this.readingTimes.push(t),this.comprehensionQuestion.type==="fill"&&this.$nextTick(()=>{this.$refs.answerInput&&this.$refs.answerInput.focus()})},this.settings.flashDuration)},generateFlashContent(){const t=this.currentModeData.id,e=this.getFilteredArticles(t),n=e[Math.floor(Math.random()*e.length)];this.currentFlashContent=n.content;const l=n.questions[Math.floor(Math.random()*n.questions.length)];this.comprehensionQuestion=l},getFilteredArticles(t){let e=this.articleLibrary[t]||this.articleLibrary.short_sentences;return this.settings.difficulty!=="medium"&&(e=e.filter(n=>n.difficulty===this.settings.difficulty)),this.settings.contentFilter!=="all"&&(e=e.filter(n=>n.category===this.settings.contentFilter)),e.length>0?e:this.articleLibrary[t]||this.articleLibrary.short_sentences},getEncouragementMessage(){const t=["太棒了！你的理解能力在不断提升！","继续保持，你正在变得更强！","出色的表现！你的专注力令人印象深刻！","很好！你的阅读速度和理解力都在进步！","优秀！你已经掌握了快速阅读的技巧！","了不起！你的大脑正在变得更加敏锐！","精彩！你的学习能力让人惊叹！","卓越！你正在成为阅读高手！"];return t[Math.floor(Math.random()*t.length)]},selectAnswer(t){this.showResult||(this.selectedAnswer=t,this.checkAnswer(t))},submitAnswer(){!this.userInput.trim()||this.showResult||this.checkAnswer(this.userInput.trim())},checkAnswer(t){let e=!1;if(this.comprehensionQuestion.type==="choice")e=t===this.comprehensionQuestion.correctAnswer;else if(this.comprehensionQuestion.type==="judgment")e=t===this.comprehensionQuestion.correctAnswer;else{const n=this.comprehensionQuestion.correctAnswer.toLowerCase(),l=t.toLowerCase();e=n.includes(l)||l.includes(n)}this.isAnswerCorrect=e,e?(this.correctCount++,this.settings.soundEffects&&this.playSuccessSound()):(this.errorCount++,this.settings.soundEffects&&this.playErrorSound()),this.showResult=!0,this.settings.autoNext&&setTimeout(()=>{this.nextRound()},2e3)},nextRound(){this.showResult=!1,this.showComprehensionTest=!1,this.selectedAnswer=null,this.userInput="",this.currentRound>=this.totalRounds?this.completeTraining():this.startCountdown()},completeTraining(){this.isCompleted=!0,this.settings.soundEffects&&this.playCompletionSound(),this.saveResult()},resetTrainingState(){this.currentRound=0,this.correctCount=0,this.errorCount=0,this.isCompleted=!1,this.isFlashing=!1,this.showComprehensionTest=!1,this.showResult=!1,this.selectedAnswer=null,this.userInput="",this.readingTimes=[],this.clearTimers()},clearTimers(){this.flashTimer&&(clearTimeout(this.flashTimer),this.flashTimer=null),this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null)},playFlashSound(){const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),n.gain.setValueAtTime(.1,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.start(t.currentTime),e.stop(t.currentTime+.2)},playSuccessSound(){const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(1e3,t.currentTime),n.gain.setValueAtTime(.1,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)},playErrorSound(){const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(400,t.currentTime),n.gain.setValueAtTime(.1,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.4),e.start(t.currentTime),e.stop(t.currentTime+.4)},playCompletionSound(){const t=new(window.AudioContext||window.webkitAudioContext);[523,659,784,1047].forEach((n,l)=>{const i=t.createOscillator(),a=t.createGain();i.connect(a),a.connect(t.destination);const h=t.currentTime+l*.2;i.frequency.setValueAtTime(n,h),a.gain.setValueAtTime(.1,h),a.gain.exponentialRampToValueAtTime(.01,h+.4),i.start(h),i.stop(h+.4)})},saveResult(){var n;const t={id:Date.now()+Math.random().toString(36).substr(2,9),mode:this.currentModeData.id,modeName:this.currentModeData.name,comprehensionRate:this.comprehensionRate,correctCount:this.correctCount,errorCount:this.errorCount,totalQuestions:((n=this.currentModeData.questions)==null?void 0:n.length)||0,averageReadingTime:this.averageReadingTime,readingTimes:[...this.readingTimes||[]],settings:{...this.settings},timestamp:Date.now(),date:new Date().toISOString()},e=JSON.parse(localStorage.getItem("articleFlashResults")||"[]");e.push(t),e.length>1e3&&e.splice(0,e.length-1e3),localStorage.setItem("articleFlashResults",JSON.stringify(e)),this.updateStatistics(t)},updateStatistics(t){t.comprehensionRate>this.statistics.bestComprehension&&(this.statistics.bestComprehension=t.comprehensionRate),this.statistics.totalSessions++,this.saveStatistics()},getChartPoints(){return this.statistics.comprehensionTrend.map((t,e)=>{const n=e/(this.statistics.comprehensionTrend.length-1)*100,l=100-t.comprehension;return`${n},${l}`}).join(" ")},saveSettings(){localStorage.setItem("articleFlashSettings",JSON.stringify(this.settings))},loadSettings(){const t=localStorage.getItem("articleFlashSettings");t&&(this.settings={...this.settings,...JSON.parse(t)})},saveStatistics(){localStorage.setItem("articleFlashStats",JSON.stringify(this.statistics))},loadStatistics(){const t=localStorage.getItem("articleFlashStats");t&&(this.statistics={...this.statistics,...JSON.parse(t)})},getTrainingHistory(t=50){return JSON.parse(localStorage.getItem("articleFlashResults")||"[]").slice(-t).reverse()},getDetailedAnalysis(){const t=JSON.parse(localStorage.getItem("articleFlashResults")||"[]");if(t.length===0)return null;const e={totalSessions:t.length,averageComprehension:t.reduce((n,l)=>n+l.comprehensionRate,0)/t.length,bestComprehension:Math.max(...t.map(n=>n.comprehensionRate)),worstComprehension:Math.min(...t.map(n=>n.comprehensionRate)),averageReadingTime:t.reduce((n,l)=>n+l.averageReadingTime,0)/t.length,fastestReadingTime:Math.min(...t.map(n=>n.averageReadingTime)),slowestReadingTime:Math.max(...t.map(n=>n.averageReadingTime)),modeBreakdown:{},weeklyProgress:this.calculateWeeklyProgress(t),improvementTrend:this.calculateImprovementTrend(t)};return t.forEach(n=>{e.modeBreakdown[n.mode]||(e.modeBreakdown[n.mode]={sessions:0,totalComprehension:0,bestComprehension:0,averageReadingTime:0});const l=e.modeBreakdown[n.mode];l.sessions++,l.totalComprehension+=n.comprehensionRate,l.bestComprehension=Math.max(l.bestComprehension,n.comprehensionRate),l.averageReadingTime+=n.averageReadingTime}),Object.keys(e.modeBreakdown).forEach(n=>{const l=e.modeBreakdown[n];l.averageComprehension=l.totalComprehension/l.sessions,l.averageReadingTime=l.averageReadingTime/l.sessions}),e},calculateWeeklyProgress(t){const e={};return t.forEach(n=>{const l=new Date(n.date),i=new Date(l);i.setDate(l.getDate()-l.getDay());const a=i.toISOString().split("T")[0];e[a]||(e[a]={sessions:0,totalComprehension:0,totalReadingTime:0}),e[a].sessions++,e[a].totalComprehension+=n.comprehensionRate,e[a].totalReadingTime+=n.averageReadingTime}),Object.keys(e).map(n=>({week:n,sessions:e[n].sessions,averageComprehension:e[n].totalComprehension/e[n].sessions,averageReadingTime:e[n].totalReadingTime/e[n].sessions})).sort((n,l)=>new Date(n.week)-new Date(l.week))},exportTrainingData(){const t={results:JSON.parse(localStorage.getItem("articleFlashResults")||"[]"),statistics:JSON.parse(localStorage.getItem("articleFlashStats")||"{}"),settings:JSON.parse(localStorage.getItem("articleFlashSettings")||"{}"),exportDate:new Date().toISOString(),version:"1.0"},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),l=document.createElement("a");l.href=n,l.download=`article-flash-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n)},async importTrainingData(t){try{const e=await t.text(),n=JSON.parse(e);if(n.version&&n.results){const a=[...JSON.parse(localStorage.getItem("articleFlashResults")||"[]"),...n.results].filter((h,v,o)=>o.findIndex(m=>m.id===h.id)===v).slice(-1e3);return localStorage.setItem("articleFlashResults",JSON.stringify(a)),n.statistics&&(localStorage.setItem("articleFlashStats",JSON.stringify(n.statistics)),this.loadStatistics()),{success:!0,message:`成功导入 ${n.results.length} 条训练记录`}}else return{success:!1,message:"无效的数据格式"}}catch(e){return{success:!1,message:"导入失败："+e.message}}},createBackup(){const t={articleFlashResults:localStorage.getItem("articleFlashResults"),articleFlashStats:localStorage.getItem("articleFlashStats"),articleFlashSettings:localStorage.getItem("articleFlashSettings"),backupDate:new Date().toISOString()};return JSON.stringify(t)},restoreBackup(t){try{const e=JSON.parse(t);return e.articleFlashResults&&localStorage.setItem("articleFlashResults",e.articleFlashResults),e.articleFlashStats&&(localStorage.setItem("articleFlashStats",e.articleFlashStats),this.loadStatistics()),e.articleFlashSettings&&(localStorage.setItem("articleFlashSettings",e.articleFlashSettings),this.loadSettings()),{success:!0,message:"数据恢复成功"}}catch(e){return{success:!1,message:"恢复失败："+e.message}}},clearTrainingData(t="all"){(t==="all"||t==="results")&&localStorage.removeItem("articleFlashResults"),(t==="all"||t==="statistics")&&(localStorage.removeItem("articleFlashStats"),this.statistics={totalSessions:0,bestComprehension:0,averageComprehension:0,averageReadingTime:0,modePerformance:[],comprehensionTrend:[]}),(t==="all"||t==="settings")&&(localStorage.removeItem("articleFlashSettings"),this.resetSettings())},getStorageUsage(){const t=localStorage.getItem("articleFlashResults")||"",e=localStorage.getItem("articleFlashStats")||"",n=localStorage.getItem("articleFlashSettings")||"";return{results:{size:new Blob([t]).size,count:JSON.parse(t||"[]").length},statistics:{size:new Blob([e]).size},settings:{size:new Blob([n]).size},total:new Blob([t+e+n]).size}},goBack(){this.$emit("go-back")},openSettings(){this.showSettingsModal=!0},closeSettings(){this.showSettingsModal=!1},applySettingsToTraining(){this.currentFlashDuration=this.settings.flashDuration,this.currentIntervalDuration=this.settings.intervalTime*1e3}},computed:{},mounted(){this.loadStatistics()},beforeUnmount(){this.clearTimers()}},O={class:"article-flash-container"},N={key:0,class:"training-modes"},L={class:"modes-grid"},Q=["onClick"],B={class:"mode-header"},E={class:"mode-icon"},J={class:"mode-description"},V={class:"mode-details"},j={class:"detail-item"},P={class:"detail-value"},z={class:"detail-item"},U={class:"detail-value"},G={class:"detail-item"},K={class:"detail-value"},W={class:"mode-stats"},H={class:"stat-item"},X={class:"stat-value"},Y={class:"stat-item"},Z={class:"stat-value"},$=["onClick"],ee={key:1,class:"training-interface"},se={class:"training-card"},te={class:"training-header"},ie={class:"training-info"},ne={class:"info-item"},oe={class:"info-value"},ae={class:"info-item"},re={class:"info-value correct"},le={class:"info-item"},ce={class:"info-value error"},de={class:"info-item"},ue={class:"info-value"},he={class:"training-controls"},me={class:"flash-display-area"},ge={key:0,class:"flash-content"},pe={key:1,class:"ready-indicator"},ve={class:"countdown-circle"},fe={class:"countdown-number"},_e={key:2,class:"pause-indicator"},ye={key:0,class:"comprehension-area"},we={class:"comprehension-prompt"},Se={class:"comprehension-hint"},be={key:0,class:"comprehension-options"},Te=["onClick","disabled"],Ce={key:1,class:"judgment-options"},Re=["disabled"],ke=["disabled"],Ae={key:2,class:"fill-blank-input"},xe=["disabled"],Fe=["disabled"],Ie={key:3,class:"answer-result"},Me={class:"result-icon"},De={class:"result-text"},qe={key:0,class:"correct-answer"},Oe={key:1,class:"explanation"},Ne={key:1,class:"completion-status"},Le={class:"completion-message"},Qe={key:0,class:"encouragement-message"},Be={class:"encouragement-text"},Ee={class:"completion-stats"},Je={class:"stat-item"},Ve={class:"stat-value"},je={class:"stat-item"},Pe={class:"stat-value correct"},ze={class:"stat-item"},Ue={class:"stat-value error"},Ge={class:"stat-item"},Ke={class:"stat-value"},We={class:"stat-item"},He={class:"stat-value"},Xe={class:"stat-item"},Ye={class:"completion-actions"},Ze={key:2,class:"settings-section"},$e={key:4,class:"training-statistics"},es={class:"stats-grid"},ss={class:"stats-card"},ts={class:"stats-overview"},is={class:"stat-item"},ns={class:"stat-info"},os={class:"stat-value"},as={class:"stat-item"},rs={class:"stat-info"},ls={class:"stat-value"},cs={class:"stat-item"},ds={class:"stat-info"},us={class:"stat-value"},hs={class:"stat-item"},ms={class:"stat-info"},gs={class:"stat-value"},ps={class:"stats-card"},vs={class:"mode-performance"},fs={class:"mode-header"},_s={class:"mode-name"},ys={class:"mode-level"},ws={class:"mode-details"},Ss={class:"detail-row"},bs={class:"detail-value"},Ts={class:"detail-row"},Cs={class:"detail-value"},Rs={class:"detail-row"},ks={class:"detail-value"},As={class:"mode-progress"},xs={class:"progress-bar"},Fs={class:"progress-text"},Is={class:"stats-card"},Ms={class:"comprehension-chart"},Ds={class:"chart-container"},qs={class:"chart-line"},Os=["title"],Ns={class:"chart-svg"},Ls=["points"],Qs={class:"stats-card"},Bs={class:"ability-analysis"},Es={class:"ability-item"},Js={class:"ability-header"},Vs={class:"ability-score"},js={class:"ability-bar"},Ps={class:"ability-item"},zs={class:"ability-header"},Us={class:"ability-score"},Gs={class:"ability-bar"},Ks={class:"ability-item"},Ws={class:"ability-header"},Hs={class:"ability-score"},Xs={class:"ability-bar"},Ys={class:"ability-item"},Zs={class:"ability-header"},$s={class:"ability-score"},et={class:"ability-bar"};function st(t,e,n,l,i,a){const h=w("SettingsButton"),v=w("SettingsModal");return c(),d("div",O,[i.isTraining?u("",!0):(c(),d("div",N,[e[16]||(e[16]=s("h3",null,"选择训练模式",-1)),s("div",L,[(c(!0),d(f,null,_(i.trainingModes,o=>(c(),d("div",{key:o.id,class:g(["mode-card",{active:i.selectedMode===o.id}]),onClick:m=>a.selectMode(o.id)},[s("div",B,[s("span",E,r(o.icon),1),s("span",{class:g(["mode-level",o.level])},r(o.levelText),3)]),s("h4",null,r(o.name),1),s("p",J,r(o.description),1),s("div",V,[s("div",j,[e[11]||(e[11]=s("span",{class:"detail-label"},"闪视速度:",-1)),s("span",P,r(o.flashSpeed)+"ms",1)]),s("div",z,[e[12]||(e[12]=s("span",{class:"detail-label"},"内容长度:",-1)),s("span",U,r(o.contentLength),1)]),s("div",G,[e[13]||(e[13]=s("span",{class:"detail-label"},"难度等级:",-1)),s("span",K,r(o.difficulty),1)])]),s("div",W,[s("div",H,[e[14]||(e[14]=s("span",{class:"stat-label"},"最高理解率",-1)),s("span",X,r(o.bestComprehension)+"%",1)]),s("div",Y,[e[15]||(e[15]=s("span",{class:"stat-label"},"平均理解率",-1)),s("span",Z,r(o.averageComprehension)+"%",1)])]),s("button",{class:"start-mode-btn",onClick:x(m=>a.startTraining(o.id),["stop"])}," 开始训练 ",8,$)],10,Q))),128))])])),i.isTraining?(c(),d("div",ee,[s("div",se,[s("div",te,[s("h3",null,r(i.currentModeData.name),1),s("div",ie,[s("div",ne,[e[17]||(e[17]=s("span",{class:"info-label"},"轮次:",-1)),s("span",oe,r(i.currentRound)+"/"+r(i.totalRounds),1)]),s("div",ae,[e[18]||(e[18]=s("span",{class:"info-label"},"理解正确:",-1)),s("span",re,r(i.correctCount),1)]),s("div",le,[e[19]||(e[19]=s("span",{class:"info-label"},"理解错误:",-1)),s("span",ce,r(i.errorCount),1)]),s("div",de,[e[20]||(e[20]=s("span",{class:"info-label"},"理解率:",-1)),s("span",ue,r(a.comprehensionRate)+"%",1)])]),s("div",he,[!i.isPaused&&!i.isCompleted?(c(),d("button",{key:0,class:"control-btn",onClick:e[0]||(e[0]=(...o)=>a.pauseTraining&&a.pauseTraining(...o))}," ⏸️ ")):u("",!0),i.isPaused?(c(),d("button",{key:1,class:"control-btn",onClick:e[1]||(e[1]=(...o)=>a.resumeTraining&&a.resumeTraining(...o))}," ▶️ ")):u("",!0),s("button",{class:"control-btn",onClick:e[2]||(e[2]=(...o)=>a.stopTraining&&a.stopTraining(...o))}," ⏹️ ")])]),s("div",me,[s("div",{class:g(["flash-container",{flashing:i.isFlashing}])},[i.isFlashing?(c(),d("div",ge,[s("div",{class:"article-text",style:p({fontSize:l.settings.fontSize+"px"})},r(i.currentFlashContent),5)])):!i.isCompleted&&!i.isPaused?(c(),d("div",pe,[e[21]||(e[21]=s("span",{class:"ready-text"},"准备阅读...",-1)),s("div",ve,[s("span",fe,r(i.countdown),1)])])):i.isPaused?(c(),d("div",_e,e[22]||(e[22]=[s("span",{class:"pause-text"},"已暂停",-1),s("p",null,"点击继续按钮恢复训练",-1)]))):u("",!0)],2)]),i.showComprehensionTest&&!i.isCompleted?(c(),d("div",ye,[s("div",we,[e[23]||(e[23]=s("h4",null,"理解测试",-1)),s("p",Se,r(i.comprehensionQuestion.question),1)]),i.comprehensionQuestion.type==="choice"?(c(),d("div",be,[(c(!0),d(f,null,_(i.comprehensionQuestion.options,(o,m)=>(c(),d("button",{key:m,class:g(["comprehension-option",{selected:i.selectedAnswer===o,correct:i.showResult&&o===i.comprehensionQuestion.correctAnswer,wrong:i.showResult&&i.selectedAnswer===o&&o!==i.comprehensionQuestion.correctAnswer}]),onClick:y=>a.selectAnswer(o),disabled:i.showResult},r(o),11,Te))),128))])):i.comprehensionQuestion.type==="judgment"?(c(),d("div",Ce,[s("button",{class:g(["judgment-option",{selected:i.selectedAnswer===!0,correct:i.showResult&&i.comprehensionQuestion.correctAnswer===!0,wrong:i.showResult&&i.selectedAnswer===!0&&i.comprehensionQuestion.correctAnswer!==!0}]),onClick:e[3]||(e[3]=o=>a.selectAnswer(!0)),disabled:i.showResult}," ✓ 正确 ",10,Re),s("button",{class:g(["judgment-option",{selected:i.selectedAnswer===!1,correct:i.showResult&&i.comprehensionQuestion.correctAnswer===!1,wrong:i.showResult&&i.selectedAnswer===!1&&i.comprehensionQuestion.correctAnswer!==!1}]),onClick:e[4]||(e[4]=o=>a.selectAnswer(!1)),disabled:i.showResult}," ✗ 错误 ",10,ke)])):(c(),d("div",Ae,[T(s("input",{type:"text",class:"input-field","onUpdate:modelValue":e[5]||(e[5]=o=>i.userInput=o),placeholder:"请填入关键词...",onKeyup:e[6]||(e[6]=R((...o)=>a.submitAnswer&&a.submitAnswer(...o),["enter"])),disabled:i.showResult,ref:"answerInput"},null,40,xe),[[C,i.userInput]]),s("button",{class:"submit-btn",onClick:e[7]||(e[7]=(...o)=>a.submitAnswer&&a.submitAnswer(...o)),disabled:!i.userInput.trim()||i.showResult}," 提交答案 ",8,Fe)])),i.showResult?(c(),d("div",Ie,[s("div",{class:g(["result-message",{correct:i.isAnswerCorrect,wrong:!i.isAnswerCorrect}])},[s("span",Me,r(i.isAnswerCorrect?"✅":"❌"),1),s("span",De,r(i.isAnswerCorrect?"理解正确！":"理解有误"),1)],2),i.isAnswerCorrect?u("",!0):(c(),d("div",qe,[e[24]||(e[24]=S(" 正确答案: ",-1)),s("strong",null,r(i.comprehensionQuestion.correctAnswer),1)])),i.comprehensionQuestion.explanation?(c(),d("div",Oe,[e[25]||(e[25]=s("strong",null,"解析:",-1)),S(" "+r(i.comprehensionQuestion.explanation),1)])):u("",!0),s("button",{class:"next-btn",onClick:e[8]||(e[8]=(...o)=>a.nextRound&&a.nextRound(...o))},r(i.currentRound>=i.totalRounds?"查看结果":"下一篇"),1)])):u("",!0)])):u("",!0),i.isCompleted?(c(),d("div",Ne,[s("div",Le,[e[26]||(e[26]=s("span",{class:"completion-icon"},"🎉",-1)),e[27]||(e[27]=s("h4",null,"训练完成！",-1)),s("p",null,"恭喜你完成了 "+r(i.totalRounds)+" 轮文章闪视训练",1),l.settings.showEncouragement?(c(),d("div",Qe,[s("span",Be,r(a.getEncouragementMessage()),1)])):u("",!0)]),s("div",Ee,[s("div",Je,[e[28]||(e[28]=s("span",{class:"stat-label"},"总轮次",-1)),s("span",Ve,r(i.totalRounds),1)]),s("div",je,[e[29]||(e[29]=s("span",{class:"stat-label"},"理解正确",-1)),s("span",Pe,r(i.correctCount),1)]),s("div",ze,[e[30]||(e[30]=s("span",{class:"stat-label"},"理解错误",-1)),s("span",Ue,r(i.errorCount),1)]),s("div",Ge,[e[31]||(e[31]=s("span",{class:"stat-label"},"理解率",-1)),s("span",Ke,r(a.comprehensionRate)+"%",1)]),s("div",We,[e[32]||(e[32]=s("span",{class:"stat-label"},"平均阅读时间",-1)),s("span",He,r(a.averageReadingTime)+"ms",1)]),s("div",Xe,[e[33]||(e[33]=s("span",{class:"stat-label"},"等级评价",-1)),s("span",{class:g(["stat-value",a.performanceLevel.class])},r(a.performanceLevel.text),3)])]),s("div",Ye,[s("button",{class:"action-btn secondary",onClick:e[9]||(e[9]=(...o)=>a.stopTraining&&a.stopTraining(...o))}," 返回选择 "),s("button",{class:"action-btn primary",onClick:e[10]||(e[10]=(...o)=>a.restartTraining&&a.restartTraining(...o))}," 再次训练 ")])])):u("",!0)])])):u("",!0),i.isTraining?u("",!0):(c(),d("div",Ze,[k(h,{text:"训练设置",variant:"primary",onClick:a.openSettings},null,8,["onClick"])])),l.showSettingsModal?(c(),A(v,{key:3,title:"文章闪读训练设置",sections:l.settingsSections,onClose:a.closeSettings,onSave:a.saveSettings,onReset:t.resetSettings},null,8,["sections","onClose","onSave","onReset"])):u("",!0),i.isTraining?u("",!0):(c(),d("div",$e,[e[54]||(e[54]=s("h3",null,"训练统计",-1)),s("div",es,[s("div",ss,[e[42]||(e[42]=s("h4",null,"总体表现",-1)),s("div",ts,[s("div",is,[e[35]||(e[35]=s("span",{class:"stat-icon"},"📚",-1)),s("div",ns,[s("span",os,r(i.statistics.totalSessions),1),e[34]||(e[34]=s("span",{class:"stat-label"},"总训练次数",-1))])]),s("div",as,[e[37]||(e[37]=s("span",{class:"stat-icon"},"🎯",-1)),s("div",rs,[s("span",ls,r(i.statistics.bestComprehension)+"%",1),e[36]||(e[36]=s("span",{class:"stat-label"},"最高理解率",-1))])]),s("div",cs,[e[39]||(e[39]=s("span",{class:"stat-icon"},"📊",-1)),s("div",ds,[s("span",us,r(i.statistics.averageComprehension)+"%",1),e[38]||(e[38]=s("span",{class:"stat-label"},"平均理解率",-1))])]),s("div",hs,[e[41]||(e[41]=s("span",{class:"stat-icon"},"⚡",-1)),s("div",ms,[s("span",gs,r(i.statistics.averageReadingSpeed),1),e[40]||(e[40]=s("span",{class:"stat-label"},"平均阅读速度",-1))])])])]),s("div",ps,[e[46]||(e[46]=s("h4",null,"不同模式表现",-1)),s("div",vs,[(c(!0),d(f,null,_(i.statistics.modePerformance,o=>(c(),d("div",{key:o.id,class:"mode-stat"},[s("div",fs,[s("span",_s,r(o.name),1),s("span",ys,r(o.level),1)]),s("div",ws,[s("div",Ss,[e[43]||(e[43]=s("span",{class:"detail-label"},"最高:",-1)),s("span",bs,r(o.bestComprehension)+"%",1)]),s("div",Ts,[e[44]||(e[44]=s("span",{class:"detail-label"},"平均:",-1)),s("span",Cs,r(o.averageComprehension)+"%",1)]),s("div",Rs,[e[45]||(e[45]=s("span",{class:"detail-label"},"次数:",-1)),s("span",ks,r(o.attempts),1)])]),s("div",As,[s("div",xs,[s("div",{class:"progress-fill",style:p({width:o.mastery+"%"})},null,4)]),s("span",Fs,"熟练度: "+r(o.mastery)+"%",1)])]))),128))])]),s("div",Is,[e[48]||(e[48]=s("h4",null,"理解率趋势",-1)),s("div",Ms,[s("div",Ds,[s("div",qs,[(c(!0),d(f,null,_(i.statistics.comprehensionTrend,(o,m)=>(c(),d("div",{key:m,class:"chart-point",style:p({left:m/(i.statistics.comprehensionTrend.length-1)*100+"%",bottom:o.comprehension+"%"}),title:`第${m+1}次: ${o.comprehension}%`},null,12,Os))),128)),(c(),d("svg",Ns,[s("polyline",{points:a.getChartPoints(),fill:"none",stroke:"#2196F3","stroke-width":"2"},null,8,Ls)]))]),e[47]||(e[47]=s("div",{class:"chart-axis"},[s("span",{class:"axis-label"},"训练次数")],-1))])])]),s("div",Qs,[e[53]||(e[53]=s("h4",null,"阅读能力分析",-1)),s("div",Bs,[s("div",Es,[s("div",Js,[e[49]||(e[49]=s("span",{class:"ability-name"},"快速理解",-1)),s("span",Vs,r(a.abilityScores.quickComprehension)+"/100",1)]),s("div",js,[s("div",{class:"ability-fill",style:p({width:a.abilityScores.quickComprehension+"%"})},null,4)])]),s("div",Ps,[s("div",zs,[e[50]||(e[50]=s("span",{class:"ability-name"},"信息提取",-1)),s("span",Us,r(a.abilityScores.informationExtraction)+"/100",1)]),s("div",Gs,[s("div",{class:"ability-fill",style:p({width:a.abilityScores.informationExtraction+"%"})},null,4)])]),s("div",Ks,[s("div",Ws,[e[51]||(e[51]=s("span",{class:"ability-name"},"逻辑推理",-1)),s("span",Hs,r(a.abilityScores.logicalReasoning)+"/100",1)]),s("div",Xs,[s("div",{class:"ability-fill",style:p({width:a.abilityScores.logicalReasoning+"%"})},null,4)])]),s("div",Ys,[s("div",Zs,[e[52]||(e[52]=s("span",{class:"ability-name"},"记忆保持",-1)),s("span",$s,r(a.abilityScores.memoryRetention)+"/100",1)]),s("div",et,[s("div",{class:"ability-fill",style:p({width:a.abilityScores.memoryRetention+"%"})},null,4)])])])])])]))])}const at=D(q,[["render",st],["__scopeId","data-v-45083013"]]);export{at as default};
