import{u as Se,i,c as ee,k as ke,A as we,o,a as r,b as e,t as n,m as R,p as d,v as C,F as g,h as y,B as se,f as M,z as te,d as He,C as N,l as Fe,g as ae,n as q,q as xe}from"./index-e0b54b24.js";import{a as z}from"./audioUtils-91973d70.js";import{_ as Ce}from"./_plugin-vue_export-helper-c27b6911.js";const Me={class:"brainwave-generator-container"},Te={class:"brainwave-player"},Ae={class:"player-card"},Be={class:"wave-info"},Ve={class:"wave-description"},De={class:"wave-meta"},Re={class:"frequency"},Ue={class:"state"},Ie={class:"benefit"},Pe={class:"wave-visualizer"},We={class:"frequency-display"},Ge={class:"current-freq"},$e={class:"player-controls"},Ne={class:"session-timer"},Ee={class:"timer-display"},Oe={class:"time-remaining"},Le={class:"session-duration"},je={class:"timer-progress"},Ye={class:"progress-bar"},Je={class:"control-buttons"},Ke=["disabled"],Qe=["disabled"],Xe={class:"audio-controls"},Ze={class:"volume-control"},es={class:"volume-value"},ss={class:"frequency-control"},ts=["min","max"],as={class:"brainwave-library"},ns={class:"wave-grid"},ls=["onClick"],is={class:"wave-header"},os={key:0,class:"wave-indicator"},rs={class:"wave-freq"},us={class:"wave-state"},ds={class:"wave-benefits"},cs={class:"wave-stats"},vs={class:"stat-item"},ms={class:"stat-value"},ps={class:"stat-item"},fs={class:"stat-value"},gs={class:"session-settings"},ys={class:"settings-grid"},_s={class:"setting-card"},bs={class:"setting-item"},hs={class:"setting-item"},qs={class:"setting-label"},zs={class:"setting-card"},Ss={class:"setting-item"},ks={class:"setting-label"},ws={class:"setting-item"},Hs={class:"frequency-value"},Fs={class:"setting-item"},xs={class:"setting-item"},Cs={class:"volume-value"},Ms={class:"setting-card"},Ts={class:"setting-item"},As={class:"setting-label"},Bs={class:"setting-item"},Vs={class:"setting-label"},Ds={class:"setting-item"},Rs={class:"setting-label"},Us={class:"training-programs"},Is={class:"programs-grid"},Ps=["onClick"],Ws={class:"program-header"},Gs={class:"program-icon"},$s={class:"program-description"},Ns={class:"program-details"},Es={class:"detail-item"},Os={class:"detail-value"},Ls={class:"detail-item"},js={class:"detail-value"},Ys={class:"detail-item"},Js={class:"detail-value"},Ks={class:"program-progress"},Qs={class:"progress-bar"},Xs={class:"progress-text"},Zs={class:"start-program-btn"},et={class:"usage-analytics"},st={class:"analytics-grid"},tt={class:"analytics-card"},at={class:"analytics-header"},nt={class:"stats-overview"},lt={class:"stat-item"},it={class:"stat-info"},ot={class:"stat-value"},rt={class:"stat-item"},ut={class:"stat-info"},dt={class:"stat-value"},ct={class:"stat-item"},vt={class:"stat-info"},mt={class:"stat-value"},pt={class:"analytics-card"},ft={class:"frequency-chart"},gt={class:"chart-bars"},yt=["title"],_t={class:"bar-label"},bt={class:"analytics-card"},ht={class:"effect-ratings"},qt={class:"rating-item"},zt={class:"rating-stars"},St={class:"rating-item"},kt={class:"rating-stars"},wt={class:"rating-item"},Ht={class:"rating-stars"},Ft={class:"rating-item"},xt={class:"rating-stars"},Ct={class:"modal-content"},Mt={class:"session-summary"},Tt={class:"summary-item"},At={class:"summary-value"},Bt={class:"summary-item"},Vt={class:"summary-value"},Dt={class:"summary-item"},Rt={class:"summary-value"},Ut={class:"effect-feedback"},It={class:"feedback-options"},Pt=["onClick"],Wt={__name:"BrainwaveGenerator",emits:["back"],setup(Gt,{emit:$t}){const E=Se(),_=i(!1),c=i(0),v=i(10),S=i(70),f=i(20),H=i(0),O=i(0),k=i(!1),L=i(""),j=i(null);let T=null,p=null;const l=i({autoStop:!0,backgroundSound:"none",backgroundVolume:30,mode:"single",waveType:"sine",binauralBeats:!0,binauralBeatFreq:10,carrierFreq:440,fadeInTime:5,fadeOutTime:5,visualizerType:"wave",visualizerColor:"auto",showFrequency:!0,showTimer:!0,fullscreenMode:!1,adaptiveFrequency:!1,progressiveTraining:!0,sessionReminders:!0,reminderInterval:5,preferredPrograms:[],customFrequencies:[],sessionGoals:{daily:30,weekly:210,monthly:900},eegIntegration:!1,biofeedback:!1,heartRateSync:!1,breathingSync:!1,maxVolume:80,maxSessionTime:60,epilepsyProtection:!0,ageRestriction:!1}),Y=i("month"),A=i(0),B=i(0),U=i("Alpha波"),F=i({}),J=i(0),h=i({focus:4,relaxation:5,sleep:3,creativity:4}),I=i(!1),P=i(""),b=i([{id:1,name:"Delta波",frequency:"0.5-4 Hz",minFreq:.5,maxFreq:4,state:"深度睡眠",benefit:"恢复性睡眠",description:"Delta波是最慢的脑波，主要在深度睡眠时出现，有助于身体修复和记忆巩固。",icon:"🌙",color:"#4c1d95",benefits:["改善睡眠质量","促进身体恢复","增强免疫力","记忆巩固"],usageCount:0,totalMinutes:0},{id:2,name:"Theta波",frequency:"4-8 Hz",minFreq:4,maxFreq:8,state:"深度冥想",benefit:"创造力激发",description:"Theta波出现在深度冥想和REM睡眠期间，能够激发创造力和直觉思维。",icon:"🧘",color:"#7c3aed",benefits:["激发创造力","增强直觉","深度放松","情绪治愈"],usageCount:0,totalMinutes:0},{id:3,name:"Alpha波",frequency:"8-12 Hz",minFreq:8,maxFreq:12,state:"放松专注",benefit:"平静警觉",description:"Alpha波是放松但警觉状态的标志，有助于学习、冥想和创造性思维。",icon:"🌊",color:"#3b82f6",benefits:["提升学习能力","减少焦虑","增强专注力","促进冥想"],usageCount:0,totalMinutes:0},{id:4,name:"Beta波",frequency:"12-30 Hz",minFreq:12,maxFreq:30,state:"清醒思考",benefit:"逻辑分析",description:"Beta波在正常清醒状态下占主导，有助于逻辑思维、问题解决和日常活动。",icon:"⚡",color:"#10b981",benefits:["提升逻辑思维","增强注意力","改善决策能力","提高工作效率"],usageCount:0,totalMinutes:0},{id:5,name:"Gamma波",frequency:"30-100 Hz",minFreq:30,maxFreq:100,state:"高度专注",benefit:"认知增强",description:"Gamma波与高级认知功能相关，包括意识整合、学习和记忆形成。",icon:"🔥",color:"#f59e0b",benefits:["增强认知能力","提升意识水平","改善记忆","促进学习"],usageCount:0,totalMinutes:0}]),W=i([{id:1,name:"专注力提升计划",description:"通过Alpha和Beta波训练，逐步提升专注力和工作效率",icon:"🎯",level:"beginner",totalDuration:60,totalSessions:10,completedSessions:0,frequencyRange:"8-20 Hz",benefits:["提升专注力","改善工作效率","增强注意力持久性"],targetAudience:"学生、上班族、需要提升专注力的人群",stages:[{name:"Alpha波基础",duration:20,frequency:"8-12 Hz",description:"建立基础专注状态"},{name:"Beta波训练",duration:25,frequency:"12-20 Hz",description:"强化清醒专注能力"},{name:"综合训练",duration:15,frequency:"8-20 Hz",description:"整合训练效果"}]},{id:2,name:"深度放松计划",description:"结合Theta和Alpha波，达到深度放松和压力释放",icon:"🌊",level:"intermediate",totalDuration:45,totalSessions:8,completedSessions:0,frequencyRange:"4-12 Hz",benefits:["深度放松","压力释放","情绪平衡","内心平静"],targetAudience:"高压人群、焦虑症患者、需要放松的人群",stages:[{name:"Alpha波放松",duration:15,frequency:"8-12 Hz",description:"初步放松身心"},{name:"Theta波深入",duration:20,frequency:"4-8 Hz",description:"进入深度放松状态"},{name:"回归整合",duration:10,frequency:"8-12 Hz",description:"平稳回到清醒状态"}]},{id:3,name:"创造力激发计划",description:"通过Theta波训练，激发创造性思维和直觉能力",icon:"💡",level:"advanced",totalDuration:50,totalSessions:12,completedSessions:0,frequencyRange:"4-8 Hz",benefits:["激发创造力","增强直觉","突破思维局限","艺术灵感"],targetAudience:"艺术家、设计师、创意工作者、研究人员",stages:[{name:"意识放松",duration:10,frequency:"8-12 Hz",description:"放松理性思维"},{name:"Theta波探索",duration:30,frequency:"4-8 Hz",description:"深入潜意识创造空间"},{name:"创意整合",duration:10,frequency:"8-12 Hz",description:"整合创意灵感"}]},{id:4,name:"睡眠改善计划",description:"使用Delta和Theta波，改善睡眠质量和入睡速度",icon:"🌙",level:"beginner",totalDuration:40,totalSessions:15,completedSessions:0,frequencyRange:"0.5-8 Hz",benefits:["改善睡眠质量","快速入睡","深度睡眠","睡眠恢复"],targetAudience:"失眠患者、睡眠质量差的人群、倒班工作者",stages:[{name:"Alpha波过渡",duration:10,frequency:"8-12 Hz",description:"从清醒过渡到放松"},{name:"Theta波深化",duration:15,frequency:"4-8 Hz",description:"进入浅睡眠状态"},{name:"Delta波入睡",duration:15,frequency:"0.5-4 Hz",description:"进入深度睡眠"}]},{id:5,name:"学习记忆强化",description:"优化大脑学习状态，提升记忆力和信息处理能力",icon:"🧠",level:"intermediate",totalDuration:35,totalSessions:12,completedSessions:0,frequencyRange:"8-40 Hz",benefits:["提升记忆力","增强学习效率","信息整合","知识巩固"],targetAudience:"学生、研究人员、需要大量学习的人群",stages:[{name:"Alpha波准备",duration:10,frequency:"8-12 Hz",description:"准备学习状态"},{name:"Beta波学习",duration:15,frequency:"12-30 Hz",description:"最佳学习频率"},{name:"Gamma波整合",duration:10,frequency:"30-40 Hz",description:"信息整合巩固"}]},{id:6,name:"冥想深化训练",description:"通过特定脑波引导，达到更深层的冥想状态",icon:"🧘‍♂️",level:"advanced",totalDuration:55,totalSessions:16,completedSessions:0,frequencyRange:"4-12 Hz",benefits:["深度冥想","意识扩展","内在平静","精神成长"],targetAudience:"冥想练习者、精神修行者、瑜伽爱好者",stages:[{name:"Alpha波入定",duration:15,frequency:"8-12 Hz",description:"建立冥想基础"},{name:"Theta波深入",duration:25,frequency:"4-8 Hz",description:"进入深度冥想"},{name:"意识回归",duration:15,frequency:"8-12 Hz",description:"平稳回到日常意识"}]},{id:7,name:"情绪调节计划",description:"通过脑波调节帮助稳定情绪，减少焦虑和抑郁",icon:"💚",level:"beginner",totalDuration:30,totalSessions:10,completedSessions:0,frequencyRange:"6-12 Hz",benefits:["情绪稳定","减少焦虑","心情愉悦","内在平衡"],targetAudience:"情绪波动大的人群、焦虑症患者、抑郁症辅助治疗",stages:[{name:"情绪识别",duration:10,frequency:"8-12 Hz",description:"觉察当前情绪状态"},{name:"情绪调节",duration:15,frequency:"6-10 Hz",description:"调节到平衡状态"},{name:"情绪稳定",duration:5,frequency:"8-12 Hz",description:"巩固平衡状态"}]},{id:8,name:"能量提升计划",description:"激活大脑活力，提升精神能量和生命活力",icon:"⚡",level:"intermediate",totalDuration:25,totalSessions:8,completedSessions:0,frequencyRange:"12-40 Hz",benefits:["提升活力","增强精神","消除疲劳","激发潜能"],targetAudience:"疲劳人群、精神不振者、需要提升活力的人群",stages:[{name:"Beta波激活",duration:10,frequency:"12-30 Hz",description:"激活大脑活力"},{name:"Gamma波增强",duration:10,frequency:"30-40 Hz",description:"提升认知能量"},{name:"能量整合",duration:5,frequency:"12-20 Hz",description:"整合能量状态"}]}]),ne=i([{value:"excellent",label:"非常好",icon:"😊"},{value:"good",label:"不错",icon:"🙂"},{value:"average",label:"一般",icon:"😐"},{value:"poor",label:"不太好",icon:"😕"}]),u=ee(()=>b.value[c.value]),le=ee(()=>{const a=f.value*60;return(a-H.value)/a*100}),ie=()=>{_.value?V():G()},G=async()=>{_.value=!0,H.value=f.value*60,v.value=u.value.minFreq+(u.value.maxFreq-u.value.minFreq)/2,await oe(),k.value?(de(),ve()):_.value=!1},V=()=>{_.value=!1,re(),ce()},oe=async()=>{try{k.value=!1,L.value=null,await z.initialize(),l.value.binauralBeats&&l.value.mode==="binaural"?p.value=await z.createBinauralBeats(l.value.carrierFreq,v.value,S.value/100):p.value=await z.createTone(l.value.carrierFreq+v.value,S.value/100),k.value=!0}catch(a){console.error("音频初始化失败:",a),L.value=a.message}},re=()=>{try{p.value&&(z.stopAudio(p.value),p.value=null),k.value=!1}catch(a){console.error("停止音频失败:",a)}},K=()=>{try{p.value&&k.value&&(l.value.binauralBeats&&l.value.mode==="binaural"?z.updateBinauralFrequency(p.value,l.value.carrierFreq,v.value):z.updateFrequency(p.value,l.value.carrierFreq+v.value))}catch(a){console.error("更新频率失败:",a)}},ue=()=>{try{p.value&&k.value&&z.updateVolume(p.value,S.value/100)}catch(a){console.error("更新音量失败:",a)}},de=()=>{const a=j.value;if(!a)return;const s=a.getContext("2d");a.width=a.offsetWidth,a.height=a.offsetHeight;const t=()=>{if(!_.value)return;s.clearRect(0,0,a.width,a.height);const m=a.height/2,x=50,X=v.value/10,ze=Date.now()/1e3;s.strokeStyle=u.value.color,s.lineWidth=3,s.beginPath();for(let w=0;w<a.width;w++){const Z=m+x*Math.sin(w/a.width*X*Math.PI*2+ze*X);w===0?s.moveTo(w,Z):s.lineTo(w,Z)}s.stroke(),T=requestAnimationFrame(t)};t()},ce=()=>{T&&(cancelAnimationFrame(T),T=null)},ve=()=>{const a=setInterval(()=>{H.value>0?H.value--:(clearInterval(a),me())},1e3)},me=()=>{V();const a=b.value[c.value];a.usageCount++,a.totalMinutes+=f.value,B.value++,A.value+=f.value,O.value=v.value,be(),I.value=!0},$=async a=>{c.value=a;const s=b.value[a];v.value=s.minFreq+(s.maxFreq-s.minFreq)/2,_.value&&(V(),await xe(),await G())},pe=()=>{c.value>0&&$(c.value-1)},fe=()=>{c.value<b.value.length-1&&$(c.value+1)},ge=a=>{console.log("开始训练计划:",a.name)},ye=a=>({beginner:"初级",intermediate:"中级",advanced:"高级"})[a]||"中级",Q=a=>{const s=Math.floor(a/60),t=a%60;return`${s.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},D=()=>{I.value=!1,P.value=""},_e=()=>{D(),G()},be=()=>{const a={brainwaves:b.value,settings:l.value,programs:W.value,analytics:{totalUsageMinutes:A.value,totalSessions:B.value,favoriteWave:U.value,frequencyUsage:F.value,effectRatings:h.value}};E.saveMeditationModuleData("brainwave-generator",a)},he=()=>{const a=E.getMeditationModuleData("brainwave-generator");a&&(a.brainwaves&&(b.value=a.brainwaves),a.settings&&(l.value={...l.value,...a.settings}),a.programs&&(W.value=a.programs),a.analytics&&(A.value=a.analytics.totalUsageMinutes||0,B.value=a.analytics.totalSessions||0,U.value=a.analytics.favoriteWave||"Alpha波",F.value=a.analytics.frequencyUsage||{},h.value={...h.value,...a.analytics.effectRatings})),qe()},qe=()=>{["Delta","Theta","Alpha","Beta","Gamma"].forEach(s=>{F.value[s]=Math.floor(Math.random()*50)+10}),J.value=Math.max(...Object.values(F.value))};return ke(()=>{he()}),we(()=>{V(),audioContext&&audioContext.close()}),(a,s)=>(o(),r("div",Me,[e("div",Te,[e("div",Ae,[e("div",Be,[e("h3",null,n(u.value.name),1),e("p",Ve,n(u.value.description),1),e("div",De,[e("span",Re,"🌊 "+n(u.value.frequency),1),e("span",Ue,"🧠 "+n(u.value.state),1),e("span",Ie,"✨ "+n(u.value.benefit),1)])]),e("div",Pe,[e("canvas",{ref_key:"visualizerCanvas",ref:j,class:"visualizer-canvas"},null,512),e("div",We,[e("span",Ge,n(v.value.toFixed(1))+" Hz",1)])]),e("div",$e,[e("div",Ne,[e("div",Ee,[e("span",Oe,n(Q(H.value)),1),e("span",Le,"/ "+n(Q(f.value*60)),1)]),e("div",je,[e("div",Ye,[e("div",{class:"progress-fill",style:R({width:le.value+"%"})},null,4)])])]),e("div",Je,[e("button",{class:"control-btn",onClick:pe,disabled:c.value===0}," ⏮️ ",8,Ke),e("button",{class:"play-pause-btn",onClick:ie},n(_.value?"⏸️":"▶️"),1),e("button",{class:"control-btn",onClick:fe,disabled:c.value===b.value.length-1}," ⏭️ ",8,Qe)]),e("div",Xe,[e("div",Ze,[s[13]||(s[13]=e("span",{class:"volume-icon"},"🔊",-1)),d(e("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":s[0]||(s[0]=t=>S.value=t),class:"volume-slider",onInput:ue},null,544),[[C,S.value]]),e("span",es,n(S.value)+"%",1)]),e("div",ss,[s[14]||(s[14]=e("label",null,"频率调节：",-1)),d(e("input",{type:"range",min:u.value.minFreq,max:u.value.maxFreq,step:.1,"onUpdate:modelValue":s[1]||(s[1]=t=>v.value=t),class:"frequency-slider",onInput:K},null,40,ts),[[C,v.value]])])])])])]),e("div",as,[s[19]||(s[19]=e("h3",null,"脑波类型",-1)),e("div",ns,[(o(!0),r(g,null,y(b.value,(t,m)=>(o(),r("div",{key:t.id,class:q(["wave-card",{active:c.value===m}]),onClick:x=>$(m)},[e("div",is,[e("div",{class:"wave-icon",style:R({color:t.color})},n(t.icon),5),c.value===m&&_.value?(o(),r("div",os,s[15]||(s[15]=[e("div",{class:"wave-animation"},null,-1)]))):ae("",!0)]),e("h4",null,n(t.name),1),e("p",rs,n(t.frequency),1),e("p",us,n(t.state),1),e("div",ds,[s[16]||(s[16]=e("h5",null,"主要效果：",-1)),e("ul",null,[(o(!0),r(g,null,y(t.benefits,x=>(o(),r("li",{key:x},n(x),1))),128))])]),e("div",cs,[e("div",vs,[s[17]||(s[17]=e("span",{class:"stat-label"},"使用次数：",-1)),e("span",ms,n(t.usageCount||0),1)]),e("div",ps,[s[18]||(s[18]=e("span",{class:"stat-label"},"总时长：",-1)),e("span",fs,n(t.totalMinutes||0)+"分钟",1)])])],10,ls))),128))])]),e("div",gs,[s[34]||(s[34]=e("h3",null,"会话设置",-1)),e("div",ys,[e("div",_s,[s[22]||(s[22]=e("h4",null,"⏰ 时间设置",-1)),e("div",bs,[s[20]||(s[20]=e("label",null,"会话时长（分钟）：",-1)),d(e("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=t=>f.value=t),min:"5",max:"120",class:"number-input"},null,512),[[C,f.value]])]),e("div",hs,[e("label",qs,[d(e("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=t=>l.value.autoStop=t)},null,512),[[se,l.value.autoStop]]),s[21]||(s[21]=M(" 时间到自动停止 ",-1))])])]),e("div",zs,[s[29]||(s[29]=e("h4",null,"🎵 音频设置",-1)),e("div",Ss,[e("label",ks,[d(e("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=t=>l.value.binauralBeats=t)},null,512),[[se,l.value.binauralBeats]]),s[23]||(s[23]=M(" 启用双耳节拍 ",-1))])]),e("div",ws,[s[24]||(s[24]=e("label",null,"载波频率（Hz）：",-1)),d(e("input",{type:"range",min:"200",max:"1000",step:"10","onUpdate:modelValue":s[5]||(s[5]=t=>l.value.carrierFreq=t),class:"frequency-slider",onInput:K},null,544),[[C,l.value.carrierFreq]]),e("span",Hs,n(l.value.carrierFreq)+" Hz",1),s[25]||(s[25]=e("p",{class:"setting-description"},"载波频率决定基础音调高低，建议范围200-1000Hz",-1))]),e("div",Fs,[s[27]||(s[27]=e("label",null,"背景音类型：",-1)),d(e("select",{"onUpdate:modelValue":s[6]||(s[6]=t=>l.value.backgroundSound=t),class:"select-input"},s[26]||(s[26]=[He('<option value="none" data-v-1c4fd964>无背景音</option><option value="rain" data-v-1c4fd964>雨声</option><option value="ocean" data-v-1c4fd964>海浪声</option><option value="forest" data-v-1c4fd964>森林声</option><option value="white-noise" data-v-1c4fd964>白噪音</option>',5)]),512),[[te,l.value.backgroundSound]])]),e("div",xs,[s[28]||(s[28]=e("label",null,"背景音音量：",-1)),d(e("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":s[7]||(s[7]=t=>l.value.backgroundVolume=t),class:"volume-slider"},null,512),[[C,l.value.backgroundVolume]]),e("span",Cs,n(l.value.backgroundVolume)+"%",1)])]),e("div",Ms,[s[33]||(s[33]=e("h4",null,"🎯 训练模式",-1)),e("div",Ts,[e("label",As,[d(e("input",{type:"radio","onUpdate:modelValue":s[8]||(s[8]=t=>l.value.mode=t),value:"single"},null,512),[[N,l.value.mode]]),s[30]||(s[30]=M(" 单一频率模式 ",-1))])]),e("div",Bs,[e("label",Vs,[d(e("input",{type:"radio","onUpdate:modelValue":s[9]||(s[9]=t=>l.value.mode=t),value:"sweep"},null,512),[[N,l.value.mode]]),s[31]||(s[31]=M(" 频率扫描模式 ",-1))])]),e("div",Ds,[e("label",Rs,[d(e("input",{type:"radio","onUpdate:modelValue":s[10]||(s[10]=t=>l.value.mode=t),value:"binaural"},null,512),[[N,l.value.mode]]),s[32]||(s[32]=M(" 双耳节拍模式 ",-1))])])])])]),e("div",Us,[s[38]||(s[38]=e("h3",null,"训练计划",-1)),e("div",Is,[(o(!0),r(g,null,y(W.value,t=>(o(),r("div",{key:t.id,class:"program-card",onClick:m=>ge(t)},[e("div",Ws,[e("div",Gs,n(t.icon),1),e("div",{class:q(["program-level",t.level])},n(ye(t.level)),3)]),e("h4",null,n(t.name),1),e("p",$s,n(t.description),1),e("div",Ns,[e("div",Es,[s[35]||(s[35]=e("span",{class:"detail-label"},"总时长：",-1)),e("span",Os,n(t.totalDuration)+"分钟",1)]),e("div",Ls,[s[36]||(s[36]=e("span",{class:"detail-label"},"阶段数：",-1)),e("span",js,n(t.stages.length)+"个",1)]),e("div",Ys,[s[37]||(s[37]=e("span",{class:"detail-label"},"频率范围：",-1)),e("span",Js,n(t.frequencyRange),1)])]),e("div",Ks,[e("div",Qs,[e("div",{class:"progress-fill",style:R({width:t.completedSessions/t.totalSessions*100+"%"})},null,4)]),e("span",Xs,n(t.completedSessions)+"/"+n(t.totalSessions)+" 完成",1)]),e("button",Zs,n(t.completedSessions===0?"开始训练":"继续训练"),1)],8,Ps))),128))])]),e("div",et,[s[53]||(s[53]=e("h3",null,"使用分析",-1)),e("div",st,[e("div",tt,[e("div",at,[s[40]||(s[40]=e("h4",null,"📊 使用统计",-1)),d(e("select",{"onUpdate:modelValue":s[11]||(s[11]=t=>Y.value=t),class:"time-range-select"},s[39]||(s[39]=[e("option",{value:"week"},"最近一周",-1),e("option",{value:"month"},"最近一月",-1),e("option",{value:"quarter"},"最近三月",-1)]),512),[[te,Y.value]])]),e("div",nt,[e("div",lt,[s[42]||(s[42]=e("div",{class:"stat-icon"},"⏱️",-1)),e("div",it,[e("span",ot,n(A.value),1),s[41]||(s[41]=e("span",{class:"stat-label"},"总使用时长（分钟）",-1))])]),e("div",rt,[s[44]||(s[44]=e("div",{class:"stat-icon"},"🎯",-1)),e("div",ut,[e("span",dt,n(B.value),1),s[43]||(s[43]=e("span",{class:"stat-label"},"总会话次数",-1))])]),e("div",ct,[s[46]||(s[46]=e("div",{class:"stat-icon"},"🌊",-1)),e("div",vt,[e("span",mt,n(U.value),1),s[45]||(s[45]=e("span",{class:"stat-label"},"最常用脑波",-1))])])])]),e("div",pt,[s[47]||(s[47]=e("h4",null,"📈 频率使用分布",-1)),e("div",ft,[e("div",gt,[(o(!0),r(g,null,y(F.value,(t,m)=>(o(),r("div",{key:m,class:"chart-bar",style:R({height:t/J.value*100+"%"}),title:`${m}: ${t}次`},[e("span",_t,n(m),1)],12,yt))),128))])])]),e("div",bt,[s[52]||(s[52]=e("h4",null,"🎯 效果评估",-1)),e("div",ht,[e("div",qt,[s[48]||(s[48]=e("span",{class:"rating-label"},"专注力提升：",-1)),e("div",zt,[(o(),r(g,null,y(5,t=>e("span",{key:t,class:q(["star",{filled:t<=h.value.focus}])},"⭐",2)),64))])]),e("div",St,[s[49]||(s[49]=e("span",{class:"rating-label"},"放松程度：",-1)),e("div",kt,[(o(),r(g,null,y(5,t=>e("span",{key:t,class:q(["star",{filled:t<=h.value.relaxation}])},"⭐",2)),64))])]),e("div",wt,[s[50]||(s[50]=e("span",{class:"rating-label"},"睡眠质量：",-1)),e("div",Ht,[(o(),r(g,null,y(5,t=>e("span",{key:t,class:q(["star",{filled:t<=h.value.sleep}])},"⭐",2)),64))])]),e("div",Ft,[s[51]||(s[51]=e("span",{class:"rating-label"},"创造力：",-1)),e("div",xt,[(o(),r(g,null,y(5,t=>e("span",{key:t,class:q(["star",{filled:t<=h.value.creativity}])},"⭐",2)),64))])])])])])]),I.value?(o(),r("div",{key:0,class:"modal-overlay",onClick:D},[e("div",{class:"session-modal",onClick:s[12]||(s[12]=Fe(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[54]||(s[54]=e("h3",null,"🎉 会话完成",-1)),e("button",{class:"close-btn",onClick:D},"×")]),e("div",Ct,[e("p",null,"您已完成 "+n(f.value)+" 分钟的脑波训练！",1),e("div",Mt,[e("div",Tt,[s[55]||(s[55]=e("span",{class:"summary-label"},"使用脑波：",-1)),e("span",At,n(u.value.name),1)]),e("div",Bt,[s[56]||(s[56]=e("span",{class:"summary-label"},"平均频率：",-1)),e("span",Vt,n(O.value.toFixed(1))+" Hz",1)]),e("div",Dt,[s[57]||(s[57]=e("span",{class:"summary-label"},"训练时长：",-1)),e("span",Rt,n(f.value)+"分钟",1)])]),e("div",Ut,[s[58]||(s[58]=e("h4",null,"请评价本次训练效果：",-1)),e("div",It,[(o(!0),r(g,null,y(ne.value,t=>(o(),r("button",{key:t.value,class:q(["feedback-btn",{selected:P.value===t.value}]),onClick:m=>P.value=t.value},n(t.icon)+" "+n(t.label),11,Pt))),128))])]),e("div",{class:"modal-actions"},[e("button",{class:"secondary-btn",onClick:D},"完成"),e("button",{class:"primary-btn",onClick:_e},"再来一次")])])])])):ae("",!0)]))}},Lt=Ce(Wt,[["__scopeId","data-v-1c4fd964"]]);export{Lt as default};
