import{u as at,k as l,c as b,l as lt,q as nt,o as u,a as c,b as t,t as o,m as q,s as p,v as U,x as E,F as T,h as G,y as I,f as V,g as N,z as dt,n as R}from"./index-7434e420.js";import{_ as rt}from"./_plugin-vue_export-helper-c27b6911.js";const ut={class:"guided-meditation-container"},ct={class:"meditation-player"},vt={class:"player-card"},pt={class:"meditation-info"},mt={class:"meditation-description"},ft={class:"meditation-meta"},gt={class:"duration"},yt={class:"difficulty"},bt={class:"category"},_t={class:"player-controls"},ht={class:"progress-container"},Dt={class:"progress-bar"},kt={class:"time-display"},Mt={class:"current-time"},Ct={class:"total-time"},Pt={class:"control-buttons"},wt=["disabled"],xt=["disabled"],Ut={class:"volume-control"},St={class:"volume-value"},Tt={class:"meditation-library"},Gt={class:"library-filters"},It={class:"filter-group"},Vt=["value"],Nt={class:"filter-group"},Rt={class:"meditation-grid"},Bt=["onClick"],Ot={class:"card-header"},zt={class:"meditation-icon"},Lt={key:0,class:"play-indicator"},$t={class:"card-description"},Ft={class:"card-meta"},qt={class:"duration"},Et={class:"card-stats"},jt={class:"stat-item"},At={class:"stat-value"},Ht={class:"stat-item"},Jt={class:"stat-value"},Kt={class:"meditation-settings"},Qt={class:"settings-grid"},Wt={class:"setting-card"},Xt={class:"setting-item"},Yt={class:"setting-label"},Zt={key:0,class:"setting-item"},te={class:"setting-card"},ee={class:"setting-item"},se={class:"setting-item"},ie={class:"setting-card"},oe={class:"setting-item"},ae={class:"setting-label"},le={class:"setting-item"},ne={class:"setting-label"},de={class:"meditation-progress"},re={class:"progress-overview"},ue={class:"progress-card"},ce={class:"progress-info"},ve={class:"progress-bar-container"},pe={class:"progress-bar"},me={class:"progress-text"},fe={class:"progress-card"},ge={class:"progress-info"},ye={class:"week-calendar"},be=["title"],_e={class:"progress-text"},he={class:"progress-card"},De={class:"progress-info"},ke={class:"stats-grid"},Me={class:"stat-item"},Ce={class:"stat-value"},Pe={class:"stat-item"},we={class:"stat-value"},xe={class:"stat-item"},Ue={class:"stat-value"},Se={class:"modal-content"},Te={class:"completion-stats"},Ge={class:"stat-item"},Ie={class:"stat-value"},Ve={class:"stat-item"},Ne={class:"stat-value"},Re={class:"stat-item"},Be={class:"stat-value"},Oe={__name:"GuidedMeditation",emits:["back"],setup(ze,{emit:Le}){const B=at(),r=l(!1),m=l(0),g=l(0),_=l(70),d=l(0),h=l("all"),D=l("all"),j=l([{value:"all",label:"全部",icon:"🌟",description:"所有冥想类型"},{value:"beginner",label:"初学者",icon:"🌱",description:"适合冥想新手的基础练习"},{value:"mindfulness",label:"正念",icon:"🧘",description:"培养当下觉察和正念意识"},{value:"relaxation",label:"放松",icon:"🌊",description:"身心放松和压力释放"},{value:"focus",label:"专注",icon:"🎯",description:"提升注意力和专注能力"},{value:"sleep",label:"睡眠",icon:"🌙",description:"改善睡眠质量和入睡速度"},{value:"loving-kindness",label:"慈心",icon:"💝",description:"培养慈悲心和人际关系"},{value:"creativity",label:"创造力",icon:"💡",description:"激发创造性思维和灵感"},{value:"insight",label:"内观",icon:"🔍",description:"深度自我探索和智慧培养"},{value:"healing",label:"疗愈",icon:"🌿",description:"情感疗愈和心理康复"},{value:"energy",label:"能量",icon:"⚡",description:"提升活力和生命能量"},{value:"chakra",label:"脉轮",icon:"🌈",description:"平衡和激活身体能量中心"}]),a=l({dailyReminder:!1,reminderTime:"20:00",reminderDays:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],reminderSound:"gentle-bell",dailyGoal:20,weeklyGoal:140,monthlyGoal:600,streakGoal:7,autoPlay:!1,autoPlayNext:!1,fadeInOut:!0,fadeInDuration:5,fadeOutDuration:10,backgroundMusic:!1,backgroundMusicVolume:30,backgroundMusicType:"nature",preferredDifficulty:"beginner",preferredDuration:15,preferredCategories:["mindfulness","relaxation"],preferredInstructor:"",voiceSpeed:1,voicePitch:1,personalizedRecommendations:!0,adaptiveDifficulty:!1,moodBasedSelection:!1,progressiveTraining:!0,customPlaylist:[],favoriteInstructors:[],excludedCategories:[],darkMode:!1,showProgress:!0,showTimer:!0,showBreathingGuide:!0,vibrationFeedback:!1,sessionPreparation:!0,preparationTime:30,sessionCooldown:!0,cooldownTime:60,biofeedbackIntegration:!1,heartRateMonitoring:!1}),y=l(0),k=l(0),M=l(0),C=l(0),A=l(0),S=l(!1),f=l([{id:1,title:"基础呼吸冥想",description:"通过专注呼吸来培养正念和专注力，适合初学者建立冥想基础",shortDescription:"基础冥想入门练习",duration:10,difficulty:"beginner",category:"mindfulness",icon:"🫁",audioUrl:"/audio/meditation/basic-breathing.mp3",completedCount:0,lastPractice:null,benefits:["提升专注力","减少焦虑","改善呼吸"],instructor:"李静老师",tags:["呼吸","正念","基础"]},{id:2,title:"进阶呼吸法",description:"学习4-7-8呼吸法和腹式呼吸，深化呼吸冥想体验",shortDescription:"深化呼吸冥想体验",duration:15,difficulty:"intermediate",category:"mindfulness",icon:"🌬️",audioUrl:"/audio/meditation/advanced-breathing.mp3",completedCount:0,lastPractice:null,benefits:["深度放松","调节神经系统","提升睡眠质量"],instructor:"王明老师",tags:["呼吸法","放松","进阶"]},{id:3,title:"正念观察",description:"培养对当下感受的觉察能力，不带评判地观察思维",shortDescription:"培养正念觉察",duration:18,difficulty:"intermediate",category:"mindfulness",icon:"👁️",audioUrl:"/audio/meditation/mindful-observation.mp3",completedCount:0,lastPractice:null,benefits:["增强觉察力","减少反应性","提升情绪调节"],instructor:"张慧老师",tags:["正念","观察","觉察"]},{id:4,title:"身体扫描冥想",description:"系统性地感知身体各个部位，释放肌肉紧张，提升身体觉察能力",shortDescription:"全身放松扫描",duration:15,difficulty:"beginner",category:"relaxation",icon:"🧘‍♀️",audioUrl:"/audio/meditation/body-scan.mp3",completedCount:0,lastPractice:null,benefits:["肌肉放松","身体觉察","压力释放"],instructor:"陈安老师",tags:["身体","扫描","放松"]},{id:5,title:"渐进式肌肉放松",description:"通过收紧和放松肌肉群来达到深度放松状态",shortDescription:"深度肌肉放松",duration:25,difficulty:"beginner",category:"relaxation",icon:"💪",audioUrl:"/audio/meditation/progressive-relaxation.mp3",completedCount:0,lastPractice:null,benefits:["深度放松","改善睡眠","缓解疼痛"],instructor:"刘康老师",tags:["肌肉","渐进式","深度放松"]},{id:6,title:"深度放松冥想",description:"释放身心压力，进入深度放松状态，缓解焦虑和紧张情绪",shortDescription:"深度放松身心",duration:20,difficulty:"intermediate",category:"relaxation",icon:"🌊",audioUrl:"/audio/meditation/deep-relaxation.mp3",completedCount:0,lastPractice:null,benefits:["压力释放","情绪平衡","内心平静"],instructor:"瑜伽大师",tags:["深度放松","压力","平静"]},{id:7,title:"专注力提升冥想",description:"通过专注呼吸和身体感知，提升注意力集中能力，改善学习和工作效率",shortDescription:"提升专注力和注意力",duration:12,difficulty:"intermediate",category:"focus",icon:"🎯",audioUrl:"/audio/meditation/focus-enhancement.mp3",completedCount:0,lastPractice:null,benefits:["提升专注力","增强意志力","改善工作效率"],instructor:"专注力导师",tags:["专注","单点","训练"]},{id:8,title:"数息冥想",description:"通过数呼吸来训练心智的稳定性和专注力",shortDescription:"训练心智稳定",duration:20,difficulty:"intermediate",category:"focus",icon:"🔢",audioUrl:"/audio/meditation/counting-breath.mp3",completedCount:0,lastPractice:null,benefits:["心智稳定","专注持久","内心平静"],instructor:"禅修老师",tags:["数息","专注","稳定"]},{id:9,title:"视觉专注冥想",description:"通过观想光点或图像来训练视觉专注能力",shortDescription:"训练视觉专注",duration:16,difficulty:"advanced",category:"focus",icon:"✨",audioUrl:"/audio/meditation/visual-focus.mp3",completedCount:0,lastPractice:null,benefits:["视觉专注","想象力","心智清晰"],instructor:"观想导师",tags:["视觉","观想","专注"]},{id:10,title:"慈心冥想",description:"培养对自己和他人的慈悲心，增进人际关系",shortDescription:"培养慈悲心",duration:20,difficulty:"intermediate",category:"mindfulness",icon:"💝",audioUrl:"/audio/meditation/loving-kindness.mp3",completedCount:0,lastPractice:null,benefits:["增进慈悲心","改善人际关系","减少负面情绪"],instructor:"慈心导师",tags:["慈心","慈悲","人际"]},{id:11,title:"感恩冥想",description:"培养感恩的心态，增进生活的幸福感和满足感",shortDescription:"培养感恩心态",duration:15,difficulty:"beginner",category:"mindfulness",icon:"🙏",audioUrl:"/audio/meditation/gratitude.mp3",completedCount:0,lastPractice:null,benefits:["增进幸福感","积极心态","生活满足"],instructor:"正向心理学家",tags:["感恩","幸福","积极"]},{id:12,title:"助眠冥想",description:"温和的语音引导帮助您放松身心，更快进入睡眠状态，提升睡眠质量",shortDescription:"改善睡眠质量",duration:22,difficulty:"beginner",category:"sleep",icon:"🌙",audioUrl:"/audio/meditation/sleep-aid.mp3",completedCount:0,lastPractice:null,benefits:["改善睡眠","快速入睡","睡眠质量"],instructor:"睡眠专家",tags:["睡眠","入睡","夜晚"]},{id:13,title:"深度睡眠引导",description:"引导进入深度睡眠状态，促进身心恢复",shortDescription:"深度睡眠恢复",duration:35,difficulty:"beginner",category:"sleep",icon:"😴",audioUrl:"/audio/meditation/deep-sleep.mp3",completedCount:0,lastPractice:null,benefits:["深度睡眠","身心恢复","免疫增强"],instructor:"睡眠治疗师",tags:["深度睡眠","恢复","治疗"]},{id:14,title:"午休小憩",description:"短时间的放松冥想，适合午休或工作间隙",shortDescription:"快速恢复精力",duration:8,difficulty:"beginner",category:"sleep",icon:"☀️",audioUrl:"/audio/meditation/power-nap.mp3",completedCount:0,lastPractice:null,benefits:["快速恢复","提升精力","工作效率"],instructor:"效率专家",tags:["午休","小憩","恢复"]},{id:15,title:"初学者引导冥想",description:"专为冥想初学者设计的基础引导练习，帮助您学习正确的冥想姿势和呼吸方法",shortDescription:"冥想入门指导",duration:10,difficulty:"beginner",category:"beginner",icon:"🌱",audioUrl:"/audio/meditation/beginner-guide.mp3",completedCount:0,lastPractice:null,benefits:["学习基础","建立习惯","正确姿势"],instructor:"入门导师",tags:["入门","基础","指导"]}]),v=b(()=>f.value[d.value]),H=b(()=>g.value===0?0:m.value/g.value*100),J=b(()=>Math.min(y.value/a.value.dailyGoal*100,100)),K=b(()=>{let i=f.value;return h.value!=="all"&&(i=i.filter(e=>e.category===h.value)),D.value!=="all"&&(i=i.filter(e=>{switch(D.value){case"short":return e.duration<=10;case"medium":return e.duration>10&&e.duration<=20;case"long":return e.duration>20;default:return!0}})),i}),Q=b(()=>{const i=new Date,e=["日","一","二","三","四","五","六"],s=[];for(let n=0;n<7;n++){const x=new Date(i);x.setDate(i.getDate()-i.getDay()+n),s.push({dayName:e[n],date:x.toLocaleDateString(),completed:Math.random()>.5,isToday:x.toDateString()===i.toDateString()})}return s}),O=()=>{r.value=!r.value,r.value?P():W()},P=()=>{g.value=v.value.duration*60,console.log("开始播放:",v.value.title)},W=()=>{console.log("暂停播放")},X=()=>{d.value>0&&(d.value--,r.value&&P())},z=()=>{d.value<f.value.length-1&&(d.value++,r.value&&P())},Y=i=>{d.value=i,m.value=0,r.value&&P()},Z=()=>{console.log("音量设置为:",_.value)},L=()=>{},$=i=>{const e=Math.floor(i/60),s=i%60;return`${e.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},tt=i=>{if(!i)return"未练习";const e=new Date,s=new Date(i),n=Math.floor((e-s)/(1e3*60*60*24));return n===0?"今天":n===1?"昨天":n<7?`${n}天前`:s.toLocaleDateString()},F=i=>({beginner:"初级",intermediate:"中级",advanced:"高级"})[i]||"中级",w=()=>{S.value=!1},et=()=>{w(),z(),O()},st=()=>{r.value=!1,m.value=0;const i=f.value[d.value];i.completedCount++,i.lastPractice=new Date().toISOString(),y.value+=i.duration,k.value++,M.value+=i.duration,it(),S.value=!0},it=()=>{const i={meditations:f.value,settings:a.value,stats:{todayMinutes:y.value,totalSessions:k.value,totalMinutes:M.value,streakDays:C.value}};B.saveMeditationModuleData("guided-meditation",i)},ot=()=>{const i=B.getMeditationModuleData("guided-meditation");i&&(i.meditations&&(f.value=i.meditations),i.settings&&(a.value={...a.value,...i.settings}),i.stats&&(y.value=i.stats.todayMinutes||0,k.value=i.stats.totalSessions||0,M.value=i.stats.totalMinutes||0,C.value=i.stats.streakDays||0))};return lt(()=>{ot();const i=setInterval(()=>{r.value&&m.value<g.value&&(m.value++,m.value>=g.value&&st())},1e3);nt(()=>{clearInterval(i)})}),(i,e)=>(u(),c("div",ut,[t("div",ct,[t("div",vt,[t("div",pt,[t("h3",null,o(v.value.title),1),t("p",mt,o(v.value.description),1),t("div",ft,[t("span",gt,"⏱️ "+o(v.value.duration)+"分钟",1),t("span",yt,"📊 "+o(F(v.value.difficulty)),1),t("span",bt,"🏷️ "+o(v.value.category),1)])]),t("div",_t,[t("div",ht,[t("div",Dt,[t("div",{class:"progress-fill",style:q({width:H.value+"%"})},null,4)]),t("div",kt,[t("span",Mt,o($(m.value)),1),t("span",Ct,o($(g.value)),1)])]),t("div",Pt,[t("button",{class:"control-btn",onClick:X,disabled:d.value===0}," ⏮️ ",8,wt),t("button",{class:"play-pause-btn",onClick:O},o(r.value?"⏸️":"▶️"),1),t("button",{class:"control-btn",onClick:z,disabled:d.value===f.value.length-1}," ⏭️ ",8,xt)]),t("div",Ut,[e[10]||(e[10]=t("span",{class:"volume-icon"},"🔊",-1)),p(t("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s),class:"volume-slider",onInput:Z},null,544),[[U,_.value]]),t("span",St,o(_.value)+"%",1)])])])]),t("div",Tt,[e[16]||(e[16]=t("h3",null,"冥想音频库",-1)),t("div",Gt,[t("div",It,[e[11]||(e[11]=t("label",null,"分类：",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>h.value=s),onChange:L},[(u(!0),c(T,null,G(j.value,s=>(u(),c("option",{key:s.value,value:s.value},o(s.icon)+" "+o(s.label),9,Vt))),128))],544),[[E,h.value]])]),t("div",Nt,[e[13]||(e[13]=t("label",null,"时长：",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>D.value=s),onChange:L},e[12]||(e[12]=[t("option",{value:"all"},"全部",-1),t("option",{value:"short"},"5-10分钟",-1),t("option",{value:"medium"},"10-20分钟",-1),t("option",{value:"long"},"20分钟以上",-1)]),544),[[E,D.value]])])]),t("div",Rt,[(u(!0),c(T,null,G(K.value,(s,n)=>(u(),c("div",{key:s.id,class:R(["meditation-card",{active:d.value===n}]),onClick:x=>Y(n)},[t("div",Ot,[t("div",zt,o(s.icon),1),d.value===n&&r.value?(u(),c("div",Lt," 🎵 ")):N("",!0)]),t("h4",null,o(s.title),1),t("p",$t,o(s.shortDescription),1),t("div",Ft,[t("span",qt,o(s.duration)+"分钟",1),t("span",{class:R(["difficulty",s.difficulty])},o(F(s.difficulty)),3)]),t("div",Et,[t("div",jt,[e[14]||(e[14]=t("span",{class:"stat-label"},"完成次数：",-1)),t("span",At,o(s.completedCount||0),1)]),t("div",Ht,[e[15]||(e[15]=t("span",{class:"stat-label"},"最后练习：",-1)),t("span",Jt,o(tt(s.lastPractice)),1)])])],10,Bt))),128))])]),t("div",Kt,[e[26]||(e[26]=t("h3",null,"冥想设置",-1)),t("div",Qt,[t("div",Wt,[e[19]||(e[19]=t("h4",null,"🔔 提醒设置",-1)),t("div",Xt,[t("label",Yt,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.dailyReminder=s)},null,512),[[I,a.value.dailyReminder]]),e[17]||(e[17]=V(" 每日冥想提醒 ",-1))])]),a.value.dailyReminder?(u(),c("div",Zt,[e[18]||(e[18]=t("label",null,"提醒时间：",-1)),p(t("input",{type:"time","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.reminderTime=s),class:"time-input"},null,512),[[U,a.value.reminderTime]])])):N("",!0)]),t("div",te,[e[22]||(e[22]=t("h4",null,"🎯 目标设定",-1)),t("div",ee,[e[20]||(e[20]=t("label",null,"每日目标时长（分钟）：",-1)),p(t("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.dailyGoal=s),min:"5",max:"120",class:"number-input"},null,512),[[U,a.value.dailyGoal]])]),t("div",se,[e[21]||(e[21]=t("label",null,"每周目标天数：",-1)),p(t("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=s=>a.value.weeklyGoal=s),min:"1",max:"7",class:"number-input"},null,512),[[U,a.value.weeklyGoal]])])]),t("div",ie,[e[25]||(e[25]=t("h4",null,"🎵 音频设置",-1)),t("div",oe,[t("label",ae,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=s=>a.value.autoPlay=s)},null,512),[[I,a.value.autoPlay]]),e[23]||(e[23]=V(" 自动播放下一个 ",-1))])]),t("div",le,[t("label",ne,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>a.value.fadeInOut=s)},null,512),[[I,a.value.fadeInOut]]),e[24]||(e[24]=V(" 淡入淡出效果 ",-1))])])])])]),t("div",de,[e[36]||(e[36]=t("h3",null,"冥想进度",-1)),t("div",re,[t("div",ue,[e[28]||(e[28]=t("div",{class:"progress-icon"},"📅",-1)),t("div",ce,[e[27]||(e[27]=t("h4",null,"今日进度",-1)),t("div",ve,[t("div",pe,[t("div",{class:"progress-fill",style:q({width:J.value+"%"})},null,4)]),t("span",me,o(y.value)+"/"+o(a.value.dailyGoal)+"分钟",1)])])]),t("div",fe,[e[30]||(e[30]=t("div",{class:"progress-icon"},"🗓️",-1)),t("div",ge,[e[29]||(e[29]=t("h4",null,"本周进度",-1)),t("div",ye,[(u(!0),c(T,null,G(Q.value,(s,n)=>(u(),c("div",{key:n,class:R(["day-indicator",{completed:s.completed,today:s.isToday}]),title:s.date},o(s.dayName),11,be))),128))]),t("span",_e,o(A.value)+"/"+o(a.value.weeklyGoal)+"天",1)])]),t("div",he,[e[35]||(e[35]=t("div",{class:"progress-icon"},"🏆",-1)),t("div",De,[e[34]||(e[34]=t("h4",null,"总体统计",-1)),t("div",ke,[t("div",Me,[t("span",Ce,o(k.value),1),e[31]||(e[31]=t("span",{class:"stat-label"},"总次数",-1))]),t("div",Pe,[t("span",we,o(M.value),1),e[32]||(e[32]=t("span",{class:"stat-label"},"总时长",-1))]),t("div",xe,[t("span",Ue,o(C.value),1),e[33]||(e[33]=t("span",{class:"stat-label"},"连续天数",-1))])])])])])]),S.value?(u(),c("div",{key:0,class:"modal-overlay",onClick:w},[t("div",{class:"completion-modal",onClick:e[9]||(e[9]=dt(()=>{},["stop"]))},[t("div",{class:"modal-header"},[e[37]||(e[37]=t("h3",null,"🎉 冥想完成",-1)),t("button",{class:"close-btn",onClick:w},"×")]),t("div",Se,[t("p",null,"恭喜您完成了 "+o(v.value.duration)+" 分钟的冥想练习！",1),t("div",Te,[t("div",Ge,[e[38]||(e[38]=t("span",{class:"stat-label"},"本次时长：",-1)),t("span",Ie,o(v.value.duration)+"分钟",1)]),t("div",Ve,[e[39]||(e[39]=t("span",{class:"stat-label"},"今日总计：",-1)),t("span",Ne,o(y.value)+"分钟",1)]),t("div",Re,[e[40]||(e[40]=t("span",{class:"stat-label"},"连续天数：",-1)),t("span",Be,o(C.value)+"天",1)])]),t("div",{class:"modal-actions"},[t("button",{class:"secondary-btn",onClick:w},"完成"),t("button",{class:"primary-btn",onClick:et},"继续下一个")])])])])):N("",!0)]))}},qe=rt(Oe,[["__scopeId","data-v-b5281c7c"]]);export{qe as default};
