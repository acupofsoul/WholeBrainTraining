import{i as y,k as Oe,A as Ee,c as T,o,a,b as e,d as Ue,p as V,z as G,g as A,t as i,m as I,F as S,h as $,v as es,E as ss,n as P,q as ts,r as je,f as ke,e as ze,w as Ke,s as ns,O as ue,y as Re,N as is,K as ls}from"./index-e0b54b24.js";import{s as be,b as Te,c as Ne,a as os,S as as}from"./configService-cad34a82.js";import{_ as Le}from"./_plugin-vue_export-helper-c27b6911.js";function rs(t){const s={attention:{selectedModules:["sustained","selective","divided","executive"],difficulty:"medium",mode:"comprehensive",soundEnabled:!0,progressHints:!0,autoSave:!0,breakInterval:5,timeLimit:"normal",feedbackMode:"immediate"},memory:{selectedModules:["number","image","word","sequence"],difficulty:"medium",mode:"comprehensive",enableHints:!0,enableFeedback:!0,enableProgress:!0,questionCount:20,timeLimit:600,adaptiveDifficulty:!1},calculation:{selectedModules:["arithmetic","logic","sequence","mental"],difficulty:"medium",questionCount:20,timeLimit:600,showHints:!0,enableFeedback:!0,adaptiveDifficulty:!1},thinking:{selectedModules:["logical","creative","critical","problem"],difficulty:"medium",mode:"comprehensive",timeLimit:"normal",questionOrder:"sequential",feedbackMode:"delayed",hintMode:"limited"},comprehensive:{selectedModules:["logical","memory","processing","attention","verbal"],difficulty:"medium",duration:30,adaptiveDifficulty:!0,detailedFeedback:!0,timeWarning:!0}},d={attention:[{value:"easy",name:"ç®€å•",icon:"ğŸŸ¢",description:"åŸºç¡€æ³¨æ„åŠ›è®­ç»ƒï¼Œé€‚åˆåˆå­¦è€…"},{value:"medium",name:"ä¸­ç­‰",icon:"ğŸŸ¡",description:"æ ‡å‡†éš¾åº¦ï¼Œé€‚åˆå¤§å¤šæ•°äºº"},{value:"hard",name:"å›°éš¾",icon:"ğŸŸ ",description:"é«˜éš¾åº¦è®­ç»ƒï¼Œéœ€è¦è¾ƒå¼ºåŸºç¡€"},{value:"expert",name:"ä¸“å®¶",icon:"ğŸ”´",description:"ä¸“å®¶çº§åˆ«ï¼Œæå…·æŒ‘æˆ˜æ€§"}],memory:[{value:"easy",name:"ç®€å•",description:"åŸºç¡€è®°å¿†æµ‹è¯•"},{value:"medium",name:"ä¸­ç­‰",description:"æ ‡å‡†è®°å¿†æµ‹è¯•"},{value:"hard",name:"å›°éš¾",description:"é«˜éš¾åº¦è®°å¿†æµ‹è¯•"},{value:"adaptive",name:"è‡ªé€‚åº”",description:"æ ¹æ®è¡¨ç°è°ƒæ•´éš¾åº¦"}],calculation:[{value:"easy",name:"ç®€å•",icon:"ğŸŸ¢",description:"åŸºç¡€è®¡ç®—ï¼Œé€‚åˆåˆå­¦è€…"},{value:"medium",name:"ä¸­ç­‰",icon:"ğŸŸ¡",description:"ä¸­ç­‰éš¾åº¦ï¼Œé€‚åˆå¤§å¤šæ•°äºº"},{value:"hard",name:"å›°éš¾",icon:"ğŸŸ ",description:"é«˜éš¾åº¦è®¡ç®—ï¼Œéœ€è¦è¾ƒå¼ºåŸºç¡€"},{value:"expert",name:"ä¸“å®¶",icon:"ğŸ”´",description:"ä¸“å®¶çº§åˆ«ï¼Œæå…·æŒ‘æˆ˜æ€§"}],thinking:[{value:"easy",name:"ç®€å•",description:"åŸºç¡€é¢˜ç›®ï¼Œé€‚åˆåˆå­¦è€…"},{value:"medium",name:"ä¸­ç­‰",description:"æ ‡å‡†éš¾åº¦ï¼Œé€‚åˆå¤§å¤šæ•°äºº"},{value:"hard",name:"å›°éš¾",description:"æŒ‘æˆ˜æ€§é¢˜ç›®ï¼Œé€‚åˆé«˜æ°´å¹³ç”¨æˆ·"},{value:"expert",name:"ä¸“å®¶",description:"æå…·æŒ‘æˆ˜æ€§ï¼Œé€‚åˆä¸“ä¸šäººå£«"}],comprehensive:[{value:"easy",name:"ç®€å•",description:"é€‚åˆåˆå­¦è€…ï¼Œé¢˜ç›®ç›¸å¯¹ç®€å•ï¼Œæ—¶é—´å……è£•"},{value:"medium",name:"ä¸­ç­‰",description:"é€‚åˆä¸€èˆ¬ç”¨æˆ·ï¼Œéš¾åº¦é€‚ä¸­ï¼Œæ—¶é—´åˆç†"},{value:"hard",name:"å›°éš¾",description:"é€‚åˆé«˜æ°´å¹³ç”¨æˆ·ï¼Œé¢˜ç›®å¤æ‚ï¼Œæ—¶é—´ç´§å¼ "},{value:"expert",name:"ä¸“å®¶",description:"é€‚åˆä¸“ä¸šäººå£«ï¼Œæå…·æŒ‘æˆ˜æ€§"}]},w={attention:[{id:"sustained",name:"æŒç»­æ³¨æ„åŠ›",icon:"â±ï¸",description:"æµ‹è¯•é•¿æ—¶é—´ä¿æŒæ³¨æ„åŠ›çš„èƒ½åŠ›",duration:8,questions:20},{id:"selective",name:"é€‰æ‹©æ€§æ³¨æ„åŠ›",icon:"ğŸ¯",description:"æµ‹è¯•åœ¨å¹²æ‰°ä¸­é€‰æ‹©ç›®æ ‡çš„èƒ½åŠ›",duration:6,questions:15},{id:"divided",name:"åˆ†é…æ€§æ³¨æ„åŠ›",icon:"ğŸ”„",description:"æµ‹è¯•åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›",duration:10,questions:25},{id:"executive",name:"æ‰§è¡Œæ³¨æ„åŠ›",icon:"ğŸ§ ",description:"æµ‹è¯•æ³¨æ„åŠ›æ§åˆ¶å’Œè°ƒèŠ‚èƒ½åŠ›",duration:12,questions:30}],memory:[{key:"number",name:"æ•°å­—è®°å¿†",icon:"ğŸ”¢",description:"æµ‹è¯•æ•°å­—åºåˆ—è®°å¿†èƒ½åŠ›",questionCount:15,duration:8},{key:"image",name:"å›¾åƒè®°å¿†",icon:"ğŸ–¼ï¸",description:"æµ‹è¯•è§†è§‰å›¾åƒè®°å¿†èƒ½åŠ›",questionCount:12,duration:10},{key:"word",name:"å•è¯è®°å¿†",icon:"ğŸ“",description:"æµ‹è¯•è¯æ±‡è®°å¿†èƒ½åŠ›",questionCount:20,duration:12},{key:"sequence",name:"åºåˆ—è®°å¿†",icon:"ğŸ”—",description:"æµ‹è¯•åºåˆ—é¡ºåºè®°å¿†èƒ½åŠ›",questionCount:18,duration:15}],calculation:[{key:"arithmetic",name:"åŸºç¡€è¿ç®—",icon:"â•",description:"åŠ å‡ä¹˜é™¤ç­‰åŸºç¡€æ•°å­¦è¿ç®—",estimatedTime:5},{key:"logic",name:"é€»è¾‘æ¨ç†",icon:"ğŸ§ ",description:"æ•°å­¦é€»è¾‘å’Œæ¨ç†èƒ½åŠ›æµ‹è¯•",estimatedTime:8},{key:"sequence",name:"æ•°å­—åºåˆ—",icon:"ğŸ”¢",description:"æ•°å­—è§„å¾‹è¯†åˆ«å’Œåºåˆ—æ¨ç†",estimatedTime:6},{key:"mental",name:"å¿ƒç®—èƒ½åŠ›",icon:"âš¡",description:"å¿«é€Ÿå¿ƒç®—å’Œæ•°å­—å¤„ç†èƒ½åŠ›",estimatedTime:7}],thinking:[{id:"logical",name:"é€»è¾‘æ€ç»´æµ‹è¯•",description:"è¯„ä¼°é€»è¾‘æ¨ç†ã€æ¼”ç»å½’çº³èƒ½åŠ›",icon:"ğŸ§ ",duration:15},{id:"creative",name:"åˆ›é€ æ€ç»´æµ‹è¯•",description:"è¯„ä¼°åˆ›æ–°æ€ç»´ã€å‘æ•£æ€ç»´èƒ½åŠ›",icon:"ğŸ’¡",duration:20},{id:"critical",name:"æ‰¹åˆ¤æ€ç»´æµ‹è¯•",description:"è¯„ä¼°åˆ†æåˆ¤æ–­ã€è´¨ç–‘è¯„ä»·èƒ½åŠ›",icon:"ğŸ”",duration:18},{id:"problem",name:"é—®é¢˜è§£å†³æµ‹è¯•",description:"è¯„ä¼°é—®é¢˜åˆ†æã€è§£å†³ç­–ç•¥èƒ½åŠ›",icon:"ğŸ¯",duration:25}],comprehensive:[{id:"logical",name:"é€»è¾‘æ¨ç†",icon:"ğŸ§©",estimatedTime:8},{id:"memory",name:"å·¥ä½œè®°å¿†",icon:"ğŸ§ ",estimatedTime:6},{id:"processing",name:"å¤„ç†é€Ÿåº¦",icon:"âš¡",estimatedTime:5},{id:"attention",name:"æ³¨æ„åŠ›",icon:"ğŸ‘ï¸",estimatedTime:7},{id:"verbal",name:"è¯­è¨€ç†è§£",icon:"ğŸ“",estimatedTime:9}]},v={attention:[{value:"quick",name:"å¿«é€Ÿæµ‹è¯„",icon:"âš¡",description:"15åˆ†é’Ÿå¿«é€Ÿè¯„ä¼°"},{value:"standard",name:"æ ‡å‡†æµ‹è¯„",icon:"ğŸ“Š",description:"30åˆ†é’Ÿå…¨é¢è¯„ä¼°"},{value:"comprehensive",name:"ç»¼åˆæµ‹è¯„",icon:"ğŸ¯",description:"45åˆ†é’Ÿæ·±åº¦è¯„ä¼°"},{value:"adaptive",name:"è‡ªé€‚åº”æµ‹è¯„",icon:"ğŸ”„",description:"æ ¹æ®è¡¨ç°è°ƒæ•´éš¾åº¦"}],memory:[{value:"comprehensive",name:"ç»¼åˆæµ‹è¯„",description:"å…¨é¢è¯„ä¼°å„é¡¹è®°å¿†èƒ½åŠ›"},{value:"quick",name:"å¿«é€Ÿæµ‹è¯„",description:"å¿«é€Ÿè¯„ä¼°æ ¸å¿ƒè®°å¿†èƒ½åŠ›"},{value:"detailed",name:"è¯¦ç»†æµ‹è¯„",description:"æ·±å…¥è¯„ä¼°ç‰¹å®šè®°å¿†ç±»å‹"}],thinking:[{value:"comprehensive",name:"ç»¼åˆæµ‹è¯„",description:"å…¨é¢è¯„ä¼°å„é¡¹æ€ç»´èƒ½åŠ›"},{value:"focused",name:"ä¸“é¡¹æµ‹è¯„",description:"é‡ç‚¹è¯„ä¼°ç‰¹å®šæ€ç»´èƒ½åŠ›"},{value:"adaptive",name:"è‡ªé€‚åº”æµ‹è¯„",description:"æ ¹æ®è¡¨ç°åŠ¨æ€è°ƒæ•´éš¾åº¦"}]},l=y({...s[t]||{}}),b=y(!0),r=y(null);let p=null;const L=async()=>{try{b.value=!0,r.value=null;const D=await be.getSettings(Te.ABILITY_TEST,t,s[t]||{});l.value={...s[t],...D},p=be.addListener(Te.ABILITY_TEST,_)}catch(D){console.error("åˆå§‹åŒ–è®¾ç½®å¤±è´¥:",D),r.value=D.message,l.value={...s[t]||{}}}finally{b.value=!1}},_=({category:D,key:x,value:C})=>{D===Te.ABILITY_TEST&&x===t&&(l.value={...l.value,...C})},z=async(D,x={})=>{try{const C={...l.value,...D};l.value=C,await be.saveSettings(Te.ABILITY_TEST,t,C,{immediate:x.immediate||!1,backup:x.backup!==!1,notify:x.notify!==!1}),Ne.setConfig(`abilityTest.${t}`,C)}catch(C){throw console.error("æ›´æ–°è®¾ç½®å¤±è´¥:",C),r.value=C.message,C}},W=async(D={})=>{try{const x={...s[t]||{}};l.value=x,await be.resetSettings(Te.ABILITY_TEST,t),await be.saveSettings(Te.ABILITY_TEST,t,x,{immediate:!0,backup:D.backup!==!1}),Ne.setConfig(`abilityTest.${t}`,x)}catch(x){throw console.error("é‡ç½®è®¾ç½®å¤±è´¥:",x),r.value=x.message,x}},R=async()=>{try{return await be.exportAllSettings()}catch(D){throw console.error("å¯¼å‡ºè®¾ç½®å¤±è´¥:",D),D}},j=async(D,x={})=>{try{await be.importSettings(D,x),await L()}catch(C){throw console.error("å¯¼å…¥è®¾ç½®å¤±è´¥:",C),C}};Oe(()=>{L()}),Ee(()=>{p&&p()});const X=T(()=>{const D=[];D.push({title:"åŸºç¡€è®¾ç½®",settings:[{key:"difficulty",label:"éš¾åº¦ç­‰çº§",type:"select",value:l.value.difficulty,options:d[t]||[],description:"é€‰æ‹©é€‚åˆæ‚¨æ°´å¹³çš„æµ‹è¯•éš¾åº¦"}]}),w[t]&&D.push({title:"æµ‹è¯•æ¨¡å—",settings:[{key:"selectedModules",label:"é€‰æ‹©æ¨¡å—",type:"multiSelect",value:l.value.selectedModules,options:w[t],description:"é€‰æ‹©è¦è¿›è¡Œçš„æµ‹è¯•æ¨¡å—"}]}),v[t]&&D[0].settings.push({key:"mode",label:"æµ‹è¯„æ¨¡å¼",type:"select",value:l.value.mode,options:v[t],description:"é€‰æ‹©æµ‹è¯„çš„è¯¦ç»†ç¨‹åº¦"});const x=[];l.value.hasOwnProperty("questionCount")&&x.push({key:"questionCount",label:"é¢˜ç›®æ•°é‡",type:"select",value:l.value.questionCount,options:[{value:10,label:"10é¢˜ (å¿«é€Ÿæµ‹è¯„)"},{value:20,label:"20é¢˜ (æ ‡å‡†æµ‹è¯„)"},{value:30,label:"30é¢˜ (æ·±åº¦æµ‹è¯„)"}],description:"é€‰æ‹©æµ‹è¯•é¢˜ç›®æ•°é‡"}),l.value.hasOwnProperty("timeLimit")&&x.push({key:"timeLimit",label:"æ—¶é—´é™åˆ¶",type:"select",value:l.value.timeLimit,options:[{value:300,label:"5åˆ†é’Ÿ"},{value:600,label:"10åˆ†é’Ÿ"},{value:900,label:"15åˆ†é’Ÿ"},{value:0,label:"æ— é™åˆ¶"}],description:"è®¾ç½®æµ‹è¯•æ—¶é—´é™åˆ¶"}),l.value.hasOwnProperty("duration")&&x.push({key:"duration",label:"æµ‹è¯•æ—¶é•¿",type:"slider",value:l.value.duration,min:15,max:60,step:5,unit:"åˆ†é’Ÿ",description:"è®¾ç½®æ€»æµ‹è¯•æ—¶é•¿"});const C=[];if(l.value.hasOwnProperty("soundEnabled")&&C.push({key:"soundEnabled",label:"éŸ³æ•ˆæç¤º",type:"toggle",value:l.value.soundEnabled,description:"å¯ç”¨æµ‹è¯•è¿‡ç¨‹ä¸­çš„éŸ³æ•ˆæç¤º"}),l.value.hasOwnProperty("enableHints")||l.value.hasOwnProperty("showHints")){const Q=l.value.hasOwnProperty("enableHints")?"enableHints":"showHints";C.push({key:Q,label:"æç¤ºåŠŸèƒ½",type:"toggle",value:l.value[Q],description:"åœ¨å›°éš¾é¢˜ç›®ä¸­æ˜¾ç¤ºè§£é¢˜æç¤º"})}if(l.value.hasOwnProperty("enableFeedback")&&C.push({key:"enableFeedback",label:"å³æ—¶åé¦ˆ",type:"toggle",value:l.value.enableFeedback,description:"æ˜¾ç¤ºç­”é¢˜åçš„å³æ—¶åé¦ˆ"}),l.value.hasOwnProperty("progressHints")||l.value.hasOwnProperty("enableProgress")){const Q=l.value.hasOwnProperty("progressHints")?"progressHints":"enableProgress";C.push({key:Q,label:"è¿›åº¦æç¤º",type:"toggle",value:l.value[Q],description:"æ˜¾ç¤ºæµ‹è¯•è¿›åº¦ä¿¡æ¯"})}return l.value.hasOwnProperty("autoSave")&&C.push({key:"autoSave",label:"è‡ªåŠ¨ä¿å­˜",type:"toggle",value:l.value.autoSave,description:"è‡ªåŠ¨ä¿å­˜æµ‹è¯•ç»“æœ"}),l.value.hasOwnProperty("adaptiveDifficulty")&&C.push({key:"adaptiveDifficulty",label:"è‡ªé€‚åº”éš¾åº¦",type:"toggle",value:l.value.adaptiveDifficulty,description:"æ ¹æ®è¡¨ç°è‡ªåŠ¨è°ƒæ•´éš¾åº¦"}),l.value.hasOwnProperty("detailedFeedback")&&C.push({key:"detailedFeedback",label:"è¯¦ç»†åé¦ˆ",type:"toggle",value:l.value.detailedFeedback,description:"æä¾›è¯¦ç»†çš„èƒ½åŠ›åˆ†æåé¦ˆ"}),l.value.hasOwnProperty("timeWarning")&&C.push({key:"timeWarning",label:"æ—¶é—´è­¦å‘Š",type:"toggle",value:l.value.timeWarning,description:"åœ¨æ—¶é—´ä¸è¶³æ—¶æ˜¾ç¤ºè­¦å‘Š"}),x.length>0&&D.push({title:"ä¸ªæ€§åŒ–è®¾ç½®",settings:x}),C.length>0&&D.push({title:"åŠŸèƒ½è®¾ç½®",settings:C}),D}),U=T(()=>!w[t]||!l.value.selectedModules?l.value.duration||30:w[t].filter(x=>l.value.selectedModules.includes(x.id||x.key)).reduce((x,C)=>x+(C.duration||C.estimatedTime||5),0));return{settings:l,isLoading:b,error:r,updateSettings:z,resetSettings:W,exportSettings:R,importSettings:j,settingsSections:X,estimatedDuration:U,difficultyLevels:d[t]||[],testModules:w[t]||[],assessmentModes:v[t]||[]}}const cs={class:"number-memory-test"},us={key:0,class:"instruction-phase"},ds={class:"instruction-content"},vs={class:"test-settings"},hs={class:"setting-group"},ms={class:"setting-group"},ps={key:1,class:"testing-phase"},gs={class:"test-header"},fs={class:"test-info"},ys={class:"test-stats"},_s={class:"current-question"},bs={class:"score"},ks={class:"accuracy"},ws={class:"progress-bar"},Ss={key:0,class:"display-phase"},$s={class:"display-container"},Ts={class:"number-display"},Ms={class:"countdown-timer"},qs={class:"timer-circle"},Cs={class:"timer-text"},Qs={key:1,class:"input-phase"},xs={class:"input-container"},Is={class:"input-display"},As=["maxlength"],Ds={key:0,class:"input-hints"},Ps={class:"hint-item"},Ls={class:"hint-item"},Os={class:"input-actions"},Es=["disabled"],Bs={key:2,class:"feedback-phase"},zs={class:"feedback-container"},Fs={class:"feedback-icon"},Rs={class:"feedback-text"},Ns={class:"feedback-title"},Us={class:"feedback-details"},js={class:"answer-comparison"},Ks={class:"correct-sequence"},Vs={class:"sequence-display"},Ws={key:0,class:"user-sequence"},Js={class:"sequence-display"},Hs={class:"feedback-stats"},Ys={class:"stat-item"},Gs={class:"stat-value"},Xs={class:"stat-item"},Zs={class:"stat-value"},et={key:2,class:"results-phase"},st={class:"overall-results"},tt={class:"result-card"},nt={class:"result-value"},it={class:"result-card"},lt={class:"result-value"},ot={class:"result-card"},at={class:"result-value"},rt={class:"result-card"},ct={class:"result-value"},ut={class:"detailed-analysis"},dt={class:"analysis-grid"},vt={class:"analysis-item"},ht={class:"difficulty-chart"},mt={class:"difficulty-label"},pt={class:"bar-container"},gt={class:"accuracy-value"},ft={class:"analysis-item"},yt={class:"length-chart"},_t={class:"length-label"},bt={class:"bar-container"},kt={class:"accuracy-value"},wt={class:"analysis-item"},St={class:"memory-stats"},$t={class:"stat-row"},Tt={class:"stat-value"},Mt={class:"stat-row"},qt={class:"stat-value"},Ct={class:"stat-row"},Qt={class:"stat-value"},xt={class:"stat-row"},It={class:"stat-value"},At={class:"performance-feedback"},Dt={class:"feedback-icon"},Pt={class:"feedback-text"},Lt={class:"feedback-title"},Ot={class:"feedback-description"},Et={class:"improvement-suggestions"},Bt={__name:"NumberMemoryTest",props:{difficulty:{type:String,default:"medium"},enableHints:{type:Boolean,default:!0},enableFeedback:{type:Boolean,default:!0},assessmentMode:{type:String,default:"comprehensive"}},emits:["test-complete","test-progress"],setup(t,{emit:s}){const d=t,w=s,v=y("instruction"),l=y(d.difficulty),b=y(2e3),r=y("display"),p=y(0),L=y(15),_=y([]),z=y(""),W=y([]),R=y(!1),j=y(0),X=y(0),U=y(0),D=y(null),x=y(2e3),C=y(2e3),Q=y([]),ee=y(null),ae=y(null),ne=y(!1),de=[{key:"easy",label:"ç®€å•",minLength:3,maxLength:5},{key:"medium",label:"ä¸­ç­‰",minLength:6,maxLength:8},{key:"hard",label:"å›°éš¾",minLength:9,maxLength:12}],ie=T(()=>{const g=[];for(let n=3;n<=12;n++)g.push(n);return g}),re=T(()=>p.value/L.value*100),E=T(()=>{if(Q.value.length===0)return 100;const g=Q.value.filter(n=>n.isCorrect).length;return Math.round(g/Q.value.length*100)}),Z=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.filter(n=>n.isCorrect).length;return Math.round(g/Q.value.length*100)}),se=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.reduce((n,u)=>n+u.timeSpent,0);return Math.round(g/Q.value.length*10)/10}),K=T(()=>Q.value.reduce((g,n)=>g+n.score,0)),J=T(()=>{const g=Z.value,n=Math.max(0,100-se.value*10),u=H.value*5;return Math.round(g*.6+n*.2+u*.2)}),H=T(()=>{const g=Q.value.filter(n=>n.isCorrect);return g.length===0?0:Math.max(...g.map(n=>n.sequenceLength))}),ve=T(()=>{let g=0,n=0;for(const u of Q.value)u.isCorrect?(n++,g=Math.max(g,n)):n=0;return g}),Y=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.filter(n=>n.isCorrect).length;return Math.round(g/Q.value.length*100)}),Me=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.filter(n=>n.partialScore>0&&!n.isCorrect).length;return Math.round(g/Q.value.length*100)}),we=T(()=>{const g=[],n=Z.value,u=se.value;return n>=90?g.push({type:"accuracy",level:"excellent",icon:"ğŸ¯",title:"è®°å¿†å‡†ç¡®ç‡ä¼˜ç§€",description:"æ‚¨çš„æ•°å­—è®°å¿†å‡†ç¡®ç‡éå¸¸é«˜ï¼Œè®°å¿†èƒ½åŠ›å‡ºè‰²ã€‚"}):n>=75?g.push({type:"accuracy",level:"good",icon:"ğŸ‘",title:"è®°å¿†å‡†ç¡®ç‡è‰¯å¥½",description:"æ‚¨çš„æ•°å­—è®°å¿†å‡†ç¡®ç‡è‰¯å¥½ï¼Œç»§ç»­ä¿æŒã€‚"}):n>=60?g.push({type:"accuracy",level:"average",icon:"ğŸ“ˆ",title:"è®°å¿†å‡†ç¡®ç‡ä¸€èˆ¬",description:"æ‚¨çš„æ•°å­—è®°å¿†å‡†ç¡®ç‡æœ‰æå‡ç©ºé—´ï¼Œå»ºè®®å¤šç»ƒä¹ ã€‚"}):g.push({type:"accuracy",level:"poor",icon:"ğŸ“š",title:"éœ€è¦åŠ å¼ºç»ƒä¹ ",description:"å»ºè®®ä»çŸ­åºåˆ—å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥æå‡è®°å¿†èƒ½åŠ›ã€‚"}),u<=3?g.push({type:"speed",level:"excellent",icon:"âš¡",title:"ååº”é€Ÿåº¦ä¼˜ç§€",description:"æ‚¨çš„è®°å¿†ååº”é€Ÿåº¦éå¸¸å¿«ã€‚"}):u<=5?g.push({type:"speed",level:"good",icon:"â±ï¸",title:"ååº”é€Ÿåº¦è‰¯å¥½",description:"æ‚¨çš„è®°å¿†ååº”é€Ÿåº¦è‰¯å¥½ã€‚"}):g.push({type:"speed",level:"average",icon:"ğŸŒ",title:"å¯ä»¥æå‡é€Ÿåº¦",description:"å»ºè®®å¤šç»ƒä¹ æå‡è®°å¿†ååº”é€Ÿåº¦ã€‚"}),g}),ce=T(()=>{const g=[],n=Z.value,u=se.value;return n<75&&(g.push("ä»è¾ƒçŸ­çš„æ•°å­—åºåˆ—å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥å¢åŠ é•¿åº¦"),g.push("ä½¿ç”¨åˆ†ç»„è®°å¿†æ³•ï¼Œå°†é•¿åºåˆ—åˆ†æˆå°æ®µè®°å¿†")),u>5&&(g.push("ç»ƒä¹ å¿«é€Ÿè®°å¿†æŠ€å·§ï¼Œæå‡ååº”é€Ÿåº¦"),g.push("å°è¯•ä½¿ç”¨æ•°å­—è”æƒ³æ³•å¢å¼ºè®°å¿†æ•ˆæœ")),H.value<8&&(g.push("é€æ­¥æŒ‘æˆ˜æ›´é•¿çš„æ•°å­—åºåˆ—"),g.push("ç»ƒä¹ æ•°å­—è®°å¿†å®«æ®¿æ³•")),g.push("å®šæœŸè¿›è¡Œæ•°å­—è®°å¿†ç»ƒä¹ ï¼Œä¿æŒè®°å¿†èƒ½åŠ›"),g.push("å°è¯•ä¸åŒçš„è®°å¿†ç­–ç•¥ï¼Œæ‰¾åˆ°æœ€é€‚åˆçš„æ–¹æ³•"),g}),te=g=>{const n=de.find(F=>F.key===g),u=Math.floor(Math.random()*(n.maxLength-n.minLength+1))+n.minLength,k=[];for(let F=0;F<u;F++)k.push(Math.floor(Math.random()*10));return k},qe=()=>{v.value="testing",p.value=0,j.value=0,Q.value=[],ne.value=!1,d.assessmentMode==="quick"?L.value=10:d.assessmentMode==="detailed"?L.value=20:L.value=15,he()},he=()=>{_.value=te(l.value),z.value="",W.value=[],r.value="display",x.value=parseInt(b.value),C.value=x.value,D.value=Date.now(),Se()},Se=()=>{ae.value=setInterval(()=>{C.value-=100,C.value<=0&&(clearInterval(ae.value),r.value="input",ts(()=>{ee.value&&ee.value.focus()}))},100)},me=()=>{z.value=z.value.replace(/[^0-9]/g,""),W.value=z.value.split("").map(g=>parseInt(g))},pe=()=>{if(z.value.length!==_.value.length)return;const g=(Date.now()-D.value)/1e3,n=z.value.split("").map(N=>parseInt(N));R.value=JSON.stringify(n)===JSON.stringify(_.value);let u=0;for(let N=0;N<_.value.length;N++)n[N]===_.value[N]&&u++;let k=0;if(R.value){const q=_.value.length,B=Math.max(0,10-Math.floor(g));k=10+q+B}else k=Math.floor(u/_.value.length*5);j.value+=k,X.value=k,U.value=Math.round(g*10)/10;const F={questionIndex:p.value,sequence:[..._.value],userInput:[...n],isCorrect:R.value,partialScore:u,timeSpent:U.value,score:k,sequenceLength:_.value.length,difficulty:l.value};Q.value.push(F),w("test-progress",{currentQuestion:p.value+1,totalQuestions:L.value,currentScore:j.value,accuracy:E.value}),d.enableFeedback?r.value="feedback":fe()},ge=()=>{const g=(Date.now()-D.value)/1e3,n={questionIndex:p.value,sequence:[..._.value],userInput:[],isCorrect:!1,partialScore:0,timeSpent:Math.round(g*10)/10,score:0,sequenceLength:_.value.length,difficulty:l.value,skipped:!0};Q.value.push(n),fe()},fe=()=>{p.value++,p.value>=L.value?Ce():he()},Ce=()=>{ne.value=!0,v.value="results",w("test-complete",{score:J.value,accuracy:Z.value,averageTime:se.value,completedQuestions:Q.value.length,questions:Q.value})},$e=g=>{const n=Q.value.filter(k=>k.difficulty===g);if(n.length===0)return 0;const u=n.filter(k=>k.isCorrect).length;return Math.round(u/n.length*100)},le=g=>{const n=Q.value.filter(k=>k.sequenceLength===g);if(n.length===0)return 0;const u=n.filter(k=>k.isCorrect).length;return Math.round(u/n.length*100)},Qe=(g,n)=>n>=_.value.length?"extra":g===_.value[n]?"correct":"incorrect",xe=()=>{console.log("å¯¼å‡ºæ•°å­—è®°å¿†æµ‹è¯•æŠ¥å‘Š")},Ie=()=>{v.value="instruction",p.value=0,j.value=0,Q.value=[],ne.value=!1},Ae=()=>{console.log("è·³è½¬åˆ°æ•°å­—è®°å¿†è®­ç»ƒ")};return Oe(()=>{d.difficulty!=="medium"&&(l.value=d.difficulty)}),Ee(()=>{ae.value&&clearInterval(ae.value)}),(g,n)=>(o(),a("div",cs,[v.value==="instruction"?(o(),a("div",us,[e("div",ds,[n[7]||(n[7]=Ue('<h3 data-v-85c53ce8>æ•°å­—è®°å¿†æµ‹è¯•</h3><p class="instruction-description" data-v-85c53ce8> è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ‚¨æ•°å­—è®°å¿†èƒ½åŠ›çš„æµ‹è¯•ã€‚æ‚¨éœ€è¦è®°ä½æ˜¾ç¤ºçš„æ•°å­—åºåˆ—ï¼Œç„¶åæŒ‰æ­£ç¡®é¡ºåºè¾“å…¥ã€‚ </p><div class="instruction-steps" data-v-85c53ce8><div class="step-item" data-v-85c53ce8><div class="step-icon" data-v-85c53ce8>ğŸ‘€</div><div class="step-content" data-v-85c53ce8><h4 data-v-85c53ce8>è§‚å¯Ÿè®°å¿†</h4><p data-v-85c53ce8>ä»”ç»†è§‚å¯Ÿå±å¹•ä¸Šæ˜¾ç¤ºçš„æ•°å­—åºåˆ—</p></div></div><div class="step-item" data-v-85c53ce8><div class="step-icon" data-v-85c53ce8>ğŸ§ </div><div class="step-content" data-v-85c53ce8><h4 data-v-85c53ce8>è®°å¿†ä¿æŒ</h4><p data-v-85c53ce8>åœ¨æ•°å­—æ¶ˆå¤±åï¼ŒåŠªåŠ›è®°ä½å®Œæ•´çš„åºåˆ—</p></div></div><div class="step-item" data-v-85c53ce8><div class="step-icon" data-v-85c53ce8>âœï¸</div><div class="step-content" data-v-85c53ce8><h4 data-v-85c53ce8>å‡†ç¡®è¾“å…¥</h4><p data-v-85c53ce8>æŒ‰ç…§è®°å¿†ä¸­çš„é¡ºåºå‡†ç¡®è¾“å…¥æ•°å­—</p></div></div></div>',3)),e("div",vs,[e("div",hs,[n[4]||(n[4]=e("label",null,"éš¾åº¦ç­‰çº§ï¼š",-1)),V(e("select",{"onUpdate:modelValue":n[0]||(n[0]=u=>l.value=u)},n[3]||(n[3]=[e("option",{value:"easy"},"ç®€å• (3-5ä½)",-1),e("option",{value:"medium"},"ä¸­ç­‰ (6-8ä½)",-1),e("option",{value:"hard"},"å›°éš¾ (9-12ä½)",-1)]),512),[[G,l.value]])]),e("div",ms,[n[6]||(n[6]=e("label",null,"æ˜¾ç¤ºæ—¶é—´ï¼š",-1)),V(e("select",{"onUpdate:modelValue":n[1]||(n[1]=u=>b.value=u)},n[5]||(n[5]=[e("option",{value:"1000"},"1ç§’",-1),e("option",{value:"2000"},"2ç§’",-1),e("option",{value:"3000"},"3ç§’",-1)]),512),[[G,b.value]])])]),e("button",{onClick:qe,class:"btn-start"},"å¼€å§‹æµ‹è¯•")])])):A("",!0),v.value==="testing"?(o(),a("div",ps,[e("div",gs,[e("div",fs,[n[8]||(n[8]=e("h3",null,"æ•°å­—è®°å¿†æµ‹è¯•",-1)),e("div",ys,[e("span",_s,"ç¬¬ "+i(p.value+1)+" / "+i(L.value)+" é¢˜",1),e("span",bs,"å¾—åˆ†: "+i(j.value),1),e("span",ks,"å‡†ç¡®ç‡: "+i(E.value)+"%",1)])]),e("div",ws,[e("div",{class:"progress-fill",style:I({width:re.value+"%"})},null,4)])]),r.value==="display"?(o(),a("div",Ss,[e("div",$s,[n[9]||(n[9]=e("div",{class:"phase-title"},"è¯·è®°ä½ä»¥ä¸‹æ•°å­—åºåˆ—",-1)),e("div",Ts,[(o(!0),a(S,null,$(_.value,(u,k)=>(o(),a("div",{key:k,class:"digit",style:I({animationDelay:k*.1+"s"})},i(u),5))),128))]),e("div",Ms,[e("div",qs,[e("div",{class:"timer-fill",style:I({transform:`rotate(${(x.value-C.value)/x.value*360}deg)`})},null,4),e("div",Cs,i(Math.ceil(C.value/1e3)),1)])])])])):A("",!0),r.value==="input"?(o(),a("div",Qs,[e("div",xs,[n[12]||(n[12]=e("div",{class:"phase-title"},"è¯·è¾“å…¥æ‚¨è®°ä½çš„æ•°å­—åºåˆ—",-1)),e("div",Is,[V(e("input",{ref_key:"numberInput",ref:ee,"onUpdate:modelValue":n[2]||(n[2]=u=>z.value=u),onInput:me,onKeyup:ss(pe,["enter"]),type:"text",placeholder:"è¾“å…¥æ•°å­—åºåˆ—",maxlength:_.value.length,autocomplete:"off"},null,40,As),[[es,z.value]])]),t.enableHints?(o(),a("div",Ds,[e("div",Ps,[n[10]||(n[10]=e("span",{class:"hint-icon"},"ğŸ’¡",-1)),e("span",null,"æ•°å­—é•¿åº¦: "+i(_.value.length)+"ä½",1)]),e("div",Ls,[n[11]||(n[11]=e("span",{class:"hint-icon"},"âŒ¨ï¸",-1)),e("span",null,"å·²è¾“å…¥: "+i(z.value.length)+" / "+i(_.value.length),1)])])):A("",!0),e("div",Os,[e("button",{onClick:pe,disabled:z.value.length!==_.value.length,class:"btn-submit"}," æäº¤ç­”æ¡ˆ ",8,Es),e("button",{onClick:ge,class:"btn-skip"},"è·³è¿‡")])])])):A("",!0),r.value==="feedback"?(o(),a("div",Bs,[e("div",zs,[e("div",{class:P(["feedback-result",R.value?"correct":"incorrect"])},[e("div",Fs,i(R.value?"âœ…":"âŒ"),1),e("div",Rs,[e("div",Ns,i(R.value?"å›ç­”æ­£ç¡®ï¼":"å›ç­”é”™è¯¯"),1),e("div",Us,[e("div",js,[e("div",Ks,[n[13]||(n[13]=e("span",{class:"label"},"æ­£ç¡®åºåˆ—:",-1)),e("div",Vs,[(o(!0),a(S,null,$(_.value,(u,k)=>(o(),a("span",{key:k,class:"digit correct"},i(u),1))),128))])]),R.value?A("",!0):(o(),a("div",Ws,[n[14]||(n[14]=e("span",{class:"label"},"æ‚¨çš„è¾“å…¥:",-1)),e("div",Js,[(o(!0),a(S,null,$(W.value,(u,k)=>(o(),a("span",{key:k,class:P(["digit",Qe(u,k)])},i(u||"?"),3))),128))])]))]),e("div",Hs,[e("div",Ys,[n[15]||(n[15]=e("span",{class:"stat-label"},"ç”¨æ—¶:",-1)),e("span",Gs,i(U.value)+"ç§’",1)]),e("div",Xs,[n[16]||(n[16]=e("span",{class:"stat-label"},"å¾—åˆ†:",-1)),e("span",Zs,"+"+i(X.value),1)])])])])],2),e("button",{onClick:fe,class:"btn-next"},"ç»§ç»­ä¸‹ä¸€é¢˜")])])):A("",!0)])):A("",!0),v.value==="results"?(o(),a("div",et,[n[35]||(n[35]=e("div",{class:"results-header"},[e("h3",null,"æµ‹è¯•å®Œæˆ"),e("p",null,"æ‚¨çš„æ•°å­—è®°å¿†èƒ½åŠ›æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š")],-1)),e("div",st,[e("div",tt,[n[17]||(n[17]=e("div",{class:"result-icon"},"ğŸ¯",-1)),e("div",nt,i(Z.value)+"%",1),n[18]||(n[18]=e("div",{class:"result-label"},"æ€»ä½“å‡†ç¡®ç‡",-1))]),e("div",it,[n[19]||(n[19]=e("div",{class:"result-icon"},"âš¡",-1)),e("div",lt,i(se.value)+"s",1),n[20]||(n[20]=e("div",{class:"result-label"},"å¹³å‡ç”¨æ—¶",-1))]),e("div",ot,[n[21]||(n[21]=e("div",{class:"result-icon"},"ğŸ“Š",-1)),e("div",at,i(K.value),1),n[22]||(n[22]=e("div",{class:"result-label"},"æ€»å¾—åˆ†",-1))]),e("div",rt,[n[23]||(n[23]=e("div",{class:"result-icon"},"ğŸ§ ",-1)),e("div",ct,i(J.value),1),n[24]||(n[24]=e("div",{class:"result-label"},"è®°å¿†èƒ½åŠ›å¾—åˆ†",-1))])]),e("div",ut,[n[32]||(n[32]=e("h4",null,"è¯¦ç»†åˆ†æ",-1)),e("div",dt,[e("div",vt,[n[25]||(n[25]=e("h5",null,"éš¾åº¦è¡¨ç°",-1)),e("div",ht,[(o(),a(S,null,$(de,u=>e("div",{key:u.key,class:"difficulty-bar"},[e("span",mt,i(u.label),1),e("div",pt,[e("div",{class:"bar-fill",style:I({width:$e(u.key)+"%"})},null,4)]),e("span",gt,i($e(u.key))+"%",1)])),64))])]),e("div",ft,[n[26]||(n[26]=e("h5",null,"åºåˆ—é•¿åº¦è¡¨ç°",-1)),e("div",yt,[(o(!0),a(S,null,$(ie.value,u=>(o(),a("div",{key:u,class:"length-bar"},[e("span",_t,i(u)+"ä½",1),e("div",bt,[e("div",{class:"bar-fill",style:I({width:le(u)+"%"})},null,4)]),e("span",kt,i(le(u))+"%",1)]))),128))])]),e("div",wt,[n[31]||(n[31]=e("h5",null,"è®°å¿†ç»Ÿè®¡",-1)),e("div",St,[e("div",$t,[n[27]||(n[27]=e("span",{class:"stat-label"},"æœ€é•¿è®°å¿†åºåˆ—",-1)),e("span",Tt,i(H.value)+"ä½",1)]),e("div",Mt,[n[28]||(n[28]=e("span",{class:"stat-label"},"è¿ç»­æ­£ç¡®æ•°",-1)),e("span",qt,i(ve.value),1)]),e("div",Ct,[n[29]||(n[29]=e("span",{class:"stat-label"},"å®Œå…¨åŒ¹é…ç‡",-1)),e("span",Qt,i(Y.value)+"%",1)]),e("div",xt,[n[30]||(n[30]=e("span",{class:"stat-label"},"éƒ¨åˆ†åŒ¹é…ç‡",-1)),e("span",It,i(Me.value)+"%",1)])])])])]),e("div",At,[n[34]||(n[34]=e("h4",null,"è¡¨ç°è¯„ä»·ä¸æ”¹è¿›å»ºè®®",-1)),(o(!0),a(S,null,$(we.value,u=>(o(),a("div",{key:u.type,class:P(["feedback-item",u.level])},[e("div",Dt,i(u.icon),1),e("div",Pt,[e("div",Lt,i(u.title),1),e("div",Ot,i(u.description),1)])],2))),128)),e("div",Et,[n[33]||(n[33]=e("h5",null,"æ”¹è¿›å»ºè®®",-1)),e("ul",null,[(o(!0),a(S,null,$(ce.value,u=>(o(),a("li",{key:u},i(u),1))),128))])])]),e("div",{class:"results-actions"},[e("button",{onClick:xe,class:"btn-export"},"å¯¼å‡ºæŠ¥å‘Š"),e("button",{onClick:Ie,class:"btn-retake"},"é‡æ–°æµ‹è¯•"),e("button",{onClick:Ae,class:"btn-training"},"å‰å¾€è®­ç»ƒ")])])):A("",!0)]))}},zt=Le(Bt,[["__scopeId","data-v-85c53ce8"]]);const Ft={class:"image-memory-test"},Rt={key:0,class:"instruction-phase"},Nt={class:"instruction-content"},Ut={class:"test-settings"},jt={class:"setting-group"},Kt={class:"setting-group"},Vt={class:"setting-group"},Wt={key:1,class:"testing-phase"},Jt={class:"test-header"},Ht={class:"test-info"},Yt={class:"test-stats"},Gt={class:"current-question"},Xt={class:"test-type"},Zt={class:"score"},en={class:"accuracy"},sn={class:"progress-bar"},tn={key:0,class:"display-phase"},nn={class:"display-container"},ln={class:"phase-title"},on={key:0,class:"sequence-display"},an={class:"image-container"},rn={class:"image-number"},cn={key:1,class:"position-display"},un={class:"grid-container"},dn={key:2,class:"detail-display"},vn={class:"detail-image"},hn={key:3,class:"change-display"},mn={class:"change-image"},pn={class:"image-grid"},gn={class:"countdown-timer"},fn={class:"timer-circle"},yn={class:"timer-text"},_n={key:1,class:"selection-phase"},bn={class:"selection-container"},kn={class:"phase-title"},wn={key:0,class:"sequence-selection"},Sn={class:"selection-grid"},$n=["onClick"],Tn={class:"option-sequence"},Mn={class:"option-label"},qn={key:1,class:"position-selection"},Cn={class:"interactive-grid"},Qn=["onClick"],xn={class:"cell-number"},In={key:2,class:"detail-selection"},An={class:"detail-options"},Dn=["onClick"],Pn={class:"option-label"},Ln={key:3,class:"change-selection"},On={class:"change-options"},En=["onClick"],Bn={class:"option-grid"},zn={class:"option-label"},Fn={class:"selection-actions"},Rn=["disabled"],Nn={key:2,class:"feedback-phase"},Un={class:"feedback-container"},jn={class:"feedback-icon"},Kn={class:"feedback-text"},Vn={class:"feedback-title"},Wn={class:"feedback-details"},Jn={class:"answer-explanation"},Hn={class:"correct-answer"},Yn={class:"answer-display"},Gn={key:0,class:"user-answer"},Xn={class:"answer-display"},Zn={class:"feedback-stats"},ei={class:"stat-item"},si={class:"stat-value"},ti={class:"stat-item"},ni={class:"stat-value"},ii={key:2,class:"results-phase"},li={class:"overall-results"},oi={class:"result-card"},ai={class:"result-value"},ri={class:"result-card"},ci={class:"result-value"},ui={class:"result-card"},di={class:"result-value"},vi={class:"result-card"},hi={class:"result-value"},mi={class:"detailed-analysis"},pi={class:"analysis-grid"},gi={class:"analysis-item"},fi={class:"type-chart"},yi={class:"type-label"},_i={class:"bar-container"},bi={class:"accuracy-value"},ki={class:"analysis-item"},wi={class:"difficulty-chart"},Si={class:"difficulty-label"},$i={class:"bar-container"},Ti={class:"accuracy-value"},Mi={class:"analysis-item"},qi={class:"memory-stats"},Ci={class:"stat-row"},Qi={class:"stat-value"},xi={class:"stat-row"},Ii={class:"stat-value"},Ai={class:"stat-row"},Di={class:"stat-value"},Pi={class:"stat-row"},Li={class:"stat-value"},Oi={class:"performance-feedback"},Ei={class:"feedback-icon"},Bi={class:"feedback-text"},zi={class:"feedback-title"},Fi={class:"feedback-description"},Ri={class:"improvement-suggestions"},Ni={__name:"ImageMemoryTest",props:{difficulty:{type:String,default:"medium"},testType:{type:String,default:"sequence"},enableFeedback:{type:Boolean,default:!0},assessmentMode:{type:String,default:"comprehensive"}},emits:["test-complete","test-progress"],setup(t,{emit:s}){const d=t,w=s,v=y("instruction"),l=y(d.difficulty),b=y(d.testType),r=y(3e3),p=y("display"),L=y(0),_=y(12),z=y([]),W=y([]),R=y({}),j=y([]),X=y([]),U=y([]),D=y([]),x=y([]),C=y(-1),Q=y(!1),ee=y(0),ae=y(0),ne=y(0),de=y(null),ie=y(3e3),re=y(3e3),E=y([]),Z=y(null),se=y(!1),K=y(null),J=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F"],H=["circle","square","triangle","diamond","star","hexagon"],ve=[{key:"easy",label:"ç®€å•",imageCount:3,gridSize:9},{key:"medium",label:"ä¸­ç­‰",imageCount:5,gridSize:16},{key:"hard",label:"å›°éš¾",imageCount:7,gridSize:25}],Y=[{key:"sequence",label:"åºåˆ—è®°å¿†"},{key:"position",label:"ä½ç½®è®°å¿†"},{key:"detail",label:"ç»†èŠ‚è®°å¿†"},{key:"change",label:"å˜åŒ–æ£€æµ‹"}],Me=T(()=>L.value/_.value*100),we=T(()=>{if(E.value.length===0)return 100;const m=E.value.filter(c=>c.isCorrect).length;return Math.round(m/E.value.length*100)}),ce=T(()=>{if(E.value.length===0)return 0;const m=E.value.filter(c=>c.isCorrect).length;return Math.round(m/E.value.length*100)}),te=T(()=>{if(E.value.length===0)return 0;const m=E.value.reduce((c,h)=>c+h.timeSpent,0);return Math.round(m/E.value.length*10)/10}),qe=T(()=>E.value.reduce((m,c)=>m+c.score,0)),he=T(()=>{const m=ce.value,c=Math.max(0,100-te.value*5),h=Je();return Math.round(m*.6+c*.2+h*.2)}),Se=T(()=>b.value==="position"?x.value.some(m=>m.selected):C.value!==-1),me=T(()=>{let m=0,c=0;for(const h of E.value)h.isCorrect?(c++,m=Math.max(m,c)):c=0;return m}),pe=T(()=>Y.map(h=>({type:h.label,accuracy:Pe(h.key)})).reduce((h,f)=>f.accuracy>h.accuracy?f:h).type),ge=T(()=>{const m=E.value.filter(h=>h.testType==="detail");if(m.length===0)return"æœªæµ‹è¯•";const c=m.filter(h=>h.isCorrect).length/m.length*100;return c>=80?"ä¼˜ç§€":c>=60?"è‰¯å¥½":c>=40?"ä¸€èˆ¬":"éœ€æå‡"}),fe=T(()=>{const m=E.value.filter(h=>h.testType==="position");if(m.length===0)return"æœªæµ‹è¯•";const c=m.filter(h=>h.isCorrect).length/m.length*100;return c>=80?"ä¼˜ç§€":c>=60?"è‰¯å¥½":c>=40?"ä¸€èˆ¬":"éœ€æå‡"}),Ce=T(()=>{const m=[],c=ce.value,h=te.value;return c>=85?m.push({type:"accuracy",level:"excellent",icon:"ğŸ¯",title:"å›¾åƒè®°å¿†èƒ½åŠ›ä¼˜ç§€",description:"æ‚¨çš„å›¾åƒè®°å¿†å‡†ç¡®ç‡éå¸¸é«˜ï¼Œè§†è§‰è®°å¿†èƒ½åŠ›å‡ºè‰²ã€‚"}):c>=70?m.push({type:"accuracy",level:"good",icon:"ğŸ‘",title:"å›¾åƒè®°å¿†èƒ½åŠ›è‰¯å¥½",description:"æ‚¨çš„å›¾åƒè®°å¿†å‡†ç¡®ç‡è‰¯å¥½ï¼Œç»§ç»­ä¿æŒã€‚"}):c>=55?m.push({type:"accuracy",level:"average",icon:"ğŸ“ˆ",title:"å›¾åƒè®°å¿†èƒ½åŠ›ä¸€èˆ¬",description:"æ‚¨çš„å›¾åƒè®°å¿†èƒ½åŠ›æœ‰æå‡ç©ºé—´ï¼Œå»ºè®®å¤šç»ƒä¹ ã€‚"}):m.push({type:"accuracy",level:"poor",icon:"ğŸ“š",title:"éœ€è¦åŠ å¼ºç»ƒä¹ ",description:"å»ºè®®ä»ç®€å•çš„å›¾åƒè®°å¿†å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥æå‡èƒ½åŠ›ã€‚"}),h<=4?m.push({type:"speed",level:"excellent",icon:"âš¡",title:"ååº”é€Ÿåº¦ä¼˜ç§€",description:"æ‚¨çš„å›¾åƒè¯†åˆ«å’Œè®°å¿†ååº”é€Ÿåº¦éå¸¸å¿«ã€‚"}):h<=6?m.push({type:"speed",level:"good",icon:"â±ï¸",title:"ååº”é€Ÿåº¦è‰¯å¥½",description:"æ‚¨çš„å›¾åƒè®°å¿†ååº”é€Ÿåº¦è‰¯å¥½ã€‚"}):m.push({type:"speed",level:"average",icon:"ğŸŒ",title:"å¯ä»¥æå‡é€Ÿåº¦",description:"å»ºè®®å¤šç»ƒä¹ æå‡å›¾åƒè®°å¿†ååº”é€Ÿåº¦ã€‚"}),m}),$e=T(()=>{const m=[],c=ce.value,h=te.value;return c<70&&(m.push("ä»ç®€å•çš„å›¾åƒåºåˆ—å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥å¢åŠ å¤æ‚åº¦"),m.push("ä½¿ç”¨è”æƒ³è®°å¿†æ³•ï¼Œå°†å›¾åƒä¸ç†Ÿæ‚‰çš„äº‹ç‰©å…³è”")),h>6&&(m.push("ç»ƒä¹ å¿«é€Ÿå›¾åƒè¯†åˆ«ï¼Œæå‡è§†è§‰å¤„ç†é€Ÿåº¦"),m.push("å°è¯•æ•´ä½“è®°å¿†æ³•ï¼Œä¸è¦è¿‡åˆ†å…³æ³¨ç»†èŠ‚")),Pe("position")<60&&(m.push("åŠ å¼ºç©ºé—´ä½ç½®è®°å¿†è®­ç»ƒ"),m.push("ç»ƒä¹ ä½¿ç”¨ç©ºé—´è®°å¿†å®«æ®¿æ³•")),Pe("detail")<60&&(m.push("æå‡è§†è§‰ç»†èŠ‚è§‚å¯Ÿèƒ½åŠ›"),m.push("ç»ƒä¹ å›¾åƒç»†èŠ‚åˆ†æå’Œè®°å¿†")),m.push("å®šæœŸè¿›è¡Œå›¾åƒè®°å¿†ç»ƒä¹ ï¼Œä¿æŒè§†è§‰è®°å¿†èƒ½åŠ›"),m.push("å°è¯•ä¸åŒç±»å‹çš„å›¾åƒè®°å¿†è®­ç»ƒï¼Œå…¨é¢æå‡èƒ½åŠ›"),m}),le=()=>({color:J[Math.floor(Math.random()*J.length)],shape:H[Math.floor(Math.random()*H.length)]}),Qe=()=>{const m=ve.find(M=>M.key===l.value),c=Math.floor(Math.random()*2)+m.imageCount-1,h=[];for(let M=0;M<c;M++)h.push(le());z.value=h;const f=[h];for(let M=0;M<3;M++){const O=[...h],oe=Math.floor(Math.random()*2)+1;for(let ye=0;ye<oe;ye++){const _e=Math.floor(Math.random()*O.length);O[_e]=le()}f.push(O)}X.value=g(f),K.value=X.value.findIndex(M=>JSON.stringify(M)===JSON.stringify(h))},xe=()=>{const m=ve.find(O=>O.key===l.value),c=m.gridSize,h=Math.floor(Math.random()*2)+Math.floor(m.imageCount/2),f=Array(c).fill().map(()=>({hasImage:!1})),M=[];for(let O=0;O<h;O++){let oe;do oe=Math.floor(Math.random()*c);while(f[oe].hasImage);const ye=le();f[oe]={hasImage:!0,...ye},M.push(oe)}W.value=f,K.value=M,x.value=Array(c).fill().map(()=>({selected:!1}))},Ie=()=>{const m=Math.floor(Math.random()*3)+4,c=J[Math.floor(Math.random()*J.length)],h=[];for(let M=0;M<m;M++)h.push({color:J[Math.floor(Math.random()*J.length)],shape:H[Math.floor(Math.random()*H.length)],x:Math.floor(Math.random()*70)+10,y:Math.floor(Math.random()*70)+10,size:Math.floor(Math.random()*20)+20});R.value={backgroundColor:c,elements:h};const f=[{backgroundColor:c,elements:[...h]}];for(let M=0;M<3;M++){const O=[...h],oe=Math.floor(Math.random()*2)+1;for(let ye=0;ye<oe;ye++){const _e=Math.floor(Math.random()*O.length);switch(Math.floor(Math.random()*4)){case 0:O[_e].color=J[Math.floor(Math.random()*J.length)];break;case 1:O[_e].shape=H[Math.floor(Math.random()*H.length)];break;case 2:O[_e].x=Math.floor(Math.random()*70)+10,O[_e].y=Math.floor(Math.random()*70)+10;break;case 3:O[_e].size=Math.floor(Math.random()*20)+20;break}}f.push({backgroundColor:c,elements:O})}U.value=g(f),K.value=U.value.findIndex(M=>JSON.stringify(M)===JSON.stringify({backgroundColor:c,elements:h}))},Ae=()=>{const c=[];for(let f=0;f<6;f++)c.push(le());j.value=c;const h=[c];for(let f=0;f<3;f++){const M=[...c],O=Math.floor(Math.random()*6);M[O]=le(),h.push(M)}D.value=g(h),K.value=D.value.findIndex(f=>JSON.stringify(f)===JSON.stringify(c))},g=m=>{const c=[...m];for(let h=c.length-1;h>0;h--){const f=Math.floor(Math.random()*(h+1));[c[h],c[f]]=[c[f],c[h]]}return c},n=m=>{const c=Y.find(h=>h.key===m);return c?c.label:m},u=()=>{switch(b.value){case"sequence":return"è¯·é€‰æ‹©æ­£ç¡®çš„å›¾åƒåºåˆ—";case"position":return"è¯·ç‚¹å‡»æ‚¨è®°ä½çš„å›¾åƒä½ç½®";case"detail":return"è¯·é€‰æ‹©ä¸åŸå›¾ç›¸åŒçš„é€‰é¡¹";case"change":return"è¯·é€‰æ‹©ä¸åŸå›¾ç›¸åŒçš„é€‰é¡¹ï¼ˆæ²¡æœ‰å˜åŒ–ï¼‰";default:return"è¯·é€‰æ‹©æ­£ç¡®ç­”æ¡ˆ"}},k=()=>{v.value="testing",L.value=0,ee.value=0,E.value=[],se.value=!1,d.assessmentMode==="quick"?_.value=8:d.assessmentMode==="detailed"?_.value=16:_.value=12,F()},F=()=>{switch(C.value=-1,p.value="display",ie.value=parseInt(r.value),re.value=ie.value,de.value=Date.now(),b.value){case"sequence":Qe();break;case"position":xe();break;case"detail":Ie();break;case"change":Ae();break}N()},N=()=>{Z.value=setInterval(()=>{re.value-=100,re.value<=0&&(clearInterval(Z.value),p.value="selection")},100)},q=m=>{C.value=m},B=m=>{x.value[m].selected=!x.value[m].selected},De=()=>{if(!Se.value)return;const m=(Date.now()-de.value)/1e3;let c;b.value==="position"?(c=x.value.map((M,O)=>M.selected?O:-1).filter(M=>M!==-1),Q.value=JSON.stringify(c.sort())===JSON.stringify(K.value.sort())):(c=C.value,Q.value=c===K.value);let h=0;if(Q.value){const O=l.value==="hard"?5:l.value==="medium"?3:1,oe=Math.max(0,10-Math.floor(m));h=10+O+oe}ee.value+=h,ae.value=h,ne.value=Math.round(m*10)/10;const f={questionIndex:L.value,testType:b.value,difficulty:l.value,userAnswer:c,correctAnswer:K.value,isCorrect:Q.value,timeSpent:ne.value,score:h};E.value.push(f),w("test-progress",{currentQuestion:L.value+1,totalQuestions:_.value,currentScore:ee.value,accuracy:we.value}),d.enableFeedback?p.value="feedback":Be()},Ve=()=>{const m=(Date.now()-de.value)/1e3,c={questionIndex:L.value,testType:b.value,difficulty:l.value,userAnswer:null,correctAnswer:K.value,isCorrect:!1,timeSpent:Math.round(m*10)/10,score:0,skipped:!0};E.value.push(c),Be()},Be=()=>{L.value++,L.value>=_.value?We():F()},We=()=>{se.value=!0,v.value="results",w("test-complete",{score:he.value,accuracy:ce.value,averageTime:te.value,completedQuestions:E.value.length,questions:E.value})},Pe=m=>{const c=E.value.filter(f=>f.testType===m);if(c.length===0)return 0;const h=c.filter(f=>f.isCorrect).length;return Math.round(h/c.length*100)},Fe=m=>{const c=E.value.filter(f=>f.difficulty===m);if(c.length===0)return 0;const h=c.filter(f=>f.isCorrect).length;return Math.round(h/c.length*100)},Je=()=>[...new Set(E.value.map(c=>c.testType))].length*5,He=()=>{switch(b.value){case"sequence":return`é€‰é¡¹ ${String.fromCharCode(65+K.value)}`;case"position":return`ä½ç½®: ${K.value.map(m=>m+1).join(", ")}`;case"detail":case"change":return`é€‰é¡¹ ${String.fromCharCode(65+K.value)}`;default:return"æœªçŸ¥"}},Ye=()=>b.value==="position"?`ä½ç½®: ${x.value.map((c,h)=>c.selected?h+1:-1).filter(c=>c!==-1).join(", ")}`:`é€‰é¡¹ ${String.fromCharCode(65+C.value)}`,Ge=()=>{console.log("å¯¼å‡ºå›¾åƒè®°å¿†æµ‹è¯•æŠ¥å‘Š")},Xe=()=>{v.value="instruction",L.value=0,ee.value=0,E.value=[],se.value=!1},Ze=()=>{console.log("è·³è½¬åˆ°å›¾åƒè®°å¿†è®­ç»ƒ")};return Oe(()=>{d.difficulty!=="medium"&&(l.value=d.difficulty),d.testType!=="sequence"&&(b.value=d.testType)}),Ee(()=>{Z.value&&clearInterval(Z.value)}),(m,c)=>(o(),a("div",Ft,[v.value==="instruction"?(o(),a("div",Rt,[e("div",Nt,[c[9]||(c[9]=Ue('<h3 data-v-371f04cf>å›¾åƒè®°å¿†æµ‹è¯•</h3><p class="instruction-description" data-v-371f04cf> è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ‚¨å›¾åƒè®°å¿†èƒ½åŠ›çš„æµ‹è¯•ã€‚æ‚¨éœ€è¦è®°ä½æ˜¾ç¤ºçš„å›¾åƒåºåˆ—ï¼Œç„¶åä»é€‰é¡¹ä¸­é€‰æ‹©æ­£ç¡®çš„å›¾åƒã€‚ </p><div class="instruction-steps" data-v-371f04cf><div class="step-item" data-v-371f04cf><div class="step-icon" data-v-371f04cf>ğŸ‘ï¸</div><div class="step-content" data-v-371f04cf><h4 data-v-371f04cf>è§‚å¯Ÿè®°å¿†</h4><p data-v-371f04cf>ä»”ç»†è§‚å¯Ÿå±å¹•ä¸Šæ˜¾ç¤ºçš„å›¾åƒåºåˆ—</p></div></div><div class="step-item" data-v-371f04cf><div class="step-icon" data-v-371f04cf>ğŸ§ </div><div class="step-content" data-v-371f04cf><h4 data-v-371f04cf>è®°å¿†ä¿æŒ</h4><p data-v-371f04cf>åœ¨å›¾åƒæ¶ˆå¤±åï¼ŒåŠªåŠ›è®°ä½å›¾åƒçš„ç»†èŠ‚å’Œé¡ºåº</p></div></div><div class="step-item" data-v-371f04cf><div class="step-icon" data-v-371f04cf>ğŸ¯</div><div class="step-content" data-v-371f04cf><h4 data-v-371f04cf>å‡†ç¡®é€‰æ‹©</h4><p data-v-371f04cf>ä»é€‰é¡¹ä¸­é€‰æ‹©æ­£ç¡®çš„å›¾åƒæˆ–é¡ºåº</p></div></div></div>',3)),e("div",Ut,[e("div",jt,[c[4]||(c[4]=e("label",null,"éš¾åº¦ç­‰çº§ï¼š",-1)),V(e("select",{"onUpdate:modelValue":c[0]||(c[0]=h=>l.value=h)},c[3]||(c[3]=[e("option",{value:"easy"},"ç®€å• (2-3å¼ å›¾)",-1),e("option",{value:"medium"},"ä¸­ç­‰ (4-5å¼ å›¾)",-1),e("option",{value:"hard"},"å›°éš¾ (6-8å¼ å›¾)",-1)]),512),[[G,l.value]])]),e("div",Kt,[c[6]||(c[6]=e("label",null,"æµ‹è¯•ç±»å‹ï¼š",-1)),V(e("select",{"onUpdate:modelValue":c[1]||(c[1]=h=>b.value=h)},c[5]||(c[5]=[e("option",{value:"sequence"},"åºåˆ—è®°å¿†",-1),e("option",{value:"position"},"ä½ç½®è®°å¿†",-1),e("option",{value:"detail"},"ç»†èŠ‚è®°å¿†",-1),e("option",{value:"change"},"å˜åŒ–æ£€æµ‹",-1)]),512),[[G,b.value]])]),e("div",Vt,[c[8]||(c[8]=e("label",null,"æ˜¾ç¤ºæ—¶é—´ï¼š",-1)),V(e("select",{"onUpdate:modelValue":c[2]||(c[2]=h=>r.value=h)},c[7]||(c[7]=[e("option",{value:"2000"},"2ç§’",-1),e("option",{value:"3000"},"3ç§’",-1),e("option",{value:"5000"},"5ç§’",-1)]),512),[[G,r.value]])])]),e("button",{onClick:k,class:"btn-start"},"å¼€å§‹æµ‹è¯•")])])):A("",!0),v.value==="testing"?(o(),a("div",Wt,[e("div",Jt,[e("div",Ht,[c[10]||(c[10]=e("h3",null,"å›¾åƒè®°å¿†æµ‹è¯•",-1)),e("div",Yt,[e("span",Gt,"ç¬¬ "+i(L.value+1)+" / "+i(_.value)+" é¢˜",1),e("span",Xt,i(n(b.value)),1),e("span",Zt,"å¾—åˆ†: "+i(ee.value),1),e("span",en,"å‡†ç¡®ç‡: "+i(we.value)+"%",1)])]),e("div",sn,[e("div",{class:"progress-fill",style:I({width:Me.value+"%"})},null,4)])]),p.value==="display"?(o(),a("div",tn,[e("div",nn,[e("div",ln,"è¯·è®°ä½ä»¥ä¸‹å›¾åƒ"+i(b.value==="sequence"?"åºåˆ—":""),1),b.value==="sequence"?(o(),a("div",on,[(o(!0),a(S,null,$(z.value,(h,f)=>(o(),a("div",{key:f,class:"image-item",style:I({animationDelay:f*.3+"s"})},[e("div",an,[e("div",{class:"image-placeholder",style:I({backgroundColor:h.color})},[e("div",{class:P(["image-shape",h.shape])},null,2),e("div",rn,i(f+1),1)],4)])],4))),128))])):A("",!0),b.value==="position"?(o(),a("div",cn,[e("div",un,[(o(!0),a(S,null,$(W.value,(h,f)=>(o(),a("div",{key:f,class:P(["grid-cell",{active:h.hasImage}])},[h.hasImage?(o(),a("div",{key:0,class:"cell-image",style:I({backgroundColor:h.color})},[e("div",{class:P(["image-shape",h.shape])},null,2)],4)):A("",!0)],2))),128))])])):A("",!0),b.value==="detail"?(o(),a("div",dn,[e("div",vn,[e("div",{class:"complex-image",style:I({backgroundColor:R.value.backgroundColor})},[(o(!0),a(S,null,$(R.value.elements,(h,f)=>(o(),a("div",{key:f,class:P(["image-element",h.shape]),style:I({backgroundColor:h.color,left:h.x+"%",top:h.y+"%",width:h.size+"px",height:h.size+"px"})},null,6))),128))],4)])])):A("",!0),b.value==="change"?(o(),a("div",hn,[e("div",mn,[e("div",pn,[(o(!0),a(S,null,$(j.value,(h,f)=>(o(),a("div",{key:f,class:"change-item",style:I({backgroundColor:h.color})},[e("div",{class:P(["image-shape",h.shape])},null,2)],4))),128))])])])):A("",!0),e("div",gn,[e("div",fn,[e("div",{class:"timer-fill",style:I({transform:`rotate(${(ie.value-re.value)/ie.value*360}deg)`})},null,4),e("div",yn,i(Math.ceil(re.value/1e3)),1)])])])])):A("",!0),p.value==="selection"?(o(),a("div",_n,[e("div",bn,[e("div",kn,i(u()),1),b.value==="sequence"?(o(),a("div",wn,[e("div",Sn,[(o(!0),a(S,null,$(X.value,(h,f)=>(o(),a("div",{key:f,class:P(["option-item",{selected:C.value===f}]),onClick:M=>q(f)},[e("div",Tn,[(o(!0),a(S,null,$(h,(M,O)=>(o(),a("div",{key:O,class:"mini-image",style:I({backgroundColor:M.color})},[e("div",{class:P(["image-shape",M.shape])},null,2)],4))),128))]),e("div",Mn,"é€‰é¡¹ "+i(String.fromCharCode(65+f)),1)],10,$n))),128))])])):A("",!0),b.value==="position"?(o(),a("div",qn,[c[11]||(c[11]=e("div",{class:"selection-instruction"},"ç‚¹å‡»æ‚¨è®°ä½çš„å›¾åƒä½ç½®",-1)),e("div",Cn,[(o(!0),a(S,null,$(x.value,(h,f)=>(o(),a("div",{key:f,class:P(["interactive-cell",{selected:h.selected}]),onClick:M=>B(f)},[e("div",xn,i(f+1),1)],10,Qn))),128))])])):A("",!0),b.value==="detail"?(o(),a("div",In,[e("div",An,[(o(!0),a(S,null,$(U.value,(h,f)=>(o(),a("div",{key:f,class:P(["detail-option",{selected:C.value===f}]),onClick:M=>q(f)},[e("div",{class:"option-image",style:I({backgroundColor:h.backgroundColor})},[(o(!0),a(S,null,$(h.elements,(M,O)=>(o(),a("div",{key:O,class:P(["image-element",M.shape]),style:I({backgroundColor:M.color,left:M.x+"%",top:M.y+"%",width:M.size+"px",height:M.size+"px"})},null,6))),128))],4),e("div",Pn,"é€‰é¡¹ "+i(String.fromCharCode(65+f)),1)],10,Dn))),128))])])):A("",!0),b.value==="change"?(o(),a("div",Ln,[e("div",On,[(o(!0),a(S,null,$(D.value,(h,f)=>(o(),a("div",{key:f,class:P(["change-option",{selected:C.value===f}]),onClick:M=>q(f)},[e("div",Bn,[(o(!0),a(S,null,$(h,(M,O)=>(o(),a("div",{key:O,class:"change-item",style:I({backgroundColor:M.color})},[e("div",{class:P(["image-shape",M.shape])},null,2)],4))),128))]),e("div",zn,"é€‰é¡¹ "+i(String.fromCharCode(65+f)),1)],10,En))),128))])])):A("",!0),e("div",Fn,[e("button",{onClick:De,disabled:!Se.value,class:"btn-submit"}," æäº¤ç­”æ¡ˆ ",8,Rn),e("button",{onClick:Ve,class:"btn-skip"},"è·³è¿‡")])])])):A("",!0),p.value==="feedback"?(o(),a("div",Nn,[e("div",Un,[e("div",{class:P(["feedback-result",Q.value?"correct":"incorrect"])},[e("div",jn,i(Q.value?"âœ…":"âŒ"),1),e("div",Kn,[e("div",Vn,i(Q.value?"å›ç­”æ­£ç¡®ï¼":"å›ç­”é”™è¯¯"),1),e("div",Wn,[e("div",Jn,[e("div",Hn,[c[12]||(c[12]=e("span",{class:"label"},"æ­£ç¡®ç­”æ¡ˆ:",-1)),e("div",Yn,i(He()),1)]),Q.value?A("",!0):(o(),a("div",Gn,[c[13]||(c[13]=e("span",{class:"label"},"æ‚¨çš„é€‰æ‹©:",-1)),e("div",Xn,i(Ye()),1)]))]),e("div",Zn,[e("div",ei,[c[14]||(c[14]=e("span",{class:"stat-label"},"ç”¨æ—¶:",-1)),e("span",si,i(ne.value)+"ç§’",1)]),e("div",ti,[c[15]||(c[15]=e("span",{class:"stat-label"},"å¾—åˆ†:",-1)),e("span",ni,"+"+i(ae.value),1)])])])])],2),e("button",{onClick:Be,class:"btn-next"},"ç»§ç»­ä¸‹ä¸€é¢˜")])])):A("",!0)])):A("",!0),v.value==="results"?(o(),a("div",ii,[c[34]||(c[34]=e("div",{class:"results-header"},[e("h3",null,"æµ‹è¯•å®Œæˆ"),e("p",null,"æ‚¨çš„å›¾åƒè®°å¿†èƒ½åŠ›æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š")],-1)),e("div",li,[e("div",oi,[c[16]||(c[16]=e("div",{class:"result-icon"},"ğŸ¯",-1)),e("div",ai,i(ce.value)+"%",1),c[17]||(c[17]=e("div",{class:"result-label"},"æ€»ä½“å‡†ç¡®ç‡",-1))]),e("div",ri,[c[18]||(c[18]=e("div",{class:"result-icon"},"âš¡",-1)),e("div",ci,i(te.value)+"s",1),c[19]||(c[19]=e("div",{class:"result-label"},"å¹³å‡ç”¨æ—¶",-1))]),e("div",ui,[c[20]||(c[20]=e("div",{class:"result-icon"},"ğŸ“Š",-1)),e("div",di,i(qe.value),1),c[21]||(c[21]=e("div",{class:"result-label"},"æ€»å¾—åˆ†",-1))]),e("div",vi,[c[22]||(c[22]=e("div",{class:"result-icon"},"ğŸ–¼ï¸",-1)),e("div",hi,i(he.value),1),c[23]||(c[23]=e("div",{class:"result-label"},"å›¾åƒè®°å¿†å¾—åˆ†",-1))])]),e("div",mi,[c[31]||(c[31]=e("h4",null,"è¯¦ç»†åˆ†æ",-1)),e("div",pi,[e("div",gi,[c[24]||(c[24]=e("h5",null,"æµ‹è¯•ç±»å‹è¡¨ç°",-1)),e("div",fi,[(o(),a(S,null,$(Y,h=>e("div",{key:h.key,class:"type-bar"},[e("span",yi,i(h.label),1),e("div",_i,[e("div",{class:"bar-fill",style:I({width:Pe(h.key)+"%"})},null,4)]),e("span",bi,i(Pe(h.key))+"%",1)])),64))])]),e("div",ki,[c[25]||(c[25]=e("h5",null,"éš¾åº¦è¡¨ç°",-1)),e("div",wi,[(o(),a(S,null,$(ve,h=>e("div",{key:h.key,class:"difficulty-bar"},[e("span",Si,i(h.label),1),e("div",$i,[e("div",{class:"bar-fill",style:I({width:Fe(h.key)+"%"})},null,4)]),e("span",Ti,i(Fe(h.key))+"%",1)])),64))])]),e("div",Mi,[c[30]||(c[30]=e("h5",null,"è®°å¿†ç»Ÿè®¡",-1)),e("div",qi,[e("div",Ci,[c[26]||(c[26]=e("span",{class:"stat-label"},"æœ€ä½³è®°å¿†ç±»å‹",-1)),e("span",Qi,i(pe.value),1)]),e("div",xi,[c[27]||(c[27]=e("span",{class:"stat-label"},"è¿ç»­æ­£ç¡®æ•°",-1)),e("span",Ii,i(me.value),1)]),e("div",Ai,[c[28]||(c[28]=e("span",{class:"stat-label"},"è§†è§‰è®°å¿†å¼ºåº¦",-1)),e("span",Di,i(ge.value),1)]),e("div",Pi,[c[29]||(c[29]=e("span",{class:"stat-label"},"ç©ºé—´è®°å¿†èƒ½åŠ›",-1)),e("span",Li,i(fe.value),1)])])])])]),e("div",Oi,[c[33]||(c[33]=e("h4",null,"è¡¨ç°è¯„ä»·ä¸æ”¹è¿›å»ºè®®",-1)),(o(!0),a(S,null,$(Ce.value,h=>(o(),a("div",{key:h.type,class:P(["feedback-item",h.level])},[e("div",Ei,i(h.icon),1),e("div",Bi,[e("div",zi,i(h.title),1),e("div",Fi,i(h.description),1)])],2))),128)),e("div",Ri,[c[32]||(c[32]=e("h5",null,"æ”¹è¿›å»ºè®®",-1)),e("ul",null,[(o(!0),a(S,null,$($e.value,h=>(o(),a("li",{key:h},i(h),1))),128))])])]),e("div",{class:"results-actions"},[e("button",{onClick:Ge,class:"btn-export"},"å¯¼å‡ºæŠ¥å‘Š"),e("button",{onClick:Xe,class:"btn-retake"},"é‡æ–°æµ‹è¯•"),e("button",{onClick:Ze,class:"btn-training"},"å‰å¾€è®­ç»ƒ")])])):A("",!0)]))}},Ui=Le(Ni,[["__scopeId","data-v-371f04cf"]]);const ji={name:"WordMemoryTest",emits:["complete","restart","export"],data(){return{currentPhase:"instruction",testStage:"memorize",settings:{difficulty:"medium",testType:"mixed",displayTime:3,questionCount:15},currentQuestionIndex:0,questions:[],currentQuestion:null,startTime:null,elapsedTime:0,timer:null,memorizeTimer:null,memorizeTimeLeft:0,lastQuestionTime:0,highlightIndex:-1,userSequence:[],recognitionAnswers:[],semanticAnswer:null,answers:[],correctAnswers:0,answeredQuestions:0,lastAnswerCorrect:!1,wordBank:{easy:["è‹¹æœ","é¦™è•‰","æ©™å­","è‘¡è„","è‰è“","æ¡ƒå­","æ¢¨å­","è¥¿ç“œ","çŒ«å’ª","å°ç‹—","å…”å­","é¸Ÿå„¿","é±¼å„¿","èŠ±æœµ","æ ‘æœ¨","å¤ªé˜³","æœˆäº®","æ˜Ÿæ˜Ÿ","æˆ¿å­","æ±½è½¦"],medium:["è®¡ç®—æœº","é”®ç›˜","é¼ æ ‡","æ˜¾ç¤ºå™¨","éŸ³å“","æ‘„åƒå¤´","æ‰“å°æœº","æ‰«æä»ª","è·¯ç”±å™¨","æ‰‹æœº","å¹³æ¿","è€³æœº","å……ç”µå™¨","æ•°æ®çº¿","ç§»åŠ¨ç¡¬ç›˜","å†…å­˜å¡","å…‰ç›˜","è½¯ä»¶","ç³»ç»Ÿ","ç½‘ç»œ"],hard:["å“²å­¦","å¿ƒç†å­¦","ç¤¾ä¼šå­¦","äººç±»å­¦","è€ƒå¤å­¦","å†å²å­¦","æ”¿æ²»å­¦","ç»æµå­¦","æ³•å­¦","æ•™è‚²å­¦","æ–‡å­¦","è¯­è¨€å­¦","æ–°é—»å­¦","è‰ºæœ¯å­¦","éŸ³ä¹å­¦","ç¾æœ¯å­¦","å»ºç­‘å­¦","è®¾è®¡å­¦","åŒ»å­¦","ç”Ÿç‰©å­¦"],expert:["é‡å­åŠ›å­¦","ç›¸å¯¹è®º","çƒ­åŠ›å­¦","ç”µç£å­¦","å…‰å­¦","å£°å­¦","æµä½“åŠ›å­¦","å›ºä½“åŠ›å­¦","ææ–™ç§‘å­¦","çº³ç±³æŠ€æœ¯","ç”Ÿç‰©æŠ€æœ¯","åŸºå› å·¥ç¨‹","äººå·¥æ™ºèƒ½","æœºå™¨å­¦ä¹ ","æ·±åº¦å­¦ä¹ ","ç¥ç»ç½‘ç»œ","ç®—æ³•è®¾è®¡","æ•°æ®ç»“æ„","æ“ä½œç³»ç»Ÿ","æ•°æ®åº“"]}}},computed:{totalQuestions(){return parseInt(this.settings.questionCount)},progressPercentage(){return this.currentQuestionIndex/this.totalQuestions*100},timerProgress(){const t=this.getMemorizeTime();return(t-this.memorizeTimeLeft)/t*360},shuffledWords(){return this.currentQuestion?[...this.currentQuestion.words,...this.currentQuestion.distractors].sort(()=>Math.random()-.5):[]},canSubmit(){var t,s,d;return((t=this.currentQuestion)==null?void 0:t.type)==="sequence"?this.userSequence.length===this.currentQuestion.words.length:((s=this.currentQuestion)==null?void 0:s.type)==="recognition"?this.recognitionAnswers.length>0:((d=this.currentQuestion)==null?void 0:d.type)==="semantic"?this.semanticAnswer!==null:!1},accuracy(){return this.answeredQuestions>0?this.correctAnswers/this.answeredQuestions*100:0},averageTime(){return this.answers.length===0?0:this.answers.reduce((s,d)=>s+d.time,0)/this.answers.length},totalScore(){return Math.round(this.accuracy*.7+this.getSpeedScore()*.3)},wordMemoryScore(){return Math.round(this.accuracy*.8+this.getConsistencyScore()*.2)},typePerformance(){const t={};return this.answers.forEach(s=>{t[s.type]||(t[s.type]={correct:0,total:0}),t[s.type].total++,s.correct&&t[s.type].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},difficultyPerformance(){const t={};return this.answers.forEach(s=>{const d=s.difficulty||this.settings.difficulty;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},bestPerformance(){let t={type:"",accuracy:0};return Object.entries(this.typePerformance).forEach(([s,d])=>{d.accuracy>t.accuracy&&(t={type:this.getTypeLabel(s),accuracy:d.accuracy})}),t},fastestTime(){return this.answers.length>0?Math.min(...this.answers.map(t=>t.time)):0},slowestTime(){return this.answers.length>0?Math.max(...this.answers.map(t=>t.time)):0},maxStreak(){let t=0,s=0;return this.answers.forEach(d=>{d.correct?(s++,t=Math.max(t,s)):s=0}),t}},methods:{startTest(){this.currentPhase="testing",this.generateQuestions(),this.startQuestion(),this.startTimer()},generateQuestions(){this.questions=[];const t=this.totalQuestions;for(let s=0;s<t;s++){const d=this.generateQuestion();this.questions.push(d)}},generateQuestion(){const t=this.settings.testType==="mixed"?["sequence","recognition","semantic"]:[this.settings.testType],s=t[Math.floor(Math.random()*t.length)],d=this.settings.difficulty,w=this.getWordCount(d),v=this.getRandomWords(w,d);if(s==="sequence")return this.generateSequenceQuestion(v,d);if(s==="recognition")return this.generateRecognitionQuestion(v,d);if(s==="semantic")return this.generateSemanticQuestion(v,d)},generateSequenceQuestion(t,s){const d=this.getRandomWords(Math.ceil(t.length/2),s,t);return{type:"sequence",words:t,distractors:d,difficulty:s,correctAnswer:t}},generateRecognitionQuestion(t,s){const d=this.getRandomWords(t.length,s,t),w=[...t,...d].sort(()=>Math.random()-.5);return{type:"recognition",words:t,options:w,difficulty:s,correctAnswer:t}},generateSemanticQuestion(t,s){const d=t[Math.floor(Math.random()*t.length)],w=this.getWordCategory(d),v=this.getRandomWords(3,s,[d]);return v.push(d),v.sort(()=>Math.random()-.5),{type:"semantic",words:t,question:`åˆšæ‰çš„å•è¯ä¸­ï¼Œå“ªä¸ªå±äº"${w}"ç±»åˆ«ï¼Ÿ`,options:v,difficulty:s,correctAnswer:d}},getWordCount(t){return{easy:Math.floor(Math.random()*4)+5,medium:Math.floor(Math.random()*5)+8,hard:Math.floor(Math.random()*5)+12,expert:Math.floor(Math.random()*5)+16}[t]||8},getRandomWords(t,s,d=[]){const v=(this.wordBank[s]||this.wordBank.medium).filter(b=>!d.includes(b)),l=[];for(let b=0;b<t&&b<v.length;b++){const r=Math.floor(Math.random()*v.length),p=v.splice(r,1)[0];l.push(p)}return l},getWordCategory(t){return{è‹¹æœ:"æ°´æœ",é¦™è•‰:"æ°´æœ",æ©™å­:"æ°´æœ",è‘¡è„:"æ°´æœ",è‰è“:"æ°´æœ",çŒ«å’ª:"åŠ¨ç‰©",å°ç‹—:"åŠ¨ç‰©",å…”å­:"åŠ¨ç‰©",é¸Ÿå„¿:"åŠ¨ç‰©",é±¼å„¿:"åŠ¨ç‰©",è®¡ç®—æœº:"ç”µå­è®¾å¤‡",é”®ç›˜:"ç”µå­è®¾å¤‡",é¼ æ ‡:"ç”µå­è®¾å¤‡",æ˜¾ç¤ºå™¨:"ç”µå­è®¾å¤‡",å“²å­¦:"å­¦ç§‘",å¿ƒç†å­¦:"å­¦ç§‘",ç¤¾ä¼šå­¦:"å­¦ç§‘",äººç±»å­¦:"å­¦ç§‘"}[t]||"å…¶ä»–"},startQuestion(){if(this.currentQuestionIndex>=this.totalQuestions){this.finishTest();return}this.currentQuestion=this.questions[this.currentQuestionIndex],this.testStage="memorize",this.userSequence=[],this.recognitionAnswers=[],this.semanticAnswer=null,this.highlightIndex=-1,this.startMemorizePhase()},startMemorizePhase(){const t=this.getMemorizeTime();this.memorizeTimeLeft=t;let s=0;const d=t/this.currentQuestion.words.length,w=setInterval(()=>{this.highlightIndex=s,s++,s>=this.currentQuestion.words.length&&(clearInterval(w),this.highlightIndex=-1)},d);this.memorizeTimer=setInterval(()=>{this.memorizeTimeLeft-=100,this.memorizeTimeLeft<=0&&(clearInterval(this.memorizeTimer),this.testStage="answer",this.lastQuestionTime=Date.now())},100)},getMemorizeTime(){return this.currentQuestion.words.length*this.settings.displayTime*1e3},addToSequence(t){this.userSequence.includes(t)||this.userSequence.push(t)},removeFromSequence(t){this.userSequence.splice(t,1)},toggleRecognition(t){const s=this.recognitionAnswers.indexOf(t);s>-1?this.recognitionAnswers.splice(s,1):this.recognitionAnswers.push(t)},selectSemanticAnswer(t){this.semanticAnswer=t},submitAnswer(){const t=Date.now()-this.lastQuestionTime,s=this.checkAnswer();this.answers.push({questionIndex:this.currentQuestionIndex,type:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,correct:s,time:t,userAnswer:this.getUserAnswer(),correctAnswer:this.currentQuestion.correctAnswer}),this.answeredQuestions++,s&&this.correctAnswers++,this.lastAnswerCorrect=s,this.lastQuestionTime=t,this.currentPhase="feedback"},checkAnswer(){if(this.currentQuestion.type==="sequence")return JSON.stringify(this.userSequence)===JSON.stringify(this.currentQuestion.words);if(this.currentQuestion.type==="recognition"){const t=this.currentQuestion.words.sort(),s=this.recognitionAnswers.sort();return JSON.stringify(t)===JSON.stringify(s)}else if(this.currentQuestion.type==="semantic")return this.semanticAnswer===this.currentQuestion.correctAnswer;return!1},getUserAnswer(){return this.currentQuestion.type==="sequence"?this.userSequence:this.currentQuestion.type==="recognition"?this.recognitionAnswers:this.currentQuestion.type==="semantic"?this.semanticAnswer:null},skipQuestion(){this.answers.push({questionIndex:this.currentQuestionIndex,type:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,correct:!1,time:Date.now()-this.lastQuestionTime,userAnswer:null,correctAnswer:this.currentQuestion.correctAnswer,skipped:!0}),this.answeredQuestions++,this.nextQuestion()},nextQuestion(){this.currentQuestionIndex++,this.currentPhase="testing",this.startQuestion()},finishTest(){this.currentPhase="results",this.stopTimer(),this.$emit("complete",{score:this.totalScore,accuracy:this.accuracy,averageTime:this.averageTime,answers:this.answers})},startTimer(){this.startTime=Date.now(),this.timer=setInterval(()=>{this.elapsedTime=Date.now()-this.startTime},100)},stopTimer(){this.timer&&(clearInterval(this.timer),this.timer=null),this.memorizeTimer&&(clearInterval(this.memorizeTimer),this.memorizeTimer=null)},formatTime(t){const s=Math.floor(t/1e3),d=Math.floor(s/60),w=s%60;return`${d}:${w.toString().padStart(2,"0")}`},getCorrectAnswerDisplay(){return this.currentQuestion.type==="sequence"?this.currentQuestion.words.join(" â†’ "):this.currentQuestion.type==="recognition"?this.currentQuestion.words.join(", "):this.currentQuestion.type==="semantic"?this.currentQuestion.correctAnswer:""},getUserAnswerDisplay(){const t=this.getUserAnswer();return this.currentQuestion.type==="sequence"?t?t.join(" â†’ "):"æœªå›ç­”":this.currentQuestion.type==="recognition"?t?t.join(", "):"æœªå›ç­”":this.currentQuestion.type==="semantic"&&t||"æœªå›ç­”"},getTypeLabel(t){return{sequence:"é¡ºåºè®°å¿†",recognition:"è¯†åˆ«è®°å¿†",semantic:"è¯­ä¹‰è®°å¿†"}[t]||t},getDifficultyLabel(t){return{easy:"ç®€å•",medium:"ä¸­ç­‰",hard:"å›°éš¾",expert:"ä¸“å®¶"}[t]||t},getSpeedScore(){if(this.answers.length===0)return 0;const t=this.averageTime;return Math.max(0,Math.min(100,100-(t-5e3)/100))},getConsistencyScore(){if(this.answers.length<3)return 100;const t=this.answers.map(v=>v.time),s=t.reduce((v,l)=>v+l,0)/t.length,d=t.reduce((v,l)=>v+Math.pow(l-s,2),0)/t.length,w=Math.sqrt(d);return Math.max(0,100-w/s*100)},getPerformanceEvaluation(){const t=this.totalScore;return t>=90?"ä¼˜ç§€ï¼æ‚¨çš„å•è¯è®°å¿†èƒ½åŠ›éå¸¸å‡ºè‰²ï¼Œåœ¨å„ç§è®°å¿†ä»»åŠ¡ä¸­éƒ½è¡¨ç°ä¼˜å¼‚ã€‚ç»§ç»­ä¿æŒè¿™ç§æ°´å¹³ï¼Œå¯ä»¥å°è¯•æ›´é«˜éš¾åº¦çš„æŒ‘æˆ˜ã€‚":t>=80?"è‰¯å¥½ï¼æ‚¨çš„å•è¯è®°å¿†èƒ½åŠ›è¾ƒå¼ºï¼Œåœ¨å¤§éƒ¨åˆ†è®°å¿†ä»»åŠ¡ä¸­è¡¨ç°è‰¯å¥½ã€‚é€šè¿‡é’ˆå¯¹æ€§è®­ç»ƒå¯ä»¥è¿›ä¸€æ­¥æå‡ã€‚":t>=70?"ä¸­ç­‰ï¼æ‚¨çš„å•è¯è®°å¿†èƒ½åŠ›å¤„äºå¹³å‡æ°´å¹³ï¼Œè¿˜æœ‰è¾ƒå¤§çš„æå‡ç©ºé—´ã€‚å»ºè®®åŠ å¼ºè®°å¿†ç­–ç•¥çš„å­¦ä¹ å’Œç»ƒä¹ ã€‚":t>=60?"éœ€è¦æ”¹è¿›ï¼æ‚¨çš„å•è¯è®°å¿†èƒ½åŠ›æœ‰å¾…æå‡ï¼Œå»ºè®®ä»åŸºç¡€çš„è®°å¿†æŠ€å·§å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥æé«˜ã€‚":"éœ€è¦åŠ å¼ºï¼å»ºè®®ä»ç®€å•çš„è®°å¿†ä»»åŠ¡å¼€å§‹ï¼ŒæŒæ¡åŸºæœ¬çš„è®°å¿†æ–¹æ³•ï¼Œå¾ªåºæ¸è¿›åœ°æå‡è®°å¿†èƒ½åŠ›ã€‚"},getImprovementSuggestions(){const t=[];return this.accuracy<70&&(t.push("ç»ƒä¹ åŸºç¡€çš„è®°å¿†æŠ€å·§ï¼Œå¦‚è”æƒ³è®°å¿†ã€åˆ†ç»„è®°å¿†ç­‰"),t.push("ä»è¾ƒå°‘çš„å•è¯æ•°é‡å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥å¢åŠ éš¾åº¦")),this.averageTime>8e3&&(t.push("æé«˜ååº”é€Ÿåº¦ï¼Œå¯ä»¥é€šè¿‡å¿«é€Ÿé˜…è¯»è®­ç»ƒæ¥æ”¹å–„"),t.push("ç»ƒä¹ å¿«é€Ÿè¯†åˆ«å’Œå›å¿†ï¼Œå‡å°‘çŠ¹è±«æ—¶é—´")),Object.entries(this.typePerformance).forEach(([s,d])=>{d.accuracy<60&&(s==="sequence"?t.push("åŠ å¼ºé¡ºåºè®°å¿†è®­ç»ƒï¼Œå¯ä»¥ä½¿ç”¨æ•°å­—ç¼–ç æˆ–æ•…äº‹é“¾æ¥æ³•"):s==="recognition"?t.push("æé«˜è¯†åˆ«è®°å¿†èƒ½åŠ›ï¼Œå¤šç»ƒä¹ åŒºåˆ†ç›¸ä¼¼å•è¯"):s==="semantic"&&t.push("åŠ å¼ºè¯­ä¹‰è®°å¿†ï¼Œå¤šäº†è§£å•è¯çš„å«ä¹‰å’Œåˆ†ç±»"))}),t.push("ä¿æŒè§„å¾‹çš„ç»ƒä¹ ï¼Œæ¯å¤©è¿›è¡ŒçŸ­æ—¶é—´çš„è®°å¿†è®­ç»ƒ"),t.push("æ³¨æ„ä¼‘æ¯ï¼Œé¿å…ç–²åŠ³å¯¹è®°å¿†èƒ½åŠ›çš„å½±å“"),t.slice(0,5)}},beforeUnmount(){this.stopTimer()}},Ki={class:"word-memory-test"},Vi={key:0,class:"instruction-phase fade-in"},Wi={class:"instruction-container"},Ji={class:"instruction-content"},Hi={class:"test-settings"},Yi={class:"settings-grid"},Gi={class:"setting-item"},Xi={class:"setting-item"},Zi={class:"setting-item"},el={class:"setting-item"},sl={class:"instruction-actions"},tl={key:1,class:"testing-phase"},nl={class:"test-container"},il={class:"test-header"},ll={class:"progress-info"},ol={class:"progress-bar"},al={class:"progress-text"},rl={class:"test-stats"},cl={class:"stat-item"},ul={class:"stat-value"},dl={class:"stat-item"},vl={class:"stat-value"},hl={key:0,class:"memorize-stage"},ml={class:"word-display"},pl={class:"word-list"},gl={class:"memorize-timer"},fl={class:"timer-circle"},yl={class:"timer-text"},_l={key:1,class:"answer-stage"},bl={key:0,class:"sequence-test"},kl={class:"sequence-input"},wl={class:"selected-words"},Sl=["onClick"],$l={class:"word-options"},Tl=["onClick","disabled"],Ml={key:1,class:"recognition-test"},ql={class:"recognition-options"},Cl=["onClick"],Ql={key:2,class:"semantic-test"},xl={class:"question-title"},Il={class:"semantic-options"},Al=["onClick"],Dl={class:"answer-actions"},Pl=["disabled"],Ll={key:2,class:"feedback-phase fade-in"},Ol={class:"feedback-container"},El={class:"feedback-icon"},Bl={class:"feedback-title"},zl={class:"answer-explanation"},Fl={class:"correct-answer"},Rl={class:"answer-display"},Nl={class:"user-answer"},Ul={class:"answer-display"},jl={class:"feedback-stats"},Kl={class:"stat-item"},Vl={class:"stat-value"},Wl={class:"stat-item"},Jl={class:"stat-value"},Hl={class:"feedback-actions"},Yl={key:3,class:"results-phase fade-in"},Gl={class:"results-container"},Xl={class:"overall-results"},Zl={class:"score-display"},eo={class:"score-inner"},so={class:"score-number"},to={class:"stats-grid"},no={class:"stat-card"},io={class:"stat-number"},lo={class:"stat-card"},oo={class:"stat-number"},ao={class:"stat-card"},ro={class:"stat-number"},co={class:"stat-card"},uo={class:"stat-number"},vo={class:"detailed-analysis"},ho={class:"analysis-section"},mo={class:"performance-grid"},po={class:"performance-label"},go={class:"performance-value"},fo={class:"analysis-section"},yo={class:"performance-grid"},_o={class:"performance-label"},bo={class:"performance-value"},ko={class:"analysis-section"},wo={class:"memory-stats"},So={class:"stats-row"},$o={class:"stats-value"},To={class:"stats-row"},Mo={class:"stats-value"},qo={class:"stats-row"},Co={class:"stats-value"},Qo={class:"stats-row"},xo={class:"stats-value"},Io={class:"performance-feedback"},Ao={class:"feedback-content"},Do={class:"evaluation-text"},Po={class:"suggestions-list"},Lo={class:"results-actions"};function Oo(t,s,d,w,v,l){const b=je("router-link");return o(),a("div",Ki,[v.currentPhase==="instruction"?(o(),a("div",Vi,[e("div",Wi,[s[19]||(s[19]=e("h2",{class:"instruction-title"},"å•è¯è®°å¿†æµ‹è¯•",-1)),e("div",Ji,[s[18]||(s[18]=e("div",{class:"test-description"},[e("h3",null,"æµ‹è¯•ç›®æ ‡"),e("p",null,"è¯„ä¼°æ‚¨çš„å•è¯è®°å¿†èƒ½åŠ›ï¼ŒåŒ…æ‹¬çŸ­æœŸè®°å¿†ã€é•¿æœŸè®°å¿†å’Œè¯­ä¹‰è®°å¿†ç­‰æ–¹é¢ã€‚"),e("h3",null,"æµ‹è¯•æ­¥éª¤"),e("ol",null,[e("li",null,"æ ¹æ®æ‚¨çš„éœ€æ±‚è°ƒæ•´æµ‹è¯•è®¾ç½®"),e("li",null,"ä»”ç»†è®°å¿†æ˜¾ç¤ºçš„å•è¯åˆ—è¡¨"),e("li",null,"åœ¨è§„å®šæ—¶é—´å†…å®Œæˆè®°å¿†ä»»åŠ¡"),e("li",null,"æ ¹æ®é¢˜ç›®è¦æ±‚è¿›è¡Œå›ç­”"),e("li",null,"æŸ¥çœ‹è¯¦ç»†çš„æµ‹è¯•ç»“æœå’Œåˆ†æ")])],-1)),e("div",Hi,[e("div",Yi,[e("div",Gi,[s[11]||(s[11]=e("label",{class:"setting-label"},"éš¾åº¦ç­‰çº§",-1)),V(e("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>v.settings.difficulty=r),class:"setting-select"},s[10]||(s[10]=[e("option",{value:"easy"},"ç®€å• (5-8ä¸ªå•è¯)",-1),e("option",{value:"medium"},"ä¸­ç­‰ (8-12ä¸ªå•è¯)",-1),e("option",{value:"hard"},"å›°éš¾ (12-16ä¸ªå•è¯)",-1),e("option",{value:"expert"},"ä¸“å®¶ (16-20ä¸ªå•è¯)",-1)]),512),[[G,v.settings.difficulty]])]),e("div",Xi,[s[13]||(s[13]=e("label",{class:"setting-label"},"æµ‹è¯•ç±»å‹",-1)),V(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>v.settings.testType=r),class:"setting-select"},s[12]||(s[12]=[e("option",{value:"sequence"},"é¡ºåºè®°å¿†",-1),e("option",{value:"recognition"},"è¯†åˆ«è®°å¿†",-1),e("option",{value:"semantic"},"è¯­ä¹‰è®°å¿†",-1),e("option",{value:"mixed"},"æ··åˆæ¨¡å¼",-1)]),512),[[G,v.settings.testType]])]),e("div",Zi,[s[15]||(s[15]=e("label",{class:"setting-label"},"æ˜¾ç¤ºæ—¶é—´",-1)),V(e("select",{"onUpdate:modelValue":s[2]||(s[2]=r=>v.settings.displayTime=r),class:"setting-select"},s[14]||(s[14]=[e("option",{value:"2"},"2ç§’/å•è¯",-1),e("option",{value:"3"},"3ç§’/å•è¯",-1),e("option",{value:"4"},"4ç§’/å•è¯",-1),e("option",{value:"5"},"5ç§’/å•è¯",-1)]),512),[[G,v.settings.displayTime]])]),e("div",el,[s[17]||(s[17]=e("label",{class:"setting-label"},"é¢˜ç›®æ•°é‡",-1)),V(e("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>v.settings.questionCount=r),class:"setting-select"},s[16]||(s[16]=[e("option",{value:"10"},"10é¢˜",-1),e("option",{value:"15"},"15é¢˜",-1),e("option",{value:"20"},"20é¢˜",-1),e("option",{value:"25"},"25é¢˜",-1)]),512),[[G,v.settings.questionCount]])])])])]),e("div",sl,[e("button",{onClick:s[4]||(s[4]=(...r)=>l.startTest&&l.startTest(...r)),class:"btn-start"},"å¼€å§‹æµ‹è¯•")])])])):v.currentPhase==="testing"?(o(),a("div",tl,[e("div",nl,[e("div",il,[e("div",ll,[e("div",ol,[e("div",{class:"progress-fill",style:I({width:l.progressPercentage+"%"})},null,4)]),e("span",al,i(v.currentQuestionIndex+1)+" / "+i(l.totalQuestions),1)]),e("div",rl,[e("div",cl,[s[20]||(s[20]=e("span",{class:"stat-icon"},"â±ï¸",-1)),e("span",ul,i(l.formatTime(v.elapsedTime)),1)]),e("div",dl,[s[21]||(s[21]=e("span",{class:"stat-icon"},"ğŸ¯",-1)),e("span",vl,i(v.correctAnswers)+"/"+i(v.answeredQuestions),1)])])]),v.testStage==="memorize"?(o(),a("div",hl,[s[22]||(s[22]=e("div",{class:"stage-title"},"è¯·è®°ä½ä»¥ä¸‹å•è¯",-1)),e("div",ml,[e("div",pl,[(o(!0),a(S,null,$(v.currentQuestion.words,(r,p)=>(o(),a("div",{key:p,class:P(["word-item",{highlight:p===v.highlightIndex}])},i(r),3))),128))])]),e("div",gl,[e("div",fl,[e("div",{class:"timer-fill",style:I({background:`conic-gradient(#007bff ${l.timerProgress}deg, #e9ecef 0deg)`})},null,4),e("div",yl,i(Math.ceil(v.memorizeTimeLeft/1e3)),1)])])])):v.testStage==="answer"?(o(),a("div",_l,[v.currentQuestion.type==="sequence"?(o(),a("div",bl,[s[23]||(s[23]=e("div",{class:"question-title"},"è¯·æŒ‰é¡ºåºé€‰æ‹©åˆšæ‰çœ‹åˆ°çš„å•è¯",-1)),e("div",kl,[e("div",wl,[(o(!0),a(S,null,$(v.userSequence,(r,p)=>(o(),a("div",{key:p,class:"selected-word"},[ke(i(r)+" ",1),e("button",{onClick:L=>l.removeFromSequence(p),class:"remove-btn"},"Ã—",8,Sl)]))),128))]),e("div",$l,[(o(!0),a(S,null,$(l.shuffledWords,r=>(o(),a("button",{key:r,onClick:p=>l.addToSequence(r),disabled:v.userSequence.includes(r),class:P(["word-option",{disabled:v.userSequence.includes(r)}])},i(r),11,Tl))),128))])])])):v.currentQuestion.type==="recognition"?(o(),a("div",Ml,[s[24]||(s[24]=e("div",{class:"question-title"},"ä»¥ä¸‹å“ªäº›å•è¯åˆšæ‰å‡ºç°è¿‡ï¼Ÿ",-1)),e("div",ql,[(o(!0),a(S,null,$(v.currentQuestion.options,r=>(o(),a("button",{key:r,onClick:p=>l.toggleRecognition(r),class:P(["recognition-option",{selected:v.recognitionAnswers.includes(r)}])},i(r),11,Cl))),128))])])):v.currentQuestion.type==="semantic"?(o(),a("div",Ql,[e("div",xl,i(v.currentQuestion.question),1),e("div",Il,[(o(!0),a(S,null,$(v.currentQuestion.options,(r,p)=>(o(),a("button",{key:p,onClick:L=>l.selectSemanticAnswer(r),class:P(["semantic-option",{selected:v.semanticAnswer===r}])},i(r),11,Al))),128))])])):A("",!0),e("div",Dl,[e("button",{onClick:s[5]||(s[5]=(...r)=>l.submitAnswer&&l.submitAnswer(...r)),disabled:!l.canSubmit,class:"btn-submit"},"æäº¤ç­”æ¡ˆ",8,Pl),e("button",{onClick:s[6]||(s[6]=(...r)=>l.skipQuestion&&l.skipQuestion(...r)),class:"btn-skip"},"è·³è¿‡")])])):A("",!0)])])):v.currentPhase==="feedback"?(o(),a("div",Ll,[e("div",Ol,[e("div",{class:P(["feedback-result",{correct:v.lastAnswerCorrect,incorrect:!v.lastAnswerCorrect}])},[e("div",El,i(v.lastAnswerCorrect?"âœ…":"âŒ"),1),e("div",Bl,i(v.lastAnswerCorrect?"å›ç­”æ­£ç¡®ï¼":"å›ç­”é”™è¯¯"),1),e("div",zl,[e("div",Fl,[s[25]||(s[25]=e("span",{class:"label"},"æ­£ç¡®ç­”æ¡ˆï¼š",-1)),e("span",Rl,i(l.getCorrectAnswerDisplay()),1)]),e("div",Nl,[s[26]||(s[26]=e("span",{class:"label"},"æ‚¨çš„ç­”æ¡ˆï¼š",-1)),e("span",Ul,i(l.getUserAnswerDisplay()),1)])]),e("div",jl,[e("div",Kl,[s[27]||(s[27]=e("span",{class:"stat-label"},"ç”¨æ—¶ï¼š",-1)),e("span",Vl,i(l.formatTime(v.lastQuestionTime)),1)]),e("div",Wl,[s[28]||(s[28]=e("span",{class:"stat-label"},"å‡†ç¡®ç‡ï¼š",-1)),e("span",Jl,i(Math.round(v.correctAnswers/v.answeredQuestions*100))+"%",1)])])],2),e("div",Hl,[e("button",{onClick:s[7]||(s[7]=(...r)=>l.nextQuestion&&l.nextQuestion(...r)),class:"btn-next"},"ç»§ç»­")])])])):v.currentPhase==="results"?(o(),a("div",Yl,[e("div",Gl,[e("div",Xl,[s[34]||(s[34]=e("h2",{class:"results-title"},"å•è¯è®°å¿†æµ‹è¯•ç»“æœ",-1)),e("div",Zl,[e("div",{class:"score-circle",style:I({background:`conic-gradient(#007bff ${l.totalScore/100*360}deg, #e9ecef 0deg)`})},[e("div",eo,[e("div",so,i(l.totalScore),1),s[29]||(s[29]=e("div",{class:"score-label"},"æ€»åˆ†",-1))])],4)]),e("div",to,[e("div",no,[e("div",io,i(Math.round(l.accuracy))+"%",1),s[30]||(s[30]=e("div",{class:"stat-title"},"å‡†ç¡®ç‡",-1))]),e("div",lo,[e("div",oo,i(l.formatTime(l.averageTime)),1),s[31]||(s[31]=e("div",{class:"stat-title"},"å¹³å‡ç”¨æ—¶",-1))]),e("div",ao,[e("div",ro,i(v.answeredQuestions),1),s[32]||(s[32]=e("div",{class:"stat-title"},"å®Œæˆé¢˜æ•°",-1))]),e("div",co,[e("div",uo,i(l.wordMemoryScore),1),s[33]||(s[33]=e("div",{class:"stat-title"},"è®°å¿†èƒ½åŠ›",-1))])])]),e("div",vo,[s[42]||(s[42]=e("h3",{class:"analysis-title"},"è¯¦ç»†åˆ†æ",-1)),e("div",ho,[s[35]||(s[35]=e("h4",{class:"section-title"},"æµ‹è¯•ç±»å‹è¡¨ç°",-1)),e("div",mo,[(o(!0),a(S,null,$(l.typePerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",po,i(l.getTypeLabel(p)),1),e("span",go,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",fo,[s[36]||(s[36]=e("h4",{class:"section-title"},"éš¾åº¦è¡¨ç°",-1)),e("div",yo,[(o(!0),a(S,null,$(l.difficultyPerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",_o,i(l.getDifficultyLabel(p)),1),e("span",bo,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",ko,[s[41]||(s[41]=e("h4",{class:"section-title"},"è®°å¿†ç»Ÿè®¡",-1)),e("div",wo,[e("div",So,[s[37]||(s[37]=e("span",{class:"stats-label"},"æœ€ä½³è¡¨ç°",-1)),e("span",$o,i(l.bestPerformance.type)+" - "+i(Math.round(l.bestPerformance.accuracy))+"%",1)]),e("div",To,[s[38]||(s[38]=e("span",{class:"stats-label"},"æœ€å¿«å›ç­”",-1)),e("span",Mo,i(l.formatTime(l.fastestTime)),1)]),e("div",qo,[s[39]||(s[39]=e("span",{class:"stats-label"},"æœ€æ…¢å›ç­”",-1)),e("span",Co,i(l.formatTime(l.slowestTime)),1)]),e("div",Qo,[s[40]||(s[40]=e("span",{class:"stats-label"},"è¿ç»­æ­£ç¡®",-1)),e("span",xo,i(l.maxStreak)+" é¢˜",1)])])])]),e("div",Io,[s[43]||(s[43]=e("h3",{class:"analysis-title"},"è¡¨ç°è¯„ä»·ä¸æ”¹è¿›å»ºè®®",-1)),e("div",Ao,[e("p",Do,i(l.getPerformanceEvaluation()),1),e("ul",Po,[(o(!0),a(S,null,$(l.getImprovementSuggestions(),r=>(o(),a("li",{key:r,class:"suggestion-item"},i(r),1))),128))])])]),e("div",Lo,[e("button",{onClick:s[8]||(s[8]=r=>t.$emit("restart")),class:"btn-primary"},"é‡æ–°æµ‹è¯•"),e("button",{onClick:s[9]||(s[9]=r=>t.$emit("export")),class:"btn-secondary"},"å¯¼å‡ºæŠ¥å‘Š"),ze(b,{to:"/training/memory",class:"btn-secondary"},{default:Ke(()=>s[44]||(s[44]=[ke("å¼€å§‹è®­ç»ƒ",-1)])),_:1,__:[44]})])])])):A("",!0)])}const Eo=Le(ji,[["render",Oo],["__scopeId","data-v-810dfc48"]]);const Bo={name:"SequenceMemoryTest",emits:["complete","restart","export"],data(){return{currentPhase:"instruction",testStage:"display",settings:{difficulty:"medium",sequenceType:"mixed",displaySpeed:"medium",questionCount:15},currentQuestionIndex:0,questions:[],currentQuestion:null,startTime:null,elapsedTime:0,timer:null,displayTimer:null,displayTimeLeft:0,lastQuestionTime:0,activeIndex:-1,userSequence:[],shuffledOptions:[],answers:[],correctAnswers:0,answeredQuestions:0,lastAnswerCorrect:!1,elementBank:{colors:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],numbers:[1,2,3,4,5,6,7,8,9,0],shapes:["circle","square","triangle","diamond","star","heart","hexagon","pentagon"]}}},computed:{totalQuestions(){return parseInt(this.settings.questionCount)},progressPercentage(){return this.currentQuestionIndex/this.totalQuestions*100},timerProgress(){const t=this.getDisplayTime();return(t-this.displayTimeLeft)/t*360},canSubmit(){return this.userSequence.length===this.currentQuestion.sequence.length},accuracy(){return this.answeredQuestions>0?this.correctAnswers/this.answeredQuestions*100:0},averageTime(){return this.answers.length===0?0:this.answers.reduce((s,d)=>s+d.time,0)/this.answers.length},totalScore(){return Math.round(this.accuracy*.7+this.getSpeedScore()*.2+this.getConsistencyScore()*.1)},sequenceMemoryScore(){return Math.round(this.accuracy*.8+this.getLengthScore()*.2)},typePerformance(){const t={};return this.answers.forEach(s=>{const d=s.sequenceType;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},difficultyPerformance(){const t={};return this.answers.forEach(s=>{const d=s.difficulty;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},lengthPerformance(){const t={};return this.answers.forEach(s=>{const d=s.sequenceLength;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},bestPerformance(){let t={type:"",accuracy:0};return Object.entries(this.typePerformance).forEach(([s,d])=>{d.accuracy>t.accuracy&&(t={type:this.getTypeLabel(s),accuracy:d.accuracy})}),t},fastestTime(){return this.answers.length>0?Math.min(...this.answers.map(t=>t.time)):0},slowestTime(){return this.answers.length>0?Math.max(...this.answers.map(t=>t.time)):0},maxStreak(){let t=0,s=0;return this.answers.forEach(d=>{d.correct?(s++,t=Math.max(t,s)):s=0}),t},averageSequenceLength(){return this.answers.length===0?0:this.answers.reduce((s,d)=>s+d.sequenceLength,0)/this.answers.length}},methods:{startTest(){this.currentPhase="testing",this.generateQuestions(),this.startQuestion(),this.startTimer()},generateQuestions(){this.questions=[];const t=this.totalQuestions;for(let s=0;s<t;s++){const d=this.generateQuestion();this.questions.push(d)}},generateQuestion(){const t=this.settings.sequenceType==="mixed"?["color","number","shape"]:[this.settings.sequenceType],s=t[Math.floor(Math.random()*t.length)],d=this.settings.difficulty,w=this.getSequenceLength(d),v=this.generateSequence(s,w),l=this.generateDistractors(s,v);return{sequence:v,distractors:l,type:s,difficulty:d,length:w}},getSequenceLength(t){return{easy:Math.floor(Math.random()*3)+3,medium:Math.floor(Math.random()*3)+5,hard:Math.floor(Math.random()*3)+7,expert:Math.floor(Math.random()*4)+9}[t]||5},generateSequence(t,s){const d=[],w=[...this.elementBank[t+"s"]];for(let v=0;v<s;v++){const l=Math.floor(Math.random()*w.length),b=w[l];d.push({type:t,value:b,id:`${t}_${b}_${v}`}),w.splice(l,1),w.length===0&&w.push(...this.elementBank[t+"s"])}return d},generateDistractors(t,s){const d=[],w=s.map(b=>b.value),v=this.elementBank[t+"s"].filter(b=>!w.includes(b)),l=Math.min(s.length,v.length);for(let b=0;b<l;b++){const r=Math.floor(Math.random()*v.length),p=v.splice(r,1)[0];d.push({type:t,value:p,id:`${t}_${p}_distractor_${b}`})}return d},startQuestion(){if(this.currentQuestionIndex>=this.totalQuestions){this.finishTest();return}this.currentQuestion=this.questions[this.currentQuestionIndex],this.testStage="display",this.userSequence=[],this.activeIndex=-1,this.startDisplayPhase()},startDisplayPhase(){const t=this.getDisplayTime();this.displayTimeLeft=t;let s=0;const d=this.getItemDisplayTime(),w=setInterval(()=>{this.activeIndex=s,s++,s>this.currentQuestion.sequence.length&&(clearInterval(w),this.activeIndex=-1)},d);this.displayTimer=setInterval(()=>{this.displayTimeLeft-=100,this.displayTimeLeft<=0&&(clearInterval(this.displayTimer),this.testStage="answer",this.prepareAnswerPhase(),this.lastQuestionTime=Date.now())},100)},getDisplayTime(){return this.currentQuestion.sequence.length*this.getItemDisplayTime()+1e3},getItemDisplayTime(){return{slow:1500,medium:1e3,fast:700,"very-fast":500}[this.settings.displaySpeed]||1e3},prepareAnswerPhase(){this.shuffledOptions=[...this.currentQuestion.sequence,...this.currentQuestion.distractors].sort(()=>Math.random()-.5)},addToSequence(t){!this.isItemSelected(t)&&this.userSequence.length<this.currentQuestion.sequence.length&&this.userSequence.push(t)},removeFromSequence(t){this.userSequence.splice(t,1)},clearSequence(){this.userSequence=[]},isItemSelected(t){return this.userSequence.some(s=>s.id===t.id)},submitAnswer(){const t=Date.now()-this.lastQuestionTime,s=this.checkAnswer();this.answers.push({questionIndex:this.currentQuestionIndex,sequenceType:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,sequenceLength:this.currentQuestion.length,correct:s,time:t,userAnswer:this.userSequence.map(d=>d.value),correctAnswer:this.currentQuestion.sequence.map(d=>d.value)}),this.answeredQuestions++,s&&this.correctAnswers++,this.lastAnswerCorrect=s,this.lastQuestionTime=t,this.currentPhase="feedback"},checkAnswer(){if(this.userSequence.length!==this.currentQuestion.sequence.length)return!1;for(let t=0;t<this.userSequence.length;t++)if(this.userSequence[t].value!==this.currentQuestion.sequence[t].value)return!1;return!0},isItemCorrect(t,s){return s>=this.currentQuestion.sequence.length?!1:t.value===this.currentQuestion.sequence[s].value},skipQuestion(){this.answers.push({questionIndex:this.currentQuestionIndex,sequenceType:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,sequenceLength:this.currentQuestion.length,correct:!1,time:Date.now()-this.lastQuestionTime,userAnswer:null,correctAnswer:this.currentQuestion.sequence.map(t=>t.value),skipped:!0}),this.answeredQuestions++,this.nextQuestion()},nextQuestion(){this.currentQuestionIndex++,this.currentPhase="testing",this.startQuestion()},finishTest(){this.currentPhase="results",this.stopTimer(),this.$emit("complete",{score:this.totalScore,accuracy:this.accuracy,averageTime:this.averageTime,answers:this.answers})},startTimer(){this.startTime=Date.now(),this.timer=setInterval(()=>{this.elapsedTime=Date.now()-this.startTime},100)},stopTimer(){this.timer&&(clearInterval(this.timer),this.timer=null),this.displayTimer&&(clearInterval(this.displayTimer),this.displayTimer=null)},formatTime(t){const s=Math.floor(t/1e3),d=Math.floor(s/60),w=s%60;return`${d}:${w.toString().padStart(2,"0")}`},getItemStyle(t){return{transition:"all 0.3s ease"}},getTypeLabel(t){return{color:"é¢œè‰²åºåˆ—",number:"æ•°å­—åºåˆ—",shape:"å½¢çŠ¶åºåˆ—"}[t]||t},getDifficultyLabel(t){return{easy:"ç®€å•",medium:"ä¸­ç­‰",hard:"å›°éš¾",expert:"ä¸“å®¶"}[t]||t},getSpeedScore(){if(this.answers.length===0)return 0;const t=this.averageTime;return Math.max(0,Math.min(100,100-(t-3e3)/100))},getConsistencyScore(){if(this.answers.length<3)return 100;const t=this.answers.map(v=>v.time),s=t.reduce((v,l)=>v+l,0)/t.length,d=t.reduce((v,l)=>v+Math.pow(l-s,2),0)/t.length,w=Math.sqrt(d);return Math.max(0,100-w/s*100)},getLengthScore(){return this.answers.length===0?0:this.averageSequenceLength/12*100},getPerformanceEvaluation(){const t=this.totalScore;return t>=90?"ä¼˜ç§€ï¼æ‚¨çš„åºåˆ—è®°å¿†èƒ½åŠ›éå¸¸å‡ºè‰²ï¼Œèƒ½å¤Ÿå‡†ç¡®è®°ä½å¤æ‚çš„åºåˆ—æ¨¡å¼ã€‚ç»§ç»­ä¿æŒè¿™ç§æ°´å¹³ï¼Œå¯ä»¥å°è¯•æ›´é•¿çš„åºåˆ—æŒ‘æˆ˜ã€‚":t>=80?"è‰¯å¥½ï¼æ‚¨çš„åºåˆ—è®°å¿†èƒ½åŠ›è¾ƒå¼ºï¼Œåœ¨å¤§éƒ¨åˆ†åºåˆ—ä»»åŠ¡ä¸­è¡¨ç°è‰¯å¥½ã€‚é€šè¿‡é’ˆå¯¹æ€§è®­ç»ƒå¯ä»¥è¿›ä¸€æ­¥æå‡ã€‚":t>=70?"ä¸­ç­‰ï¼æ‚¨çš„åºåˆ—è®°å¿†èƒ½åŠ›å¤„äºå¹³å‡æ°´å¹³ï¼Œè¿˜æœ‰è¾ƒå¤§çš„æå‡ç©ºé—´ã€‚å»ºè®®åŠ å¼ºåºåˆ—è®°å¿†ç­–ç•¥çš„å­¦ä¹ å’Œç»ƒä¹ ã€‚":t>=60?"éœ€è¦æ”¹è¿›ï¼æ‚¨çš„åºåˆ—è®°å¿†èƒ½åŠ›æœ‰å¾…æå‡ï¼Œå»ºè®®ä»è¾ƒçŸ­çš„åºåˆ—å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥æé«˜ã€‚":"éœ€è¦åŠ å¼ºï¼å»ºè®®ä»ç®€å•çš„åºåˆ—è®°å¿†ä»»åŠ¡å¼€å§‹ï¼ŒæŒæ¡åŸºæœ¬çš„è®°å¿†æ–¹æ³•ï¼Œå¾ªåºæ¸è¿›åœ°æå‡èƒ½åŠ›ã€‚"},getImprovementSuggestions(){const t=[];return this.accuracy<70&&(t.push("ç»ƒä¹ åŸºç¡€çš„åºåˆ—è®°å¿†æŠ€å·§ï¼Œå¦‚åˆ†ç»„è®°å¿†ã€èŠ‚å¥è®°å¿†ç­‰"),t.push("ä»è¾ƒçŸ­çš„åºåˆ—å¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥å¢åŠ é•¿åº¦")),this.averageTime>5e3&&(t.push("æé«˜ååº”é€Ÿåº¦ï¼Œå¯ä»¥é€šè¿‡å¿«é€Ÿè¯†åˆ«è®­ç»ƒæ¥æ”¹å–„"),t.push("ç»ƒä¹ å¿«é€Ÿåºåˆ—è¯†åˆ«ï¼Œå‡å°‘çŠ¹è±«æ—¶é—´")),Object.entries(this.typePerformance).forEach(([d,w])=>{w.accuracy<60&&(d==="color"?t.push("åŠ å¼ºé¢œè‰²åºåˆ—è®°å¿†ï¼Œå¯ä»¥ä½¿ç”¨é¢œè‰²è”æƒ³æ³•"):d==="number"?t.push("æé«˜æ•°å­—åºåˆ—è®°å¿†ï¼Œå¯ä»¥ä½¿ç”¨æ•°å­—ç¼–ç æŠ€å·§"):d==="shape"&&t.push("åŠ å¼ºå½¢çŠ¶åºåˆ—è®°å¿†ï¼Œå¯ä»¥ä½¿ç”¨å½¢çŠ¶æ•…äº‹æ³•"))}),this.averageSequenceLength<6&&t.push("é€æ­¥æŒ‘æˆ˜æ›´é•¿çš„åºåˆ—ï¼Œæé«˜è®°å¿†å®¹é‡"),t.push("ä¿æŒè§„å¾‹çš„ç»ƒä¹ ï¼Œæ¯å¤©è¿›è¡ŒçŸ­æ—¶é—´çš„åºåˆ—è®°å¿†è®­ç»ƒ"),t.push("æ³¨æ„ä¼‘æ¯ï¼Œé¿å…ç–²åŠ³å¯¹è®°å¿†èƒ½åŠ›çš„å½±å“"),t.slice(0,5)}},beforeUnmount(){this.stopTimer()}},zo={class:"sequence-memory-test"},Fo={key:0,class:"instruction-phase fade-in"},Ro={class:"instruction-container"},No={class:"instruction-content"},Uo={class:"test-settings"},jo={class:"settings-grid"},Ko={class:"setting-item"},Vo={class:"setting-item"},Wo={class:"setting-item"},Jo={class:"setting-item"},Ho={class:"instruction-actions"},Yo={key:1,class:"testing-phase"},Go={class:"test-container"},Xo={class:"test-header"},Zo={class:"progress-info"},ea={class:"progress-bar"},sa={class:"progress-text"},ta={class:"test-stats"},na={class:"stat-item"},ia={class:"stat-value"},la={class:"stat-item"},oa={class:"stat-value"},aa={key:0,class:"display-stage"},ra={class:"sequence-display"},ca={class:"sequence-container"},ua={key:1,class:"number-item"},da={key:2,class:"shape-item"},va={class:"display-timer"},ha={class:"timer-circle"},ma={class:"timer-text"},pa={key:1,class:"answer-stage"},ga={class:"user-sequence"},fa={class:"selected-sequence"},ya=["onClick"],_a={key:1,class:"number-item"},ba={key:2,class:"shape-item"},ka={class:"options-area"},wa={class:"sequence-options"},Sa=["onClick"],$a={key:1,class:"number-item"},Ta={key:2,class:"shape-item"},Ma={class:"answer-actions"},qa=["disabled"],Ca={key:2,class:"feedback-phase fade-in"},Qa={class:"feedback-container"},xa={class:"feedback-icon"},Ia={class:"feedback-title"},Aa={class:"sequence-comparison"},Da={class:"correct-sequence"},Pa={class:"sequence-display-small"},La={key:1,class:"number-item-small"},Oa={key:2,class:"shape-item-small"},Ea={class:"user-sequence-feedback"},Ba={class:"sequence-display-small"},za={key:1,class:"number-item-small"},Fa={key:2,class:"shape-item-small"},Ra={class:"feedback-stats"},Na={class:"stat-item"},Ua={class:"stat-value"},ja={class:"stat-item"},Ka={class:"stat-value"},Va={class:"stat-item"},Wa={class:"stat-value"},Ja={class:"feedback-actions"},Ha={key:3,class:"results-phase fade-in"},Ya={class:"results-container"},Ga={class:"overall-results"},Xa={class:"score-display"},Za={class:"score-inner"},er={class:"score-number"},sr={class:"stats-grid"},tr={class:"stat-card"},nr={class:"stat-number"},ir={class:"stat-card"},lr={class:"stat-number"},or={class:"stat-card"},ar={class:"stat-number"},rr={class:"stat-card"},cr={class:"stat-number"},ur={class:"detailed-analysis"},dr={class:"analysis-section"},vr={class:"performance-grid"},hr={class:"performance-label"},mr={class:"performance-value"},pr={class:"analysis-section"},gr={class:"performance-grid"},fr={class:"performance-label"},yr={class:"performance-value"},_r={class:"analysis-section"},br={class:"performance-grid"},kr={class:"performance-label"},wr={class:"performance-value"},Sr={class:"analysis-section"},$r={class:"memory-stats"},Tr={class:"stats-row"},Mr={class:"stats-value"},qr={class:"stats-row"},Cr={class:"stats-value"},Qr={class:"stats-row"},xr={class:"stats-value"},Ir={class:"stats-row"},Ar={class:"stats-value"},Dr={class:"stats-row"},Pr={class:"stats-value"},Lr={class:"performance-feedback"},Or={class:"feedback-content"},Er={class:"evaluation-text"},Br={class:"suggestions-list"},zr={class:"results-actions"};function Fr(t,s,d,w,v,l){const b=je("router-link");return o(),a("div",zo,[v.currentPhase==="instruction"?(o(),a("div",Fo,[e("div",Ro,[s[20]||(s[20]=e("h2",{class:"instruction-title"},"åºåˆ—è®°å¿†æµ‹è¯•",-1)),e("div",No,[s[19]||(s[19]=e("div",{class:"test-description"},[e("h3",null,"æµ‹è¯•ç›®æ ‡"),e("p",null,"è¯„ä¼°æ‚¨çš„åºåˆ—è®°å¿†èƒ½åŠ›ï¼ŒåŒ…æ‹¬é¡ºåºè®°å¿†ã€æ¨¡å¼è¯†åˆ«å’Œåºåˆ—é‡ç°ç­‰æ–¹é¢ã€‚"),e("h3",null,"æµ‹è¯•æ­¥éª¤"),e("ol",null,[e("li",null,"æ ¹æ®æ‚¨çš„éœ€æ±‚è°ƒæ•´æµ‹è¯•è®¾ç½®"),e("li",null,"ä»”ç»†è§‚å¯Ÿæ˜¾ç¤ºçš„åºåˆ—æ¨¡å¼"),e("li",null,"åœ¨è§„å®šæ—¶é—´å†…è®°ä½åºåˆ—çš„é¡ºåº"),e("li",null,"æ ¹æ®è¦æ±‚é‡ç°æˆ–è¯†åˆ«åºåˆ—"),e("li",null,"æŸ¥çœ‹è¯¦ç»†çš„æµ‹è¯•ç»“æœå’Œåˆ†æ")])],-1)),e("div",Uo,[e("div",jo,[e("div",Ko,[s[12]||(s[12]=e("label",{class:"setting-label"},"éš¾åº¦ç­‰çº§",-1)),V(e("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>v.settings.difficulty=r),class:"setting-select"},s[11]||(s[11]=[e("option",{value:"easy"},"ç®€å• (3-5ä¸ªå…ƒç´ )",-1),e("option",{value:"medium"},"ä¸­ç­‰ (5-7ä¸ªå…ƒç´ )",-1),e("option",{value:"hard"},"å›°éš¾ (7-9ä¸ªå…ƒç´ )",-1),e("option",{value:"expert"},"ä¸“å®¶ (9-12ä¸ªå…ƒç´ )",-1)]),512),[[G,v.settings.difficulty]])]),e("div",Vo,[s[14]||(s[14]=e("label",{class:"setting-label"},"åºåˆ—ç±»å‹",-1)),V(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>v.settings.sequenceType=r),class:"setting-select"},s[13]||(s[13]=[e("option",{value:"color"},"é¢œè‰²åºåˆ—",-1),e("option",{value:"number"},"æ•°å­—åºåˆ—",-1),e("option",{value:"shape"},"å½¢çŠ¶åºåˆ—",-1),e("option",{value:"mixed"},"æ··åˆæ¨¡å¼",-1)]),512),[[G,v.settings.sequenceType]])]),e("div",Wo,[s[16]||(s[16]=e("label",{class:"setting-label"},"æ˜¾ç¤ºé€Ÿåº¦",-1)),V(e("select",{"onUpdate:modelValue":s[2]||(s[2]=r=>v.settings.displaySpeed=r),class:"setting-select"},s[15]||(s[15]=[e("option",{value:"slow"},"æ…¢é€Ÿ (1.5ç§’/å…ƒç´ )",-1),e("option",{value:"medium"},"ä¸­é€Ÿ (1ç§’/å…ƒç´ )",-1),e("option",{value:"fast"},"å¿«é€Ÿ (0.7ç§’/å…ƒç´ )",-1),e("option",{value:"very-fast"},"æå¿« (0.5ç§’/å…ƒç´ )",-1)]),512),[[G,v.settings.displaySpeed]])]),e("div",Jo,[s[18]||(s[18]=e("label",{class:"setting-label"},"é¢˜ç›®æ•°é‡",-1)),V(e("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>v.settings.questionCount=r),class:"setting-select"},s[17]||(s[17]=[e("option",{value:"10"},"10é¢˜",-1),e("option",{value:"15"},"15é¢˜",-1),e("option",{value:"20"},"20é¢˜",-1),e("option",{value:"25"},"25é¢˜",-1)]),512),[[G,v.settings.questionCount]])])])])]),e("div",Ho,[e("button",{onClick:s[4]||(s[4]=(...r)=>l.startTest&&l.startTest(...r)),class:"btn-start"},"å¼€å§‹æµ‹è¯•")])])])):v.currentPhase==="testing"?(o(),a("div",Yo,[e("div",Go,[e("div",Xo,[e("div",Zo,[e("div",ea,[e("div",{class:"progress-fill",style:I({width:l.progressPercentage+"%"})},null,4)]),e("span",sa,i(v.currentQuestionIndex+1)+" / "+i(l.totalQuestions),1)]),e("div",ta,[e("div",na,[s[21]||(s[21]=e("span",{class:"stat-icon"},"â±ï¸",-1)),e("span",ia,i(l.formatTime(v.elapsedTime)),1)]),e("div",la,[s[22]||(s[22]=e("span",{class:"stat-icon"},"ğŸ¯",-1)),e("span",oa,i(v.correctAnswers)+"/"+i(v.answeredQuestions),1)])])]),v.testStage==="display"?(o(),a("div",aa,[s[23]||(s[23]=e("div",{class:"stage-title"},"è¯·è®°ä½ä»¥ä¸‹åºåˆ—",-1)),e("div",ra,[e("div",ca,[(o(!0),a(S,null,$(v.currentQuestion.sequence,(r,p)=>(o(),a("div",{key:p,class:P(["sequence-item",{active:p===v.activeIndex,completed:p<v.activeIndex,[r.type]:!0}]),style:I(l.getItemStyle(r))},[r.type==="color"?(o(),a("div",{key:0,class:"color-item",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",ua,i(r.value),1)):r.type==="shape"?(o(),a("div",da,[e("div",{class:P(["shape",r.value])},null,2)])):A("",!0)],6))),128))])]),e("div",va,[e("div",ha,[e("div",{class:"timer-fill",style:I({background:`conic-gradient(#007bff ${l.timerProgress}deg, #e9ecef 0deg)`})},null,4),e("div",ma,i(Math.ceil(v.displayTimeLeft/1e3)),1)])])])):v.testStage==="answer"?(o(),a("div",pa,[s[27]||(s[27]=e("div",{class:"question-title"},"è¯·æŒ‰é¡ºåºé‡ç°åˆšæ‰çœ‹åˆ°çš„åºåˆ—",-1)),e("div",ga,[s[25]||(s[25]=e("div",{class:"sequence-title"},"æ‚¨çš„é€‰æ‹©ï¼š",-1)),e("div",fa,[(o(!0),a(S,null,$(v.userSequence,(r,p)=>(o(),a("div",{key:p,class:P(["selected-item",r.type]),style:I(l.getItemStyle(r)),onClick:L=>l.removeFromSequence(p)},[r.type==="color"?(o(),a("div",{key:0,class:"color-item",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",_a,i(r.value),1)):r.type==="shape"?(o(),a("div",ba,[e("div",{class:P(["shape",r.value])},null,2)])):A("",!0),s[24]||(s[24]=e("button",{class:"remove-btn"},"Ã—",-1))],14,ya))),128))])]),e("div",ka,[s[26]||(s[26]=e("div",{class:"options-title"},"å¯é€‰é¡¹ï¼š",-1)),e("div",wa,[(o(!0),a(S,null,$(v.shuffledOptions,(r,p)=>(o(),a("div",{key:p,class:P(["option-item",{disabled:l.isItemSelected(r),[r.type]:!0}]),style:I(l.getItemStyle(r)),onClick:L=>l.addToSequence(r)},[r.type==="color"?(o(),a("div",{key:0,class:"color-item",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",$a,i(r.value),1)):r.type==="shape"?(o(),a("div",Ta,[e("div",{class:P(["shape",r.value])},null,2)])):A("",!0)],14,Sa))),128))])]),e("div",Ma,[e("button",{onClick:s[5]||(s[5]=(...r)=>l.submitAnswer&&l.submitAnswer(...r)),disabled:!l.canSubmit,class:"btn-submit"},"æäº¤ç­”æ¡ˆ",8,qa),e("button",{onClick:s[6]||(s[6]=(...r)=>l.skipQuestion&&l.skipQuestion(...r)),class:"btn-skip"},"è·³è¿‡"),e("button",{onClick:s[7]||(s[7]=(...r)=>l.clearSequence&&l.clearSequence(...r)),class:"btn-clear"},"æ¸…ç©º")])])):A("",!0)])])):v.currentPhase==="feedback"?(o(),a("div",Ca,[e("div",Qa,[e("div",{class:P(["feedback-result",{correct:v.lastAnswerCorrect,incorrect:!v.lastAnswerCorrect}])},[e("div",xa,i(v.lastAnswerCorrect?"âœ…":"âŒ"),1),e("div",Ia,i(v.lastAnswerCorrect?"å›ç­”æ­£ç¡®ï¼":"å›ç­”é”™è¯¯"),1),e("div",Aa,[e("div",Da,[s[28]||(s[28]=e("span",{class:"label"},"æ­£ç¡®åºåˆ—ï¼š",-1)),e("div",Pa,[(o(!0),a(S,null,$(v.currentQuestion.sequence,(r,p)=>(o(),a("div",{key:p,class:P(["sequence-item-small",r.type]),style:I(l.getItemStyle(r))},[r.type==="color"?(o(),a("div",{key:0,class:"color-item-small",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",La,i(r.value),1)):r.type==="shape"?(o(),a("div",Oa,[e("div",{class:P(["shape-small",r.value])},null,2)])):A("",!0)],6))),128))])]),e("div",Ea,[s[29]||(s[29]=e("span",{class:"label"},"æ‚¨çš„ç­”æ¡ˆï¼š",-1)),e("div",Ba,[(o(!0),a(S,null,$(v.userSequence,(r,p)=>(o(),a("div",{key:p,class:P(["sequence-item-small",{correct:l.isItemCorrect(r,p),incorrect:!l.isItemCorrect(r,p),[r.type]:!0}]),style:I(l.getItemStyle(r))},[r.type==="color"?(o(),a("div",{key:0,class:"color-item-small",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",za,i(r.value),1)):r.type==="shape"?(o(),a("div",Fa,[e("div",{class:P(["shape-small",r.value])},null,2)])):A("",!0)],6))),128))])])]),e("div",Ra,[e("div",Na,[s[30]||(s[30]=e("span",{class:"stat-label"},"ç”¨æ—¶ï¼š",-1)),e("span",Ua,i(l.formatTime(v.lastQuestionTime)),1)]),e("div",ja,[s[31]||(s[31]=e("span",{class:"stat-label"},"å‡†ç¡®ç‡ï¼š",-1)),e("span",Ka,i(Math.round(v.correctAnswers/v.answeredQuestions*100))+"%",1)]),e("div",Va,[s[32]||(s[32]=e("span",{class:"stat-label"},"åºåˆ—é•¿åº¦ï¼š",-1)),e("span",Wa,i(v.currentQuestion.sequence.length),1)])])],2),e("div",Ja,[e("button",{onClick:s[8]||(s[8]=(...r)=>l.nextQuestion&&l.nextQuestion(...r)),class:"btn-next"},"ç»§ç»­")])])])):v.currentPhase==="results"?(o(),a("div",Ha,[e("div",Ya,[e("div",Ga,[s[38]||(s[38]=e("h2",{class:"results-title"},"åºåˆ—è®°å¿†æµ‹è¯•ç»“æœ",-1)),e("div",Xa,[e("div",{class:"score-circle",style:I({background:`conic-gradient(#007bff ${l.totalScore/100*360}deg, #e9ecef 0deg)`})},[e("div",Za,[e("div",er,i(l.totalScore),1),s[33]||(s[33]=e("div",{class:"score-label"},"æ€»åˆ†",-1))])],4)]),e("div",sr,[e("div",tr,[e("div",nr,i(Math.round(l.accuracy))+"%",1),s[34]||(s[34]=e("div",{class:"stat-title"},"å‡†ç¡®ç‡",-1))]),e("div",ir,[e("div",lr,i(l.formatTime(l.averageTime)),1),s[35]||(s[35]=e("div",{class:"stat-title"},"å¹³å‡ç”¨æ—¶",-1))]),e("div",or,[e("div",ar,i(v.answeredQuestions),1),s[36]||(s[36]=e("div",{class:"stat-title"},"å®Œæˆé¢˜æ•°",-1))]),e("div",rr,[e("div",cr,i(l.sequenceMemoryScore),1),s[37]||(s[37]=e("div",{class:"stat-title"},"åºåˆ—è®°å¿†",-1))])])]),e("div",ur,[s[48]||(s[48]=e("h3",{class:"analysis-title"},"è¯¦ç»†åˆ†æ",-1)),e("div",dr,[s[39]||(s[39]=e("h4",{class:"section-title"},"åºåˆ—ç±»å‹è¡¨ç°",-1)),e("div",vr,[(o(!0),a(S,null,$(l.typePerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",hr,i(l.getTypeLabel(p)),1),e("span",mr,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",pr,[s[40]||(s[40]=e("h4",{class:"section-title"},"éš¾åº¦è¡¨ç°",-1)),e("div",gr,[(o(!0),a(S,null,$(l.difficultyPerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",fr,i(l.getDifficultyLabel(p)),1),e("span",yr,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",_r,[s[41]||(s[41]=e("h4",{class:"section-title"},"åºåˆ—é•¿åº¦è¡¨ç°",-1)),e("div",br,[(o(!0),a(S,null,$(l.lengthPerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",kr,i(p)+"ä¸ªå…ƒç´ ",1),e("span",wr,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",Sr,[s[47]||(s[47]=e("h4",{class:"section-title"},"è®°å¿†ç»Ÿè®¡",-1)),e("div",$r,[e("div",Tr,[s[42]||(s[42]=e("span",{class:"stats-label"},"æœ€ä½³è¡¨ç°",-1)),e("span",Mr,i(l.bestPerformance.type)+" - "+i(Math.round(l.bestPerformance.accuracy))+"%",1)]),e("div",qr,[s[43]||(s[43]=e("span",{class:"stats-label"},"æœ€å¿«å›ç­”",-1)),e("span",Cr,i(l.formatTime(l.fastestTime)),1)]),e("div",Qr,[s[44]||(s[44]=e("span",{class:"stats-label"},"æœ€æ…¢å›ç­”",-1)),e("span",xr,i(l.formatTime(l.slowestTime)),1)]),e("div",Ir,[s[45]||(s[45]=e("span",{class:"stats-label"},"è¿ç»­æ­£ç¡®",-1)),e("span",Ar,i(l.maxStreak)+" é¢˜",1)]),e("div",Dr,[s[46]||(s[46]=e("span",{class:"stats-label"},"å¹³å‡åºåˆ—é•¿åº¦",-1)),e("span",Pr,i(l.averageSequenceLength.toFixed(1))+" ä¸ªå…ƒç´ ",1)])])])]),e("div",Lr,[s[49]||(s[49]=e("h3",{class:"analysis-title"},"è¡¨ç°è¯„ä»·ä¸æ”¹è¿›å»ºè®®",-1)),e("div",Or,[e("p",Er,i(l.getPerformanceEvaluation()),1),e("ul",Br,[(o(!0),a(S,null,$(l.getImprovementSuggestions(),r=>(o(),a("li",{key:r,class:"suggestion-item"},i(r),1))),128))])])]),e("div",zr,[e("button",{onClick:s[9]||(s[9]=r=>t.$emit("restart")),class:"btn-primary"},"é‡æ–°æµ‹è¯•"),e("button",{onClick:s[10]||(s[10]=r=>t.$emit("export")),class:"btn-secondary"},"å¯¼å‡ºæŠ¥å‘Š"),ze(b,{to:"/training/memory",class:"btn-secondary"},{default:Ke(()=>s[50]||(s[50]=[ke("å¼€å§‹è®­ç»ƒ",-1)])),_:1,__:[50]})])])])):A("",!0)])}const Rr=Le(Bo,[["render",Fr],["__scopeId","data-v-61bf027e"]]);const Nr={class:"memory-assessment"},Ur={key:0,class:"setup-phase"},jr={class:"setup-content"},Kr={class:"quick-settings-preview"},Vr={class:"preview-item"},Wr={class:"preview-value"},Jr={class:"preview-item"},Hr={class:"preview-value"},Yr={class:"preview-item"},Gr={class:"preview-value"},Xr={class:"settings-actions"},Zr={class:"setup-actions"},ec=["disabled"],sc={key:2,class:"testing-phase"},tc={class:"testing-header"},nc={class:"progress-section"},ic={class:"overall-progress"},lc={class:"progress-bar"},oc={class:"progress-text"},ac={class:"current-module-info"},rc={class:"module-name"},cc={class:"module-icon"},uc={key:0,class:"timer"},dc={class:"test-content"},vc={key:3,class:"results-phase"},hc={class:"results-header"},mc={class:"completion-time"},pc={class:"overall-score"},gc={class:"score-circle"},fc={class:"score-value"},yc={class:"score-level"},_c={class:"level-description"},bc={class:"ability-radar"},kc={class:"radar-container"},wc={class:"radar-chart"},Sc={class:"radar-grid"},$c={class:"radar-data"},Tc={class:"radar-legend"},Mc={class:"legend-label"},qc={class:"legend-score"},Cc={class:"module-results"},Qc={class:"results-grid"},xc={class:"result-header"},Ic={class:"result-icon"},Ac={class:"result-title"},Dc={class:"result-score"},Pc={class:"result-metrics"},Lc={class:"metric-item"},Oc={class:"metric-value"},Ec={class:"metric-item"},Bc={class:"metric-value"},zc={class:"metric-item"},Fc={class:"metric-value"},Rc={class:"result-performance"},Nc={class:"performance-bar"},Uc={class:"performance-label"},jc={key:0,class:"question-details"},Kc={class:"details-tabs"},Vc=["onClick"],Wc={class:"details-content"},Jc={class:"question-list"},Hc={class:"question-number"},Yc={class:"question-content"},Gc={class:"question-text"},Xc={class:"question-answer"},Zc={class:"user-answer"},eu={class:"correct-answer"},su={class:"question-result"},tu={class:"result-icon"},nu={class:"result-time"},iu={class:"improvement-suggestions"},lu={class:"suggestions-grid"},ou={class:"suggestion-icon"},au={class:"suggestion-content"},ru={class:"suggestion-actions"},cu=["onClick"],uu={class:"results-actions"},du={__name:"MemoryAssessment",setup(t){const s=ns(),{settings:d,showSettingsModal:w,openSettings:v,closeSettings:l,saveSettings:b,resetSettings:r}=rs("memory"),p=y("setup"),L=y(0),_=y([]),z=y(0),W=y(null),R=y(!1),j=y(""),X=y({}),U=[{key:"number",name:"æ•°å­—è®°å¿†",description:"æµ‹è¯•å¯¹æ•°å­—åºåˆ—çš„è®°å¿†èƒ½åŠ›",icon:"ğŸ”¢",questionCount:15,duration:8,component:"NumberMemoryTest"},{key:"image",name:"å›¾åƒè®°å¿†",description:"æµ‹è¯•å¯¹å›¾åƒå†…å®¹çš„è®°å¿†èƒ½åŠ›",icon:"ğŸ–¼ï¸",questionCount:12,duration:10,component:"ImageMemoryTest"},{key:"word",name:"å•è¯è®°å¿†",description:"æµ‹è¯•å¯¹è¯æ±‡çš„è®°å¿†èƒ½åŠ›",icon:"ğŸ“",questionCount:20,duration:12,component:"WordMemoryTest"},{key:"sequence",name:"åºåˆ—è®°å¿†",description:"æµ‹è¯•å¯¹åºåˆ—æ¨¡å¼çš„è®°å¿†èƒ½åŠ›",icon:"ğŸ”—",questionCount:10,duration:6,component:"SequenceMemoryTest"}],D=y([{key:"number",name:"æ•°å­—è®°å¿†",score:0,color:"#007bff"},{key:"image",name:"å›¾åƒè®°å¿†",score:0,color:"#28a745"},{key:"word",name:"å•è¯è®°å¿†",score:0,color:"#ffc107"},{key:"sequence",name:"åºåˆ—è®°å¿†",score:0,color:"#dc3545"}]),x=[{value:"easy",label:"ç®€å•",description:"é€‚åˆåˆå­¦è€…"},{value:"medium",label:"ä¸­ç­‰",description:"é€‚åˆæœ‰ä¸€å®šåŸºç¡€çš„ç”¨æˆ·"},{value:"hard",label:"å›°éš¾",description:"é€‚åˆé«˜çº§ç”¨æˆ·æŒ‘æˆ˜"}],C=[{value:"comprehensive",label:"ç»¼åˆæµ‹è¯„",description:"å…¨é¢è¯„ä¼°è®°å¿†èƒ½åŠ›"},{value:"quick",label:"å¿«é€Ÿæµ‹è¯„",description:"å¿«é€Ÿäº†è§£è®°å¿†æ°´å¹³"},{value:"detailed",label:"è¯¦ç»†æµ‹è¯„",description:"æ·±å…¥åˆ†æè®°å¿†è¡¨ç°"}],Q=T(()=>{var n;return(n=d.value.selectedModules)!=null&&n.length?d.value.selectedModules.map(u=>{const k=U.find(F=>F.key===u);return(k==null?void 0:k.name)||u}).join("ã€"):"æœªé€‰æ‹©"}),ee=T(()=>{const n=x.find(u=>u.value===d.value.difficulty);return(n==null?void 0:n.label)||"ä¸­ç­‰"}),ae=T(()=>{var n;return(n=d.value.selectedModules)!=null&&n.length?d.value.selectedModules.reduce((u,k)=>{const F=U.find(N=>N.key===k);return u+((F==null?void 0:F.duration)||0)},0):0}),ne=T(()=>{var n;return((n=d.value.selectedModules)==null?void 0:n.length)>0}),de=T(()=>{var n;return(n=d.value.selectedModules)!=null&&n.length?L.value/d.value.selectedModules.length*100:0}),ie=T(()=>{var u;if(L.value>=((u=d.value.selectedModules)==null?void 0:u.length))return null;const n=d.value.selectedModules[L.value];return U.find(k=>k.key===n)}),re=T(()=>{var u;return{number:zt,image:Ui,word:Eo,sequence:Rr}[(u=ie.value)==null?void 0:u.key]||null}),E=T(()=>{const n=_.value.find(u=>u.moduleKey==="number");return(n==null?void 0:n.score)||0}),Z=T(()=>{const n=_.value.find(u=>u.moduleKey==="image");return(n==null?void 0:n.score)||0}),se=T(()=>{const n=_.value.find(u=>u.moduleKey==="word");return(n==null?void 0:n.score)||0}),K=T(()=>{const n=_.value.find(u=>u.moduleKey==="sequence");return(n==null?void 0:n.score)||0}),J=T(()=>[{name:"æ•°å­—è®°å¿†",score:E.value,color:"#007bff"},{name:"å›¾åƒè®°å¿†",score:Z.value,color:"#28a745"},{name:"å•è¯è®°å¿†",score:se.value,color:"#ffc107"},{name:"åºåˆ—è®°å¿†",score:K.value,color:"#dc3545"}]),H=T(()=>_.value.reduce((n,u)=>n+(u.totalQuestions||0),0)),ve=T(()=>_.value.reduce((n,u)=>n+(u.correctAnswers||0),0));T(()=>H.value===0?0:Math.round(ve.value/H.value*100)),T(()=>{if(_.value.length===0)return 0;const n=_.value.reduce((u,k)=>u+(k.averageTime||0),0);return Math.round(n/_.value.length)});const Y=T(()=>{if(_.value.length===0)return 0;const n=_.value.reduce((u,k)=>u+k.score,0);return Math.round(n/_.value.length)}),Me=T(()=>{const n=[];return Y.value<60&&n.push({type:"overall",priority:"high",icon:"ğŸ¯",title:"åŠ å¼ºåŸºç¡€è®°å¿†è®­ç»ƒ",description:"æ‚¨çš„æ•´ä½“è®°å¿†èƒ½åŠ›æœ‰è¾ƒå¤§æå‡ç©ºé—´ï¼Œå»ºè®®ä»åŸºç¡€è®°å¿†è®­ç»ƒå¼€å§‹ã€‚",actions:[{label:"å¼€å§‹åŸºç¡€è®­ç»ƒ",action:"basic-training"},{label:"æŸ¥çœ‹è®­ç»ƒè®¡åˆ’",action:"training-plan"}]}),_.value.forEach(u=>{if(u.score<70){const k=me(u.moduleKey);n.push({type:u.moduleKey,priority:"medium",icon:pe(u.moduleKey),title:`æå‡${k}èƒ½åŠ›`,description:`æ‚¨åœ¨${k}æ–¹é¢çš„è¡¨ç°éœ€è¦åŠ å¼ºï¼Œå»ºè®®è¿›è¡Œé’ˆå¯¹æ€§è®­ç»ƒã€‚`,actions:[{label:"ä¸“é¡¹è®­ç»ƒ",action:`${u.moduleKey}-training`},{label:"å­¦ä¹ æŠ€å·§",action:`${u.moduleKey}-tips`}]})}}),n.push({type:"general",priority:"low",icon:"ğŸ’¡",title:"ä¿æŒè§„å¾‹ç»ƒä¹ ",description:"è®°å¿†èƒ½åŠ›éœ€è¦æŒç»­ç»ƒä¹ æ¥ç»´æŒå’Œæå‡ï¼Œå»ºè®®åˆ¶å®šè§„å¾‹çš„è®­ç»ƒè®¡åˆ’ã€‚",actions:[{label:"åˆ¶å®šè®¡åˆ’",action:"create-plan"},{label:"è®¾ç½®æé†’",action:"set-reminder"}]}),n}),we=()=>{ne.value&&(p.value="testing",L.value=0,_.value=[],z.value=0,X.value={difficulty:d.value.difficulty,mode:d.value.mode,enableHints:d.value.enableHints,enableFeedback:d.value.enableFeedback,enableProgress:d.value.enableProgress},ce())},ce=()=>{const n=Date.now();W.value=setInterval(()=>{z.value=Math.floor((Date.now()-n)/1e3)},1e3)},te=()=>{W.value&&(clearInterval(W.value),W.value=null)},qe=n=>{const u=d.value.selectedModules[L.value];_.value.push({moduleKey:u,...n}),L.value++,L.value>=d.value.selectedModules.length&&Se()},he=n=>{console.log("Test progress:",n)},Se=()=>{p.value="results",te();const n={type:"memory",timestamp:new Date().toISOString(),settings:{...X.value},results:_.value,overallScore:Y.value,totalTime:z.value,abilityScores:J.value},u=JSON.parse(localStorage.getItem("memoryAssessmentResults")||"[]");u.push(n),localStorage.setItem("memoryAssessmentResults",JSON.stringify(u)),_.value.length>0&&(j.value=_.value[0].moduleKey)},me=n=>{const u=U.find(k=>k.key===n);return(u==null?void 0:u.name)||"æœªçŸ¥æ¨¡å—"},pe=n=>{const u=U.find(k=>k.key===n);return(u==null?void 0:u.icon)||"â“"},ge=n=>n>=90?{class:"excellent",label:"ä¼˜ç§€",description:"æ‚¨çš„è®°å¿†èƒ½åŠ›éå¸¸å‡ºè‰²ï¼"}:n>=80?{class:"good",label:"è‰¯å¥½",description:"æ‚¨çš„è®°å¿†èƒ½åŠ›è¡¨ç°è‰¯å¥½ã€‚"}:n>=70?{class:"average",label:"ä¸€èˆ¬",description:"æ‚¨çš„è®°å¿†èƒ½åŠ›å¤„äºå¹³å‡æ°´å¹³ã€‚"}:n>=60?{class:"below-average",label:"åä½",description:"æ‚¨çš„è®°å¿†èƒ½åŠ›æœ‰æå‡ç©ºé—´ã€‚"}:{class:"poor",label:"è¾ƒå·®",description:"å»ºè®®åŠ å¼ºè®°å¿†è®­ç»ƒã€‚"},fe=n=>n>=90?"excellent":n>=80?"good":n>=70?"average":n>=60?"below-average":"poor",Ce=n=>n>=90?"ä¼˜ç§€":n>=80?"è‰¯å¥½":n>=70?"ä¸€èˆ¬":n>=60?"åä½":"è¾ƒå·®",$e=n=>n?n.toLocaleString("zh-CN"):"",le=()=>{p.value="setup",L.value=0,_.value=[],z.value=0,R.value=!1,te()},Qe=()=>{const n={type:"memory-assessment",timestamp:new Date().toISOString(),overallScore:Y.value,moduleResults:_.value,settings:X.value},u=JSON.stringify(n,null,2),k=new Blob([u],{type:"application/json"}),F=URL.createObjectURL(k),N=document.createElement("a");N.href=F,N.download=`è®°å¿†èƒ½åŠ›æµ‹è¯„æŠ¥å‘Š_${new Date().toLocaleDateString()}.json`,N.click(),URL.revokeObjectURL(F),console.log("å¯¼å‡ºè®°å¿†èƒ½åŠ›æµ‹è¯„æŠ¥å‘Š")},xe=()=>{le()},Ie=()=>{s.push("/training/memory")},Ae=()=>{R.value=!R.value},g=n=>{console.log("æ‰§è¡Œå»ºè®®æ“ä½œ:",n)};return Oe(()=>{}),Ee(()=>{te()}),(n,u)=>{var k,F,N;return o(),a("div",Nr,[p.value==="setup"?(o(),a("div",Ur,[e("div",jr,[u[3]||(u[3]=e("h2",null,"è®°å¿†èƒ½åŠ›æµ‹è¯„",-1)),u[4]||(u[4]=e("p",{class:"assessment-description"}," å…¨é¢è¯„ä¼°æ‚¨çš„è®°å¿†èƒ½åŠ›ï¼ŒåŒ…æ‹¬æ•°å­—è®°å¿†ã€å›¾åƒè®°å¿†ã€å•è¯è®°å¿†å’Œåºåˆ—è®°å¿†ç­‰å¤šä¸ªç»´åº¦ã€‚ ",-1)),e("div",Kr,[e("div",Vr,[u[0]||(u[0]=e("span",{class:"preview-label"},"å·²é€‰æ¨¡å—:",-1)),e("span",Wr,i(Q.value),1)]),e("div",Jr,[u[1]||(u[1]=e("span",{class:"preview-label"},"éš¾åº¦ç­‰çº§:",-1)),e("span",Hr,i(ee.value),1)]),e("div",Yr,[u[2]||(u[2]=e("span",{class:"preview-label"},"é¢„è®¡æ—¶é•¿:",-1)),e("span",Gr,i(ae.value)+"åˆ†é’Ÿ",1)])]),e("div",Xr,[ze(os,{text:"é…ç½®æµ‹è¯„å‚æ•°",onClick:ue(v)},null,8,["onClick"])]),e("div",Zr,[e("button",{onClick:we,disabled:!ne.value,class:"btn-start"}," å¼€å§‹æµ‹è¯„ ",8,ec)])])])):A("",!0),ue(w)?(o(),Re(as,{key:1,visible:ue(w),title:"è®°å¿†èƒ½åŠ›æµ‹è¯„è®¾ç½®",settings:ue(d),"available-modules":U,"difficulty-levels":x,"assessment-modes":C,onClose:ue(l),onSave:ue(b),onReset:ue(r)},null,8,["visible","settings","onClose","onSave","onReset"])):A("",!0),p.value==="testing"?(o(),a("div",sc,[e("div",tc,[e("div",nc,[u[5]||(u[5]=e("h3",null,"è®°å¿†èƒ½åŠ›æµ‹è¯„è¿›è¡Œä¸­",-1)),e("div",ic,[e("div",lc,[e("div",{class:"progress-fill",style:I({width:de.value+"%"})},null,4)]),e("span",oc,i(L.value+1)+" / "+i(((k=ue(d).selectedModules)==null?void 0:k.length)||0),1)])]),e("div",ac,[e("div",rc,[e("span",cc,i((F=ie.value)==null?void 0:F.icon),1),e("span",null,i((N=ie.value)==null?void 0:N.name),1)]),ue(d).enableProgress?(o(),a("div",uc,[u[6]||(u[6]=e("span",{class:"timer-icon"},"â±ï¸",-1)),e("span",null,i(n.formatTime(z.value)),1)])):A("",!0)])]),e("div",dc,[(o(),Re(is(re.value),{difficulty:n.selectedDifficulty,"enable-hints":n.enableHints,"enable-feedback":n.enableFeedback,"assessment-mode":n.assessmentMode,onTestComplete:qe,onTestProgress:he},null,40,["difficulty","enable-hints","enable-feedback","assessment-mode"]))])])):A("",!0),p.value==="results"?(o(),a("div",vc,[e("div",hc,[u[7]||(u[7]=e("h2",null,"è®°å¿†èƒ½åŠ›æµ‹è¯„æŠ¥å‘Š",-1)),e("p",mc,"å®Œæˆæ—¶é—´: "+i($e(n.completionTime)),1)]),e("div",pc,[e("div",gc,[e("div",fc,i(Y.value),1),u[8]||(u[8]=e("div",{class:"score-label"},"ç»¼åˆå¾—åˆ†",-1))]),e("div",yc,[e("div",{class:P(["level-badge",ge(Y.value).class])},i(ge(Y.value).label),3),e("p",_c,i(ge(Y.value).description),1)])]),e("div",bc,[u[9]||(u[9]=e("h3",null,"è®°å¿†èƒ½åŠ›åˆ†æ",-1)),e("div",kc,[e("div",wc,[e("div",Sc,[(o(!0),a(S,null,$(D.value,(q,B)=>(o(),a("div",{class:"radar-axis",key:q.key},[e("div",{class:"axis-line",style:I({transform:`rotate(${B*(360/D.value.length)}deg)`})},null,4),e("div",{class:"axis-label",style:I({transform:`rotate(${B*(360/D.value.length)}deg) translate(120px) rotate(-${B*(360/D.value.length)}deg)`})},i(q.name),5)]))),128))]),e("div",$c,[(o(!0),a(S,null,$(D.value,(q,B)=>(o(),a("div",{key:q.key,class:"data-point",style:I({transform:`rotate(${B*(360/D.value.length)}deg) translate(${q.score}px)`,backgroundColor:q.color})},null,4))),128))])]),e("div",Tc,[(o(!0),a(S,null,$(D.value,q=>(o(),a("div",{key:q.key,class:"legend-item"},[e("div",{class:"legend-color",style:I({backgroundColor:q.color})},null,4),e("span",Mc,i(q.name),1),e("span",qc,i(q.score),1)]))),128))])])]),e("div",Cc,[u[13]||(u[13]=e("h3",null,"æ¨¡å—è¯¦ç»†ç»“æœ",-1)),e("div",Qc,[(o(!0),a(S,null,$(_.value,q=>(o(),a("div",{key:q.moduleKey,class:"result-card"},[e("div",xc,[e("div",Ic,i(pe(q.moduleKey)),1),e("div",Ac,[e("h4",null,i(me(q.moduleKey)),1),e("div",Dc,i(q.score)+"åˆ†",1)])]),e("div",Pc,[e("div",Lc,[u[10]||(u[10]=e("span",{class:"metric-label"},"å‡†ç¡®ç‡",-1)),e("span",Oc,i(q.accuracy)+"%",1)]),e("div",Ec,[u[11]||(u[11]=e("span",{class:"metric-label"},"å¹³å‡ç”¨æ—¶",-1)),e("span",Bc,i(q.averageTime)+"s",1)]),e("div",zc,[u[12]||(u[12]=e("span",{class:"metric-label"},"å®Œæˆé¢˜æ•°",-1)),e("span",Fc,i(q.completedQuestions),1)])]),e("div",Rc,[e("div",Nc,[e("div",{class:P(["performance-fill",fe(q.score)]),style:I({width:q.score+"%"})},null,6)]),e("div",Uc,i(Ce(q.score)),1)])]))),128))])]),R.value?(o(),a("div",jc,[u[14]||(u[14]=e("h3",null,"é¢˜ç›®è¯¦æƒ…",-1)),e("div",Kc,[(o(!0),a(S,null,$(_.value,q=>(o(),a("button",{key:q.moduleKey,class:P(["tab-button",{active:j.value===q.moduleKey}]),onClick:B=>j.value=q.moduleKey},i(me(q.moduleKey)),11,Vc))),128))]),e("div",Wc,[(o(!0),a(S,null,$(_.value,q=>V((o(),a("div",{key:q.moduleKey,class:"detail-panel"},[e("div",Jc,[(o(!0),a(S,null,$(q.questions,(B,De)=>(o(),a("div",{key:De,class:P(["question-item",{correct:B.isCorrect,incorrect:!B.isCorrect}])},[e("div",Hc,i(De+1),1),e("div",Yc,[e("div",Gc,i(B.question),1),e("div",Xc,[e("span",Zc,"æ‚¨çš„ç­”æ¡ˆ: "+i(B.userAnswer||"æœªä½œç­”"),1),e("span",eu,"æ­£ç¡®ç­”æ¡ˆ: "+i(B.correctAnswer),1)])]),e("div",su,[e("div",tu,i(B.isCorrect?"âœ…":"âŒ"),1),e("div",nu,i(B.timeSpent)+"s",1)])],2))),128))])])),[[ls,j.value===q.moduleKey]])),128))])])):A("",!0),e("div",iu,[u[15]||(u[15]=e("h3",null,"æ”¹è¿›å»ºè®®",-1)),e("div",lu,[(o(!0),a(S,null,$(Me.value,q=>(o(),a("div",{key:q.type,class:P(["suggestion-card",q.priority])},[e("div",ou,i(q.icon),1),e("div",au,[e("h4",null,i(q.title),1),e("p",null,i(q.description),1),e("div",ru,[(o(!0),a(S,null,$(q.actions,B=>(o(),a("button",{key:B.label,onClick:De=>g(B),class:"suggestion-action"},i(B.label),9,cu))),128))])])],2))),128))])]),e("div",uu,[e("button",{onClick:Qe,class:"btn-export"},u[16]||(u[16]=[e("span",{class:"btn-icon"},"ğŸ“Š",-1),ke(" å¯¼å‡ºæŠ¥å‘Š ",-1)])),e("button",{onClick:xe,class:"btn-retake"},u[17]||(u[17]=[e("span",{class:"btn-icon"},"ğŸ”„",-1),ke(" é‡æ–°æµ‹è¯„ ",-1)])),e("button",{onClick:Ie,class:"btn-training"},u[18]||(u[18]=[e("span",{class:"btn-icon"},"ğŸ¯",-1),ke(" å‰å¾€è®­ç»ƒ ",-1)])),e("button",{onClick:Ae,class:"btn-details"},[u[19]||(u[19]=e("span",{class:"btn-icon"},"ğŸ“‹",-1)),ke(" "+i(R.value?"éšè—":"æ˜¾ç¤º")+"é¢˜ç›®è¯¦æƒ… ",1)])])])):A("",!0)])}}},gu=Le(du,[["__scopeId","data-v-02f1d83d"]]);export{gu as default};
