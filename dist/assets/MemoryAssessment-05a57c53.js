import{i as y,k as Oe,A as Ee,c as T,o,a,b as e,d as Ue,p as V,z as G,g as A,t as i,m as I,F as S,h as $,v as es,E as ss,n as P,q as ts,r as je,f as ke,e as ze,w as Ke,s as ns,O as ue,y as Re,N as is,K as ls}from"./index-e0b54b24.js";import{s as be,b as Te,c as Ne,a as os,S as as}from"./configService-cad34a82.js";import{_ as Le}from"./_plugin-vue_export-helper-c27b6911.js";function rs(t){const s={attention:{selectedModules:["sustained","selective","divided","executive"],difficulty:"medium",mode:"comprehensive",soundEnabled:!0,progressHints:!0,autoSave:!0,breakInterval:5,timeLimit:"normal",feedbackMode:"immediate"},memory:{selectedModules:["number","image","word","sequence"],difficulty:"medium",mode:"comprehensive",enableHints:!0,enableFeedback:!0,enableProgress:!0,questionCount:20,timeLimit:600,adaptiveDifficulty:!1},calculation:{selectedModules:["arithmetic","logic","sequence","mental"],difficulty:"medium",questionCount:20,timeLimit:600,showHints:!0,enableFeedback:!0,adaptiveDifficulty:!1},thinking:{selectedModules:["logical","creative","critical","problem"],difficulty:"medium",mode:"comprehensive",timeLimit:"normal",questionOrder:"sequential",feedbackMode:"delayed",hintMode:"limited"},comprehensive:{selectedModules:["logical","memory","processing","attention","verbal"],difficulty:"medium",duration:30,adaptiveDifficulty:!0,detailedFeedback:!0,timeWarning:!0}},d={attention:[{value:"easy",name:"简单",icon:"🟢",description:"基础注意力训练，适合初学者"},{value:"medium",name:"中等",icon:"🟡",description:"标准难度，适合大多数人"},{value:"hard",name:"困难",icon:"🟠",description:"高难度训练，需要较强基础"},{value:"expert",name:"专家",icon:"🔴",description:"专家级别，极具挑战性"}],memory:[{value:"easy",name:"简单",description:"基础记忆测试"},{value:"medium",name:"中等",description:"标准记忆测试"},{value:"hard",name:"困难",description:"高难度记忆测试"},{value:"adaptive",name:"自适应",description:"根据表现调整难度"}],calculation:[{value:"easy",name:"简单",icon:"🟢",description:"基础计算，适合初学者"},{value:"medium",name:"中等",icon:"🟡",description:"中等难度，适合大多数人"},{value:"hard",name:"困难",icon:"🟠",description:"高难度计算，需要较强基础"},{value:"expert",name:"专家",icon:"🔴",description:"专家级别，极具挑战性"}],thinking:[{value:"easy",name:"简单",description:"基础题目，适合初学者"},{value:"medium",name:"中等",description:"标准难度，适合大多数人"},{value:"hard",name:"困难",description:"挑战性题目，适合高水平用户"},{value:"expert",name:"专家",description:"极具挑战性，适合专业人士"}],comprehensive:[{value:"easy",name:"简单",description:"适合初学者，题目相对简单，时间充裕"},{value:"medium",name:"中等",description:"适合一般用户，难度适中，时间合理"},{value:"hard",name:"困难",description:"适合高水平用户，题目复杂，时间紧张"},{value:"expert",name:"专家",description:"适合专业人士，极具挑战性"}]},w={attention:[{id:"sustained",name:"持续注意力",icon:"⏱️",description:"测试长时间保持注意力的能力",duration:8,questions:20},{id:"selective",name:"选择性注意力",icon:"🎯",description:"测试在干扰中选择目标的能力",duration:6,questions:15},{id:"divided",name:"分配性注意力",icon:"🔄",description:"测试同时处理多个任务的能力",duration:10,questions:25},{id:"executive",name:"执行注意力",icon:"🧠",description:"测试注意力控制和调节能力",duration:12,questions:30}],memory:[{key:"number",name:"数字记忆",icon:"🔢",description:"测试数字序列记忆能力",questionCount:15,duration:8},{key:"image",name:"图像记忆",icon:"🖼️",description:"测试视觉图像记忆能力",questionCount:12,duration:10},{key:"word",name:"单词记忆",icon:"📝",description:"测试词汇记忆能力",questionCount:20,duration:12},{key:"sequence",name:"序列记忆",icon:"🔗",description:"测试序列顺序记忆能力",questionCount:18,duration:15}],calculation:[{key:"arithmetic",name:"基础运算",icon:"➕",description:"加减乘除等基础数学运算",estimatedTime:5},{key:"logic",name:"逻辑推理",icon:"🧠",description:"数学逻辑和推理能力测试",estimatedTime:8},{key:"sequence",name:"数字序列",icon:"🔢",description:"数字规律识别和序列推理",estimatedTime:6},{key:"mental",name:"心算能力",icon:"⚡",description:"快速心算和数字处理能力",estimatedTime:7}],thinking:[{id:"logical",name:"逻辑思维测试",description:"评估逻辑推理、演绎归纳能力",icon:"🧠",duration:15},{id:"creative",name:"创造思维测试",description:"评估创新思维、发散思维能力",icon:"💡",duration:20},{id:"critical",name:"批判思维测试",description:"评估分析判断、质疑评价能力",icon:"🔍",duration:18},{id:"problem",name:"问题解决测试",description:"评估问题分析、解决策略能力",icon:"🎯",duration:25}],comprehensive:[{id:"logical",name:"逻辑推理",icon:"🧩",estimatedTime:8},{id:"memory",name:"工作记忆",icon:"🧠",estimatedTime:6},{id:"processing",name:"处理速度",icon:"⚡",estimatedTime:5},{id:"attention",name:"注意力",icon:"👁️",estimatedTime:7},{id:"verbal",name:"语言理解",icon:"📝",estimatedTime:9}]},v={attention:[{value:"quick",name:"快速测评",icon:"⚡",description:"15分钟快速评估"},{value:"standard",name:"标准测评",icon:"📊",description:"30分钟全面评估"},{value:"comprehensive",name:"综合测评",icon:"🎯",description:"45分钟深度评估"},{value:"adaptive",name:"自适应测评",icon:"🔄",description:"根据表现调整难度"}],memory:[{value:"comprehensive",name:"综合测评",description:"全面评估各项记忆能力"},{value:"quick",name:"快速测评",description:"快速评估核心记忆能力"},{value:"detailed",name:"详细测评",description:"深入评估特定记忆类型"}],thinking:[{value:"comprehensive",name:"综合测评",description:"全面评估各项思维能力"},{value:"focused",name:"专项测评",description:"重点评估特定思维能力"},{value:"adaptive",name:"自适应测评",description:"根据表现动态调整难度"}]},l=y({...s[t]||{}}),b=y(!0),r=y(null);let p=null;const L=async()=>{try{b.value=!0,r.value=null;const D=await be.getSettings(Te.ABILITY_TEST,t,s[t]||{});l.value={...s[t],...D},p=be.addListener(Te.ABILITY_TEST,_)}catch(D){console.error("初始化设置失败:",D),r.value=D.message,l.value={...s[t]||{}}}finally{b.value=!1}},_=({category:D,key:x,value:C})=>{D===Te.ABILITY_TEST&&x===t&&(l.value={...l.value,...C})},z=async(D,x={})=>{try{const C={...l.value,...D};l.value=C,await be.saveSettings(Te.ABILITY_TEST,t,C,{immediate:x.immediate||!1,backup:x.backup!==!1,notify:x.notify!==!1}),Ne.setConfig(`abilityTest.${t}`,C)}catch(C){throw console.error("更新设置失败:",C),r.value=C.message,C}},W=async(D={})=>{try{const x={...s[t]||{}};l.value=x,await be.resetSettings(Te.ABILITY_TEST,t),await be.saveSettings(Te.ABILITY_TEST,t,x,{immediate:!0,backup:D.backup!==!1}),Ne.setConfig(`abilityTest.${t}`,x)}catch(x){throw console.error("重置设置失败:",x),r.value=x.message,x}},R=async()=>{try{return await be.exportAllSettings()}catch(D){throw console.error("导出设置失败:",D),D}},j=async(D,x={})=>{try{await be.importSettings(D,x),await L()}catch(C){throw console.error("导入设置失败:",C),C}};Oe(()=>{L()}),Ee(()=>{p&&p()});const X=T(()=>{const D=[];D.push({title:"基础设置",settings:[{key:"difficulty",label:"难度等级",type:"select",value:l.value.difficulty,options:d[t]||[],description:"选择适合您水平的测试难度"}]}),w[t]&&D.push({title:"测试模块",settings:[{key:"selectedModules",label:"选择模块",type:"multiSelect",value:l.value.selectedModules,options:w[t],description:"选择要进行的测试模块"}]}),v[t]&&D[0].settings.push({key:"mode",label:"测评模式",type:"select",value:l.value.mode,options:v[t],description:"选择测评的详细程度"});const x=[];l.value.hasOwnProperty("questionCount")&&x.push({key:"questionCount",label:"题目数量",type:"select",value:l.value.questionCount,options:[{value:10,label:"10题 (快速测评)"},{value:20,label:"20题 (标准测评)"},{value:30,label:"30题 (深度测评)"}],description:"选择测试题目数量"}),l.value.hasOwnProperty("timeLimit")&&x.push({key:"timeLimit",label:"时间限制",type:"select",value:l.value.timeLimit,options:[{value:300,label:"5分钟"},{value:600,label:"10分钟"},{value:900,label:"15分钟"},{value:0,label:"无限制"}],description:"设置测试时间限制"}),l.value.hasOwnProperty("duration")&&x.push({key:"duration",label:"测试时长",type:"slider",value:l.value.duration,min:15,max:60,step:5,unit:"分钟",description:"设置总测试时长"});const C=[];if(l.value.hasOwnProperty("soundEnabled")&&C.push({key:"soundEnabled",label:"音效提示",type:"toggle",value:l.value.soundEnabled,description:"启用测试过程中的音效提示"}),l.value.hasOwnProperty("enableHints")||l.value.hasOwnProperty("showHints")){const Q=l.value.hasOwnProperty("enableHints")?"enableHints":"showHints";C.push({key:Q,label:"提示功能",type:"toggle",value:l.value[Q],description:"在困难题目中显示解题提示"})}if(l.value.hasOwnProperty("enableFeedback")&&C.push({key:"enableFeedback",label:"即时反馈",type:"toggle",value:l.value.enableFeedback,description:"显示答题后的即时反馈"}),l.value.hasOwnProperty("progressHints")||l.value.hasOwnProperty("enableProgress")){const Q=l.value.hasOwnProperty("progressHints")?"progressHints":"enableProgress";C.push({key:Q,label:"进度提示",type:"toggle",value:l.value[Q],description:"显示测试进度信息"})}return l.value.hasOwnProperty("autoSave")&&C.push({key:"autoSave",label:"自动保存",type:"toggle",value:l.value.autoSave,description:"自动保存测试结果"}),l.value.hasOwnProperty("adaptiveDifficulty")&&C.push({key:"adaptiveDifficulty",label:"自适应难度",type:"toggle",value:l.value.adaptiveDifficulty,description:"根据表现自动调整难度"}),l.value.hasOwnProperty("detailedFeedback")&&C.push({key:"detailedFeedback",label:"详细反馈",type:"toggle",value:l.value.detailedFeedback,description:"提供详细的能力分析反馈"}),l.value.hasOwnProperty("timeWarning")&&C.push({key:"timeWarning",label:"时间警告",type:"toggle",value:l.value.timeWarning,description:"在时间不足时显示警告"}),x.length>0&&D.push({title:"个性化设置",settings:x}),C.length>0&&D.push({title:"功能设置",settings:C}),D}),U=T(()=>!w[t]||!l.value.selectedModules?l.value.duration||30:w[t].filter(x=>l.value.selectedModules.includes(x.id||x.key)).reduce((x,C)=>x+(C.duration||C.estimatedTime||5),0));return{settings:l,isLoading:b,error:r,updateSettings:z,resetSettings:W,exportSettings:R,importSettings:j,settingsSections:X,estimatedDuration:U,difficultyLevels:d[t]||[],testModules:w[t]||[],assessmentModes:v[t]||[]}}const cs={class:"number-memory-test"},us={key:0,class:"instruction-phase"},ds={class:"instruction-content"},vs={class:"test-settings"},hs={class:"setting-group"},ms={class:"setting-group"},ps={key:1,class:"testing-phase"},gs={class:"test-header"},fs={class:"test-info"},ys={class:"test-stats"},_s={class:"current-question"},bs={class:"score"},ks={class:"accuracy"},ws={class:"progress-bar"},Ss={key:0,class:"display-phase"},$s={class:"display-container"},Ts={class:"number-display"},Ms={class:"countdown-timer"},qs={class:"timer-circle"},Cs={class:"timer-text"},Qs={key:1,class:"input-phase"},xs={class:"input-container"},Is={class:"input-display"},As=["maxlength"],Ds={key:0,class:"input-hints"},Ps={class:"hint-item"},Ls={class:"hint-item"},Os={class:"input-actions"},Es=["disabled"],Bs={key:2,class:"feedback-phase"},zs={class:"feedback-container"},Fs={class:"feedback-icon"},Rs={class:"feedback-text"},Ns={class:"feedback-title"},Us={class:"feedback-details"},js={class:"answer-comparison"},Ks={class:"correct-sequence"},Vs={class:"sequence-display"},Ws={key:0,class:"user-sequence"},Js={class:"sequence-display"},Hs={class:"feedback-stats"},Ys={class:"stat-item"},Gs={class:"stat-value"},Xs={class:"stat-item"},Zs={class:"stat-value"},et={key:2,class:"results-phase"},st={class:"overall-results"},tt={class:"result-card"},nt={class:"result-value"},it={class:"result-card"},lt={class:"result-value"},ot={class:"result-card"},at={class:"result-value"},rt={class:"result-card"},ct={class:"result-value"},ut={class:"detailed-analysis"},dt={class:"analysis-grid"},vt={class:"analysis-item"},ht={class:"difficulty-chart"},mt={class:"difficulty-label"},pt={class:"bar-container"},gt={class:"accuracy-value"},ft={class:"analysis-item"},yt={class:"length-chart"},_t={class:"length-label"},bt={class:"bar-container"},kt={class:"accuracy-value"},wt={class:"analysis-item"},St={class:"memory-stats"},$t={class:"stat-row"},Tt={class:"stat-value"},Mt={class:"stat-row"},qt={class:"stat-value"},Ct={class:"stat-row"},Qt={class:"stat-value"},xt={class:"stat-row"},It={class:"stat-value"},At={class:"performance-feedback"},Dt={class:"feedback-icon"},Pt={class:"feedback-text"},Lt={class:"feedback-title"},Ot={class:"feedback-description"},Et={class:"improvement-suggestions"},Bt={__name:"NumberMemoryTest",props:{difficulty:{type:String,default:"medium"},enableHints:{type:Boolean,default:!0},enableFeedback:{type:Boolean,default:!0},assessmentMode:{type:String,default:"comprehensive"}},emits:["test-complete","test-progress"],setup(t,{emit:s}){const d=t,w=s,v=y("instruction"),l=y(d.difficulty),b=y(2e3),r=y("display"),p=y(0),L=y(15),_=y([]),z=y(""),W=y([]),R=y(!1),j=y(0),X=y(0),U=y(0),D=y(null),x=y(2e3),C=y(2e3),Q=y([]),ee=y(null),ae=y(null),ne=y(!1),de=[{key:"easy",label:"简单",minLength:3,maxLength:5},{key:"medium",label:"中等",minLength:6,maxLength:8},{key:"hard",label:"困难",minLength:9,maxLength:12}],ie=T(()=>{const g=[];for(let n=3;n<=12;n++)g.push(n);return g}),re=T(()=>p.value/L.value*100),E=T(()=>{if(Q.value.length===0)return 100;const g=Q.value.filter(n=>n.isCorrect).length;return Math.round(g/Q.value.length*100)}),Z=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.filter(n=>n.isCorrect).length;return Math.round(g/Q.value.length*100)}),se=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.reduce((n,u)=>n+u.timeSpent,0);return Math.round(g/Q.value.length*10)/10}),K=T(()=>Q.value.reduce((g,n)=>g+n.score,0)),J=T(()=>{const g=Z.value,n=Math.max(0,100-se.value*10),u=H.value*5;return Math.round(g*.6+n*.2+u*.2)}),H=T(()=>{const g=Q.value.filter(n=>n.isCorrect);return g.length===0?0:Math.max(...g.map(n=>n.sequenceLength))}),ve=T(()=>{let g=0,n=0;for(const u of Q.value)u.isCorrect?(n++,g=Math.max(g,n)):n=0;return g}),Y=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.filter(n=>n.isCorrect).length;return Math.round(g/Q.value.length*100)}),Me=T(()=>{if(Q.value.length===0)return 0;const g=Q.value.filter(n=>n.partialScore>0&&!n.isCorrect).length;return Math.round(g/Q.value.length*100)}),we=T(()=>{const g=[],n=Z.value,u=se.value;return n>=90?g.push({type:"accuracy",level:"excellent",icon:"🎯",title:"记忆准确率优秀",description:"您的数字记忆准确率非常高，记忆能力出色。"}):n>=75?g.push({type:"accuracy",level:"good",icon:"👍",title:"记忆准确率良好",description:"您的数字记忆准确率良好，继续保持。"}):n>=60?g.push({type:"accuracy",level:"average",icon:"📈",title:"记忆准确率一般",description:"您的数字记忆准确率有提升空间，建议多练习。"}):g.push({type:"accuracy",level:"poor",icon:"📚",title:"需要加强练习",description:"建议从短序列开始练习，逐步提升记忆能力。"}),u<=3?g.push({type:"speed",level:"excellent",icon:"⚡",title:"反应速度优秀",description:"您的记忆反应速度非常快。"}):u<=5?g.push({type:"speed",level:"good",icon:"⏱️",title:"反应速度良好",description:"您的记忆反应速度良好。"}):g.push({type:"speed",level:"average",icon:"🐌",title:"可以提升速度",description:"建议多练习提升记忆反应速度。"}),g}),ce=T(()=>{const g=[],n=Z.value,u=se.value;return n<75&&(g.push("从较短的数字序列开始练习，逐步增加长度"),g.push("使用分组记忆法，将长序列分成小段记忆")),u>5&&(g.push("练习快速记忆技巧，提升反应速度"),g.push("尝试使用数字联想法增强记忆效果")),H.value<8&&(g.push("逐步挑战更长的数字序列"),g.push("练习数字记忆宫殿法")),g.push("定期进行数字记忆练习，保持记忆能力"),g.push("尝试不同的记忆策略，找到最适合的方法"),g}),te=g=>{const n=de.find(F=>F.key===g),u=Math.floor(Math.random()*(n.maxLength-n.minLength+1))+n.minLength,k=[];for(let F=0;F<u;F++)k.push(Math.floor(Math.random()*10));return k},qe=()=>{v.value="testing",p.value=0,j.value=0,Q.value=[],ne.value=!1,d.assessmentMode==="quick"?L.value=10:d.assessmentMode==="detailed"?L.value=20:L.value=15,he()},he=()=>{_.value=te(l.value),z.value="",W.value=[],r.value="display",x.value=parseInt(b.value),C.value=x.value,D.value=Date.now(),Se()},Se=()=>{ae.value=setInterval(()=>{C.value-=100,C.value<=0&&(clearInterval(ae.value),r.value="input",ts(()=>{ee.value&&ee.value.focus()}))},100)},me=()=>{z.value=z.value.replace(/[^0-9]/g,""),W.value=z.value.split("").map(g=>parseInt(g))},pe=()=>{if(z.value.length!==_.value.length)return;const g=(Date.now()-D.value)/1e3,n=z.value.split("").map(N=>parseInt(N));R.value=JSON.stringify(n)===JSON.stringify(_.value);let u=0;for(let N=0;N<_.value.length;N++)n[N]===_.value[N]&&u++;let k=0;if(R.value){const q=_.value.length,B=Math.max(0,10-Math.floor(g));k=10+q+B}else k=Math.floor(u/_.value.length*5);j.value+=k,X.value=k,U.value=Math.round(g*10)/10;const F={questionIndex:p.value,sequence:[..._.value],userInput:[...n],isCorrect:R.value,partialScore:u,timeSpent:U.value,score:k,sequenceLength:_.value.length,difficulty:l.value};Q.value.push(F),w("test-progress",{currentQuestion:p.value+1,totalQuestions:L.value,currentScore:j.value,accuracy:E.value}),d.enableFeedback?r.value="feedback":fe()},ge=()=>{const g=(Date.now()-D.value)/1e3,n={questionIndex:p.value,sequence:[..._.value],userInput:[],isCorrect:!1,partialScore:0,timeSpent:Math.round(g*10)/10,score:0,sequenceLength:_.value.length,difficulty:l.value,skipped:!0};Q.value.push(n),fe()},fe=()=>{p.value++,p.value>=L.value?Ce():he()},Ce=()=>{ne.value=!0,v.value="results",w("test-complete",{score:J.value,accuracy:Z.value,averageTime:se.value,completedQuestions:Q.value.length,questions:Q.value})},$e=g=>{const n=Q.value.filter(k=>k.difficulty===g);if(n.length===0)return 0;const u=n.filter(k=>k.isCorrect).length;return Math.round(u/n.length*100)},le=g=>{const n=Q.value.filter(k=>k.sequenceLength===g);if(n.length===0)return 0;const u=n.filter(k=>k.isCorrect).length;return Math.round(u/n.length*100)},Qe=(g,n)=>n>=_.value.length?"extra":g===_.value[n]?"correct":"incorrect",xe=()=>{console.log("导出数字记忆测试报告")},Ie=()=>{v.value="instruction",p.value=0,j.value=0,Q.value=[],ne.value=!1},Ae=()=>{console.log("跳转到数字记忆训练")};return Oe(()=>{d.difficulty!=="medium"&&(l.value=d.difficulty)}),Ee(()=>{ae.value&&clearInterval(ae.value)}),(g,n)=>(o(),a("div",cs,[v.value==="instruction"?(o(),a("div",us,[e("div",ds,[n[7]||(n[7]=Ue('<h3 data-v-85c53ce8>数字记忆测试</h3><p class="instruction-description" data-v-85c53ce8> 这是一个测试您数字记忆能力的测试。您需要记住显示的数字序列，然后按正确顺序输入。 </p><div class="instruction-steps" data-v-85c53ce8><div class="step-item" data-v-85c53ce8><div class="step-icon" data-v-85c53ce8>👀</div><div class="step-content" data-v-85c53ce8><h4 data-v-85c53ce8>观察记忆</h4><p data-v-85c53ce8>仔细观察屏幕上显示的数字序列</p></div></div><div class="step-item" data-v-85c53ce8><div class="step-icon" data-v-85c53ce8>🧠</div><div class="step-content" data-v-85c53ce8><h4 data-v-85c53ce8>记忆保持</h4><p data-v-85c53ce8>在数字消失后，努力记住完整的序列</p></div></div><div class="step-item" data-v-85c53ce8><div class="step-icon" data-v-85c53ce8>✍️</div><div class="step-content" data-v-85c53ce8><h4 data-v-85c53ce8>准确输入</h4><p data-v-85c53ce8>按照记忆中的顺序准确输入数字</p></div></div></div>',3)),e("div",vs,[e("div",hs,[n[4]||(n[4]=e("label",null,"难度等级：",-1)),V(e("select",{"onUpdate:modelValue":n[0]||(n[0]=u=>l.value=u)},n[3]||(n[3]=[e("option",{value:"easy"},"简单 (3-5位)",-1),e("option",{value:"medium"},"中等 (6-8位)",-1),e("option",{value:"hard"},"困难 (9-12位)",-1)]),512),[[G,l.value]])]),e("div",ms,[n[6]||(n[6]=e("label",null,"显示时间：",-1)),V(e("select",{"onUpdate:modelValue":n[1]||(n[1]=u=>b.value=u)},n[5]||(n[5]=[e("option",{value:"1000"},"1秒",-1),e("option",{value:"2000"},"2秒",-1),e("option",{value:"3000"},"3秒",-1)]),512),[[G,b.value]])])]),e("button",{onClick:qe,class:"btn-start"},"开始测试")])])):A("",!0),v.value==="testing"?(o(),a("div",ps,[e("div",gs,[e("div",fs,[n[8]||(n[8]=e("h3",null,"数字记忆测试",-1)),e("div",ys,[e("span",_s,"第 "+i(p.value+1)+" / "+i(L.value)+" 题",1),e("span",bs,"得分: "+i(j.value),1),e("span",ks,"准确率: "+i(E.value)+"%",1)])]),e("div",ws,[e("div",{class:"progress-fill",style:I({width:re.value+"%"})},null,4)])]),r.value==="display"?(o(),a("div",Ss,[e("div",$s,[n[9]||(n[9]=e("div",{class:"phase-title"},"请记住以下数字序列",-1)),e("div",Ts,[(o(!0),a(S,null,$(_.value,(u,k)=>(o(),a("div",{key:k,class:"digit",style:I({animationDelay:k*.1+"s"})},i(u),5))),128))]),e("div",Ms,[e("div",qs,[e("div",{class:"timer-fill",style:I({transform:`rotate(${(x.value-C.value)/x.value*360}deg)`})},null,4),e("div",Cs,i(Math.ceil(C.value/1e3)),1)])])])])):A("",!0),r.value==="input"?(o(),a("div",Qs,[e("div",xs,[n[12]||(n[12]=e("div",{class:"phase-title"},"请输入您记住的数字序列",-1)),e("div",Is,[V(e("input",{ref_key:"numberInput",ref:ee,"onUpdate:modelValue":n[2]||(n[2]=u=>z.value=u),onInput:me,onKeyup:ss(pe,["enter"]),type:"text",placeholder:"输入数字序列",maxlength:_.value.length,autocomplete:"off"},null,40,As),[[es,z.value]])]),t.enableHints?(o(),a("div",Ds,[e("div",Ps,[n[10]||(n[10]=e("span",{class:"hint-icon"},"💡",-1)),e("span",null,"数字长度: "+i(_.value.length)+"位",1)]),e("div",Ls,[n[11]||(n[11]=e("span",{class:"hint-icon"},"⌨️",-1)),e("span",null,"已输入: "+i(z.value.length)+" / "+i(_.value.length),1)])])):A("",!0),e("div",Os,[e("button",{onClick:pe,disabled:z.value.length!==_.value.length,class:"btn-submit"}," 提交答案 ",8,Es),e("button",{onClick:ge,class:"btn-skip"},"跳过")])])])):A("",!0),r.value==="feedback"?(o(),a("div",Bs,[e("div",zs,[e("div",{class:P(["feedback-result",R.value?"correct":"incorrect"])},[e("div",Fs,i(R.value?"✅":"❌"),1),e("div",Rs,[e("div",Ns,i(R.value?"回答正确！":"回答错误"),1),e("div",Us,[e("div",js,[e("div",Ks,[n[13]||(n[13]=e("span",{class:"label"},"正确序列:",-1)),e("div",Vs,[(o(!0),a(S,null,$(_.value,(u,k)=>(o(),a("span",{key:k,class:"digit correct"},i(u),1))),128))])]),R.value?A("",!0):(o(),a("div",Ws,[n[14]||(n[14]=e("span",{class:"label"},"您的输入:",-1)),e("div",Js,[(o(!0),a(S,null,$(W.value,(u,k)=>(o(),a("span",{key:k,class:P(["digit",Qe(u,k)])},i(u||"?"),3))),128))])]))]),e("div",Hs,[e("div",Ys,[n[15]||(n[15]=e("span",{class:"stat-label"},"用时:",-1)),e("span",Gs,i(U.value)+"秒",1)]),e("div",Xs,[n[16]||(n[16]=e("span",{class:"stat-label"},"得分:",-1)),e("span",Zs,"+"+i(X.value),1)])])])])],2),e("button",{onClick:fe,class:"btn-next"},"继续下一题")])])):A("",!0)])):A("",!0),v.value==="results"?(o(),a("div",et,[n[35]||(n[35]=e("div",{class:"results-header"},[e("h3",null,"测试完成"),e("p",null,"您的数字记忆能力测试结果如下：")],-1)),e("div",st,[e("div",tt,[n[17]||(n[17]=e("div",{class:"result-icon"},"🎯",-1)),e("div",nt,i(Z.value)+"%",1),n[18]||(n[18]=e("div",{class:"result-label"},"总体准确率",-1))]),e("div",it,[n[19]||(n[19]=e("div",{class:"result-icon"},"⚡",-1)),e("div",lt,i(se.value)+"s",1),n[20]||(n[20]=e("div",{class:"result-label"},"平均用时",-1))]),e("div",ot,[n[21]||(n[21]=e("div",{class:"result-icon"},"📊",-1)),e("div",at,i(K.value),1),n[22]||(n[22]=e("div",{class:"result-label"},"总得分",-1))]),e("div",rt,[n[23]||(n[23]=e("div",{class:"result-icon"},"🧠",-1)),e("div",ct,i(J.value),1),n[24]||(n[24]=e("div",{class:"result-label"},"记忆能力得分",-1))])]),e("div",ut,[n[32]||(n[32]=e("h4",null,"详细分析",-1)),e("div",dt,[e("div",vt,[n[25]||(n[25]=e("h5",null,"难度表现",-1)),e("div",ht,[(o(),a(S,null,$(de,u=>e("div",{key:u.key,class:"difficulty-bar"},[e("span",mt,i(u.label),1),e("div",pt,[e("div",{class:"bar-fill",style:I({width:$e(u.key)+"%"})},null,4)]),e("span",gt,i($e(u.key))+"%",1)])),64))])]),e("div",ft,[n[26]||(n[26]=e("h5",null,"序列长度表现",-1)),e("div",yt,[(o(!0),a(S,null,$(ie.value,u=>(o(),a("div",{key:u,class:"length-bar"},[e("span",_t,i(u)+"位",1),e("div",bt,[e("div",{class:"bar-fill",style:I({width:le(u)+"%"})},null,4)]),e("span",kt,i(le(u))+"%",1)]))),128))])]),e("div",wt,[n[31]||(n[31]=e("h5",null,"记忆统计",-1)),e("div",St,[e("div",$t,[n[27]||(n[27]=e("span",{class:"stat-label"},"最长记忆序列",-1)),e("span",Tt,i(H.value)+"位",1)]),e("div",Mt,[n[28]||(n[28]=e("span",{class:"stat-label"},"连续正确数",-1)),e("span",qt,i(ve.value),1)]),e("div",Ct,[n[29]||(n[29]=e("span",{class:"stat-label"},"完全匹配率",-1)),e("span",Qt,i(Y.value)+"%",1)]),e("div",xt,[n[30]||(n[30]=e("span",{class:"stat-label"},"部分匹配率",-1)),e("span",It,i(Me.value)+"%",1)])])])])]),e("div",At,[n[34]||(n[34]=e("h4",null,"表现评价与改进建议",-1)),(o(!0),a(S,null,$(we.value,u=>(o(),a("div",{key:u.type,class:P(["feedback-item",u.level])},[e("div",Dt,i(u.icon),1),e("div",Pt,[e("div",Lt,i(u.title),1),e("div",Ot,i(u.description),1)])],2))),128)),e("div",Et,[n[33]||(n[33]=e("h5",null,"改进建议",-1)),e("ul",null,[(o(!0),a(S,null,$(ce.value,u=>(o(),a("li",{key:u},i(u),1))),128))])])]),e("div",{class:"results-actions"},[e("button",{onClick:xe,class:"btn-export"},"导出报告"),e("button",{onClick:Ie,class:"btn-retake"},"重新测试"),e("button",{onClick:Ae,class:"btn-training"},"前往训练")])])):A("",!0)]))}},zt=Le(Bt,[["__scopeId","data-v-85c53ce8"]]);const Ft={class:"image-memory-test"},Rt={key:0,class:"instruction-phase"},Nt={class:"instruction-content"},Ut={class:"test-settings"},jt={class:"setting-group"},Kt={class:"setting-group"},Vt={class:"setting-group"},Wt={key:1,class:"testing-phase"},Jt={class:"test-header"},Ht={class:"test-info"},Yt={class:"test-stats"},Gt={class:"current-question"},Xt={class:"test-type"},Zt={class:"score"},en={class:"accuracy"},sn={class:"progress-bar"},tn={key:0,class:"display-phase"},nn={class:"display-container"},ln={class:"phase-title"},on={key:0,class:"sequence-display"},an={class:"image-container"},rn={class:"image-number"},cn={key:1,class:"position-display"},un={class:"grid-container"},dn={key:2,class:"detail-display"},vn={class:"detail-image"},hn={key:3,class:"change-display"},mn={class:"change-image"},pn={class:"image-grid"},gn={class:"countdown-timer"},fn={class:"timer-circle"},yn={class:"timer-text"},_n={key:1,class:"selection-phase"},bn={class:"selection-container"},kn={class:"phase-title"},wn={key:0,class:"sequence-selection"},Sn={class:"selection-grid"},$n=["onClick"],Tn={class:"option-sequence"},Mn={class:"option-label"},qn={key:1,class:"position-selection"},Cn={class:"interactive-grid"},Qn=["onClick"],xn={class:"cell-number"},In={key:2,class:"detail-selection"},An={class:"detail-options"},Dn=["onClick"],Pn={class:"option-label"},Ln={key:3,class:"change-selection"},On={class:"change-options"},En=["onClick"],Bn={class:"option-grid"},zn={class:"option-label"},Fn={class:"selection-actions"},Rn=["disabled"],Nn={key:2,class:"feedback-phase"},Un={class:"feedback-container"},jn={class:"feedback-icon"},Kn={class:"feedback-text"},Vn={class:"feedback-title"},Wn={class:"feedback-details"},Jn={class:"answer-explanation"},Hn={class:"correct-answer"},Yn={class:"answer-display"},Gn={key:0,class:"user-answer"},Xn={class:"answer-display"},Zn={class:"feedback-stats"},ei={class:"stat-item"},si={class:"stat-value"},ti={class:"stat-item"},ni={class:"stat-value"},ii={key:2,class:"results-phase"},li={class:"overall-results"},oi={class:"result-card"},ai={class:"result-value"},ri={class:"result-card"},ci={class:"result-value"},ui={class:"result-card"},di={class:"result-value"},vi={class:"result-card"},hi={class:"result-value"},mi={class:"detailed-analysis"},pi={class:"analysis-grid"},gi={class:"analysis-item"},fi={class:"type-chart"},yi={class:"type-label"},_i={class:"bar-container"},bi={class:"accuracy-value"},ki={class:"analysis-item"},wi={class:"difficulty-chart"},Si={class:"difficulty-label"},$i={class:"bar-container"},Ti={class:"accuracy-value"},Mi={class:"analysis-item"},qi={class:"memory-stats"},Ci={class:"stat-row"},Qi={class:"stat-value"},xi={class:"stat-row"},Ii={class:"stat-value"},Ai={class:"stat-row"},Di={class:"stat-value"},Pi={class:"stat-row"},Li={class:"stat-value"},Oi={class:"performance-feedback"},Ei={class:"feedback-icon"},Bi={class:"feedback-text"},zi={class:"feedback-title"},Fi={class:"feedback-description"},Ri={class:"improvement-suggestions"},Ni={__name:"ImageMemoryTest",props:{difficulty:{type:String,default:"medium"},testType:{type:String,default:"sequence"},enableFeedback:{type:Boolean,default:!0},assessmentMode:{type:String,default:"comprehensive"}},emits:["test-complete","test-progress"],setup(t,{emit:s}){const d=t,w=s,v=y("instruction"),l=y(d.difficulty),b=y(d.testType),r=y(3e3),p=y("display"),L=y(0),_=y(12),z=y([]),W=y([]),R=y({}),j=y([]),X=y([]),U=y([]),D=y([]),x=y([]),C=y(-1),Q=y(!1),ee=y(0),ae=y(0),ne=y(0),de=y(null),ie=y(3e3),re=y(3e3),E=y([]),Z=y(null),se=y(!1),K=y(null),J=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F"],H=["circle","square","triangle","diamond","star","hexagon"],ve=[{key:"easy",label:"简单",imageCount:3,gridSize:9},{key:"medium",label:"中等",imageCount:5,gridSize:16},{key:"hard",label:"困难",imageCount:7,gridSize:25}],Y=[{key:"sequence",label:"序列记忆"},{key:"position",label:"位置记忆"},{key:"detail",label:"细节记忆"},{key:"change",label:"变化检测"}],Me=T(()=>L.value/_.value*100),we=T(()=>{if(E.value.length===0)return 100;const m=E.value.filter(c=>c.isCorrect).length;return Math.round(m/E.value.length*100)}),ce=T(()=>{if(E.value.length===0)return 0;const m=E.value.filter(c=>c.isCorrect).length;return Math.round(m/E.value.length*100)}),te=T(()=>{if(E.value.length===0)return 0;const m=E.value.reduce((c,h)=>c+h.timeSpent,0);return Math.round(m/E.value.length*10)/10}),qe=T(()=>E.value.reduce((m,c)=>m+c.score,0)),he=T(()=>{const m=ce.value,c=Math.max(0,100-te.value*5),h=Je();return Math.round(m*.6+c*.2+h*.2)}),Se=T(()=>b.value==="position"?x.value.some(m=>m.selected):C.value!==-1),me=T(()=>{let m=0,c=0;for(const h of E.value)h.isCorrect?(c++,m=Math.max(m,c)):c=0;return m}),pe=T(()=>Y.map(h=>({type:h.label,accuracy:Pe(h.key)})).reduce((h,f)=>f.accuracy>h.accuracy?f:h).type),ge=T(()=>{const m=E.value.filter(h=>h.testType==="detail");if(m.length===0)return"未测试";const c=m.filter(h=>h.isCorrect).length/m.length*100;return c>=80?"优秀":c>=60?"良好":c>=40?"一般":"需提升"}),fe=T(()=>{const m=E.value.filter(h=>h.testType==="position");if(m.length===0)return"未测试";const c=m.filter(h=>h.isCorrect).length/m.length*100;return c>=80?"优秀":c>=60?"良好":c>=40?"一般":"需提升"}),Ce=T(()=>{const m=[],c=ce.value,h=te.value;return c>=85?m.push({type:"accuracy",level:"excellent",icon:"🎯",title:"图像记忆能力优秀",description:"您的图像记忆准确率非常高，视觉记忆能力出色。"}):c>=70?m.push({type:"accuracy",level:"good",icon:"👍",title:"图像记忆能力良好",description:"您的图像记忆准确率良好，继续保持。"}):c>=55?m.push({type:"accuracy",level:"average",icon:"📈",title:"图像记忆能力一般",description:"您的图像记忆能力有提升空间，建议多练习。"}):m.push({type:"accuracy",level:"poor",icon:"📚",title:"需要加强练习",description:"建议从简单的图像记忆开始练习，逐步提升能力。"}),h<=4?m.push({type:"speed",level:"excellent",icon:"⚡",title:"反应速度优秀",description:"您的图像识别和记忆反应速度非常快。"}):h<=6?m.push({type:"speed",level:"good",icon:"⏱️",title:"反应速度良好",description:"您的图像记忆反应速度良好。"}):m.push({type:"speed",level:"average",icon:"🐌",title:"可以提升速度",description:"建议多练习提升图像记忆反应速度。"}),m}),$e=T(()=>{const m=[],c=ce.value,h=te.value;return c<70&&(m.push("从简单的图像序列开始练习，逐步增加复杂度"),m.push("使用联想记忆法，将图像与熟悉的事物关联")),h>6&&(m.push("练习快速图像识别，提升视觉处理速度"),m.push("尝试整体记忆法，不要过分关注细节")),Pe("position")<60&&(m.push("加强空间位置记忆训练"),m.push("练习使用空间记忆宫殿法")),Pe("detail")<60&&(m.push("提升视觉细节观察能力"),m.push("练习图像细节分析和记忆")),m.push("定期进行图像记忆练习，保持视觉记忆能力"),m.push("尝试不同类型的图像记忆训练，全面提升能力"),m}),le=()=>({color:J[Math.floor(Math.random()*J.length)],shape:H[Math.floor(Math.random()*H.length)]}),Qe=()=>{const m=ve.find(M=>M.key===l.value),c=Math.floor(Math.random()*2)+m.imageCount-1,h=[];for(let M=0;M<c;M++)h.push(le());z.value=h;const f=[h];for(let M=0;M<3;M++){const O=[...h],oe=Math.floor(Math.random()*2)+1;for(let ye=0;ye<oe;ye++){const _e=Math.floor(Math.random()*O.length);O[_e]=le()}f.push(O)}X.value=g(f),K.value=X.value.findIndex(M=>JSON.stringify(M)===JSON.stringify(h))},xe=()=>{const m=ve.find(O=>O.key===l.value),c=m.gridSize,h=Math.floor(Math.random()*2)+Math.floor(m.imageCount/2),f=Array(c).fill().map(()=>({hasImage:!1})),M=[];for(let O=0;O<h;O++){let oe;do oe=Math.floor(Math.random()*c);while(f[oe].hasImage);const ye=le();f[oe]={hasImage:!0,...ye},M.push(oe)}W.value=f,K.value=M,x.value=Array(c).fill().map(()=>({selected:!1}))},Ie=()=>{const m=Math.floor(Math.random()*3)+4,c=J[Math.floor(Math.random()*J.length)],h=[];for(let M=0;M<m;M++)h.push({color:J[Math.floor(Math.random()*J.length)],shape:H[Math.floor(Math.random()*H.length)],x:Math.floor(Math.random()*70)+10,y:Math.floor(Math.random()*70)+10,size:Math.floor(Math.random()*20)+20});R.value={backgroundColor:c,elements:h};const f=[{backgroundColor:c,elements:[...h]}];for(let M=0;M<3;M++){const O=[...h],oe=Math.floor(Math.random()*2)+1;for(let ye=0;ye<oe;ye++){const _e=Math.floor(Math.random()*O.length);switch(Math.floor(Math.random()*4)){case 0:O[_e].color=J[Math.floor(Math.random()*J.length)];break;case 1:O[_e].shape=H[Math.floor(Math.random()*H.length)];break;case 2:O[_e].x=Math.floor(Math.random()*70)+10,O[_e].y=Math.floor(Math.random()*70)+10;break;case 3:O[_e].size=Math.floor(Math.random()*20)+20;break}}f.push({backgroundColor:c,elements:O})}U.value=g(f),K.value=U.value.findIndex(M=>JSON.stringify(M)===JSON.stringify({backgroundColor:c,elements:h}))},Ae=()=>{const c=[];for(let f=0;f<6;f++)c.push(le());j.value=c;const h=[c];for(let f=0;f<3;f++){const M=[...c],O=Math.floor(Math.random()*6);M[O]=le(),h.push(M)}D.value=g(h),K.value=D.value.findIndex(f=>JSON.stringify(f)===JSON.stringify(c))},g=m=>{const c=[...m];for(let h=c.length-1;h>0;h--){const f=Math.floor(Math.random()*(h+1));[c[h],c[f]]=[c[f],c[h]]}return c},n=m=>{const c=Y.find(h=>h.key===m);return c?c.label:m},u=()=>{switch(b.value){case"sequence":return"请选择正确的图像序列";case"position":return"请点击您记住的图像位置";case"detail":return"请选择与原图相同的选项";case"change":return"请选择与原图相同的选项（没有变化）";default:return"请选择正确答案"}},k=()=>{v.value="testing",L.value=0,ee.value=0,E.value=[],se.value=!1,d.assessmentMode==="quick"?_.value=8:d.assessmentMode==="detailed"?_.value=16:_.value=12,F()},F=()=>{switch(C.value=-1,p.value="display",ie.value=parseInt(r.value),re.value=ie.value,de.value=Date.now(),b.value){case"sequence":Qe();break;case"position":xe();break;case"detail":Ie();break;case"change":Ae();break}N()},N=()=>{Z.value=setInterval(()=>{re.value-=100,re.value<=0&&(clearInterval(Z.value),p.value="selection")},100)},q=m=>{C.value=m},B=m=>{x.value[m].selected=!x.value[m].selected},De=()=>{if(!Se.value)return;const m=(Date.now()-de.value)/1e3;let c;b.value==="position"?(c=x.value.map((M,O)=>M.selected?O:-1).filter(M=>M!==-1),Q.value=JSON.stringify(c.sort())===JSON.stringify(K.value.sort())):(c=C.value,Q.value=c===K.value);let h=0;if(Q.value){const O=l.value==="hard"?5:l.value==="medium"?3:1,oe=Math.max(0,10-Math.floor(m));h=10+O+oe}ee.value+=h,ae.value=h,ne.value=Math.round(m*10)/10;const f={questionIndex:L.value,testType:b.value,difficulty:l.value,userAnswer:c,correctAnswer:K.value,isCorrect:Q.value,timeSpent:ne.value,score:h};E.value.push(f),w("test-progress",{currentQuestion:L.value+1,totalQuestions:_.value,currentScore:ee.value,accuracy:we.value}),d.enableFeedback?p.value="feedback":Be()},Ve=()=>{const m=(Date.now()-de.value)/1e3,c={questionIndex:L.value,testType:b.value,difficulty:l.value,userAnswer:null,correctAnswer:K.value,isCorrect:!1,timeSpent:Math.round(m*10)/10,score:0,skipped:!0};E.value.push(c),Be()},Be=()=>{L.value++,L.value>=_.value?We():F()},We=()=>{se.value=!0,v.value="results",w("test-complete",{score:he.value,accuracy:ce.value,averageTime:te.value,completedQuestions:E.value.length,questions:E.value})},Pe=m=>{const c=E.value.filter(f=>f.testType===m);if(c.length===0)return 0;const h=c.filter(f=>f.isCorrect).length;return Math.round(h/c.length*100)},Fe=m=>{const c=E.value.filter(f=>f.difficulty===m);if(c.length===0)return 0;const h=c.filter(f=>f.isCorrect).length;return Math.round(h/c.length*100)},Je=()=>[...new Set(E.value.map(c=>c.testType))].length*5,He=()=>{switch(b.value){case"sequence":return`选项 ${String.fromCharCode(65+K.value)}`;case"position":return`位置: ${K.value.map(m=>m+1).join(", ")}`;case"detail":case"change":return`选项 ${String.fromCharCode(65+K.value)}`;default:return"未知"}},Ye=()=>b.value==="position"?`位置: ${x.value.map((c,h)=>c.selected?h+1:-1).filter(c=>c!==-1).join(", ")}`:`选项 ${String.fromCharCode(65+C.value)}`,Ge=()=>{console.log("导出图像记忆测试报告")},Xe=()=>{v.value="instruction",L.value=0,ee.value=0,E.value=[],se.value=!1},Ze=()=>{console.log("跳转到图像记忆训练")};return Oe(()=>{d.difficulty!=="medium"&&(l.value=d.difficulty),d.testType!=="sequence"&&(b.value=d.testType)}),Ee(()=>{Z.value&&clearInterval(Z.value)}),(m,c)=>(o(),a("div",Ft,[v.value==="instruction"?(o(),a("div",Rt,[e("div",Nt,[c[9]||(c[9]=Ue('<h3 data-v-371f04cf>图像记忆测试</h3><p class="instruction-description" data-v-371f04cf> 这是一个测试您图像记忆能力的测试。您需要记住显示的图像序列，然后从选项中选择正确的图像。 </p><div class="instruction-steps" data-v-371f04cf><div class="step-item" data-v-371f04cf><div class="step-icon" data-v-371f04cf>👁️</div><div class="step-content" data-v-371f04cf><h4 data-v-371f04cf>观察记忆</h4><p data-v-371f04cf>仔细观察屏幕上显示的图像序列</p></div></div><div class="step-item" data-v-371f04cf><div class="step-icon" data-v-371f04cf>🧠</div><div class="step-content" data-v-371f04cf><h4 data-v-371f04cf>记忆保持</h4><p data-v-371f04cf>在图像消失后，努力记住图像的细节和顺序</p></div></div><div class="step-item" data-v-371f04cf><div class="step-icon" data-v-371f04cf>🎯</div><div class="step-content" data-v-371f04cf><h4 data-v-371f04cf>准确选择</h4><p data-v-371f04cf>从选项中选择正确的图像或顺序</p></div></div></div>',3)),e("div",Ut,[e("div",jt,[c[4]||(c[4]=e("label",null,"难度等级：",-1)),V(e("select",{"onUpdate:modelValue":c[0]||(c[0]=h=>l.value=h)},c[3]||(c[3]=[e("option",{value:"easy"},"简单 (2-3张图)",-1),e("option",{value:"medium"},"中等 (4-5张图)",-1),e("option",{value:"hard"},"困难 (6-8张图)",-1)]),512),[[G,l.value]])]),e("div",Kt,[c[6]||(c[6]=e("label",null,"测试类型：",-1)),V(e("select",{"onUpdate:modelValue":c[1]||(c[1]=h=>b.value=h)},c[5]||(c[5]=[e("option",{value:"sequence"},"序列记忆",-1),e("option",{value:"position"},"位置记忆",-1),e("option",{value:"detail"},"细节记忆",-1),e("option",{value:"change"},"变化检测",-1)]),512),[[G,b.value]])]),e("div",Vt,[c[8]||(c[8]=e("label",null,"显示时间：",-1)),V(e("select",{"onUpdate:modelValue":c[2]||(c[2]=h=>r.value=h)},c[7]||(c[7]=[e("option",{value:"2000"},"2秒",-1),e("option",{value:"3000"},"3秒",-1),e("option",{value:"5000"},"5秒",-1)]),512),[[G,r.value]])])]),e("button",{onClick:k,class:"btn-start"},"开始测试")])])):A("",!0),v.value==="testing"?(o(),a("div",Wt,[e("div",Jt,[e("div",Ht,[c[10]||(c[10]=e("h3",null,"图像记忆测试",-1)),e("div",Yt,[e("span",Gt,"第 "+i(L.value+1)+" / "+i(_.value)+" 题",1),e("span",Xt,i(n(b.value)),1),e("span",Zt,"得分: "+i(ee.value),1),e("span",en,"准确率: "+i(we.value)+"%",1)])]),e("div",sn,[e("div",{class:"progress-fill",style:I({width:Me.value+"%"})},null,4)])]),p.value==="display"?(o(),a("div",tn,[e("div",nn,[e("div",ln,"请记住以下图像"+i(b.value==="sequence"?"序列":""),1),b.value==="sequence"?(o(),a("div",on,[(o(!0),a(S,null,$(z.value,(h,f)=>(o(),a("div",{key:f,class:"image-item",style:I({animationDelay:f*.3+"s"})},[e("div",an,[e("div",{class:"image-placeholder",style:I({backgroundColor:h.color})},[e("div",{class:P(["image-shape",h.shape])},null,2),e("div",rn,i(f+1),1)],4)])],4))),128))])):A("",!0),b.value==="position"?(o(),a("div",cn,[e("div",un,[(o(!0),a(S,null,$(W.value,(h,f)=>(o(),a("div",{key:f,class:P(["grid-cell",{active:h.hasImage}])},[h.hasImage?(o(),a("div",{key:0,class:"cell-image",style:I({backgroundColor:h.color})},[e("div",{class:P(["image-shape",h.shape])},null,2)],4)):A("",!0)],2))),128))])])):A("",!0),b.value==="detail"?(o(),a("div",dn,[e("div",vn,[e("div",{class:"complex-image",style:I({backgroundColor:R.value.backgroundColor})},[(o(!0),a(S,null,$(R.value.elements,(h,f)=>(o(),a("div",{key:f,class:P(["image-element",h.shape]),style:I({backgroundColor:h.color,left:h.x+"%",top:h.y+"%",width:h.size+"px",height:h.size+"px"})},null,6))),128))],4)])])):A("",!0),b.value==="change"?(o(),a("div",hn,[e("div",mn,[e("div",pn,[(o(!0),a(S,null,$(j.value,(h,f)=>(o(),a("div",{key:f,class:"change-item",style:I({backgroundColor:h.color})},[e("div",{class:P(["image-shape",h.shape])},null,2)],4))),128))])])])):A("",!0),e("div",gn,[e("div",fn,[e("div",{class:"timer-fill",style:I({transform:`rotate(${(ie.value-re.value)/ie.value*360}deg)`})},null,4),e("div",yn,i(Math.ceil(re.value/1e3)),1)])])])])):A("",!0),p.value==="selection"?(o(),a("div",_n,[e("div",bn,[e("div",kn,i(u()),1),b.value==="sequence"?(o(),a("div",wn,[e("div",Sn,[(o(!0),a(S,null,$(X.value,(h,f)=>(o(),a("div",{key:f,class:P(["option-item",{selected:C.value===f}]),onClick:M=>q(f)},[e("div",Tn,[(o(!0),a(S,null,$(h,(M,O)=>(o(),a("div",{key:O,class:"mini-image",style:I({backgroundColor:M.color})},[e("div",{class:P(["image-shape",M.shape])},null,2)],4))),128))]),e("div",Mn,"选项 "+i(String.fromCharCode(65+f)),1)],10,$n))),128))])])):A("",!0),b.value==="position"?(o(),a("div",qn,[c[11]||(c[11]=e("div",{class:"selection-instruction"},"点击您记住的图像位置",-1)),e("div",Cn,[(o(!0),a(S,null,$(x.value,(h,f)=>(o(),a("div",{key:f,class:P(["interactive-cell",{selected:h.selected}]),onClick:M=>B(f)},[e("div",xn,i(f+1),1)],10,Qn))),128))])])):A("",!0),b.value==="detail"?(o(),a("div",In,[e("div",An,[(o(!0),a(S,null,$(U.value,(h,f)=>(o(),a("div",{key:f,class:P(["detail-option",{selected:C.value===f}]),onClick:M=>q(f)},[e("div",{class:"option-image",style:I({backgroundColor:h.backgroundColor})},[(o(!0),a(S,null,$(h.elements,(M,O)=>(o(),a("div",{key:O,class:P(["image-element",M.shape]),style:I({backgroundColor:M.color,left:M.x+"%",top:M.y+"%",width:M.size+"px",height:M.size+"px"})},null,6))),128))],4),e("div",Pn,"选项 "+i(String.fromCharCode(65+f)),1)],10,Dn))),128))])])):A("",!0),b.value==="change"?(o(),a("div",Ln,[e("div",On,[(o(!0),a(S,null,$(D.value,(h,f)=>(o(),a("div",{key:f,class:P(["change-option",{selected:C.value===f}]),onClick:M=>q(f)},[e("div",Bn,[(o(!0),a(S,null,$(h,(M,O)=>(o(),a("div",{key:O,class:"change-item",style:I({backgroundColor:M.color})},[e("div",{class:P(["image-shape",M.shape])},null,2)],4))),128))]),e("div",zn,"选项 "+i(String.fromCharCode(65+f)),1)],10,En))),128))])])):A("",!0),e("div",Fn,[e("button",{onClick:De,disabled:!Se.value,class:"btn-submit"}," 提交答案 ",8,Rn),e("button",{onClick:Ve,class:"btn-skip"},"跳过")])])])):A("",!0),p.value==="feedback"?(o(),a("div",Nn,[e("div",Un,[e("div",{class:P(["feedback-result",Q.value?"correct":"incorrect"])},[e("div",jn,i(Q.value?"✅":"❌"),1),e("div",Kn,[e("div",Vn,i(Q.value?"回答正确！":"回答错误"),1),e("div",Wn,[e("div",Jn,[e("div",Hn,[c[12]||(c[12]=e("span",{class:"label"},"正确答案:",-1)),e("div",Yn,i(He()),1)]),Q.value?A("",!0):(o(),a("div",Gn,[c[13]||(c[13]=e("span",{class:"label"},"您的选择:",-1)),e("div",Xn,i(Ye()),1)]))]),e("div",Zn,[e("div",ei,[c[14]||(c[14]=e("span",{class:"stat-label"},"用时:",-1)),e("span",si,i(ne.value)+"秒",1)]),e("div",ti,[c[15]||(c[15]=e("span",{class:"stat-label"},"得分:",-1)),e("span",ni,"+"+i(ae.value),1)])])])])],2),e("button",{onClick:Be,class:"btn-next"},"继续下一题")])])):A("",!0)])):A("",!0),v.value==="results"?(o(),a("div",ii,[c[34]||(c[34]=e("div",{class:"results-header"},[e("h3",null,"测试完成"),e("p",null,"您的图像记忆能力测试结果如下：")],-1)),e("div",li,[e("div",oi,[c[16]||(c[16]=e("div",{class:"result-icon"},"🎯",-1)),e("div",ai,i(ce.value)+"%",1),c[17]||(c[17]=e("div",{class:"result-label"},"总体准确率",-1))]),e("div",ri,[c[18]||(c[18]=e("div",{class:"result-icon"},"⚡",-1)),e("div",ci,i(te.value)+"s",1),c[19]||(c[19]=e("div",{class:"result-label"},"平均用时",-1))]),e("div",ui,[c[20]||(c[20]=e("div",{class:"result-icon"},"📊",-1)),e("div",di,i(qe.value),1),c[21]||(c[21]=e("div",{class:"result-label"},"总得分",-1))]),e("div",vi,[c[22]||(c[22]=e("div",{class:"result-icon"},"🖼️",-1)),e("div",hi,i(he.value),1),c[23]||(c[23]=e("div",{class:"result-label"},"图像记忆得分",-1))])]),e("div",mi,[c[31]||(c[31]=e("h4",null,"详细分析",-1)),e("div",pi,[e("div",gi,[c[24]||(c[24]=e("h5",null,"测试类型表现",-1)),e("div",fi,[(o(),a(S,null,$(Y,h=>e("div",{key:h.key,class:"type-bar"},[e("span",yi,i(h.label),1),e("div",_i,[e("div",{class:"bar-fill",style:I({width:Pe(h.key)+"%"})},null,4)]),e("span",bi,i(Pe(h.key))+"%",1)])),64))])]),e("div",ki,[c[25]||(c[25]=e("h5",null,"难度表现",-1)),e("div",wi,[(o(),a(S,null,$(ve,h=>e("div",{key:h.key,class:"difficulty-bar"},[e("span",Si,i(h.label),1),e("div",$i,[e("div",{class:"bar-fill",style:I({width:Fe(h.key)+"%"})},null,4)]),e("span",Ti,i(Fe(h.key))+"%",1)])),64))])]),e("div",Mi,[c[30]||(c[30]=e("h5",null,"记忆统计",-1)),e("div",qi,[e("div",Ci,[c[26]||(c[26]=e("span",{class:"stat-label"},"最佳记忆类型",-1)),e("span",Qi,i(pe.value),1)]),e("div",xi,[c[27]||(c[27]=e("span",{class:"stat-label"},"连续正确数",-1)),e("span",Ii,i(me.value),1)]),e("div",Ai,[c[28]||(c[28]=e("span",{class:"stat-label"},"视觉记忆强度",-1)),e("span",Di,i(ge.value),1)]),e("div",Pi,[c[29]||(c[29]=e("span",{class:"stat-label"},"空间记忆能力",-1)),e("span",Li,i(fe.value),1)])])])])]),e("div",Oi,[c[33]||(c[33]=e("h4",null,"表现评价与改进建议",-1)),(o(!0),a(S,null,$(Ce.value,h=>(o(),a("div",{key:h.type,class:P(["feedback-item",h.level])},[e("div",Ei,i(h.icon),1),e("div",Bi,[e("div",zi,i(h.title),1),e("div",Fi,i(h.description),1)])],2))),128)),e("div",Ri,[c[32]||(c[32]=e("h5",null,"改进建议",-1)),e("ul",null,[(o(!0),a(S,null,$($e.value,h=>(o(),a("li",{key:h},i(h),1))),128))])])]),e("div",{class:"results-actions"},[e("button",{onClick:Ge,class:"btn-export"},"导出报告"),e("button",{onClick:Xe,class:"btn-retake"},"重新测试"),e("button",{onClick:Ze,class:"btn-training"},"前往训练")])])):A("",!0)]))}},Ui=Le(Ni,[["__scopeId","data-v-371f04cf"]]);const ji={name:"WordMemoryTest",emits:["complete","restart","export"],data(){return{currentPhase:"instruction",testStage:"memorize",settings:{difficulty:"medium",testType:"mixed",displayTime:3,questionCount:15},currentQuestionIndex:0,questions:[],currentQuestion:null,startTime:null,elapsedTime:0,timer:null,memorizeTimer:null,memorizeTimeLeft:0,lastQuestionTime:0,highlightIndex:-1,userSequence:[],recognitionAnswers:[],semanticAnswer:null,answers:[],correctAnswers:0,answeredQuestions:0,lastAnswerCorrect:!1,wordBank:{easy:["苹果","香蕉","橙子","葡萄","草莓","桃子","梨子","西瓜","猫咪","小狗","兔子","鸟儿","鱼儿","花朵","树木","太阳","月亮","星星","房子","汽车"],medium:["计算机","键盘","鼠标","显示器","音响","摄像头","打印机","扫描仪","路由器","手机","平板","耳机","充电器","数据线","移动硬盘","内存卡","光盘","软件","系统","网络"],hard:["哲学","心理学","社会学","人类学","考古学","历史学","政治学","经济学","法学","教育学","文学","语言学","新闻学","艺术学","音乐学","美术学","建筑学","设计学","医学","生物学"],expert:["量子力学","相对论","热力学","电磁学","光学","声学","流体力学","固体力学","材料科学","纳米技术","生物技术","基因工程","人工智能","机器学习","深度学习","神经网络","算法设计","数据结构","操作系统","数据库"]}}},computed:{totalQuestions(){return parseInt(this.settings.questionCount)},progressPercentage(){return this.currentQuestionIndex/this.totalQuestions*100},timerProgress(){const t=this.getMemorizeTime();return(t-this.memorizeTimeLeft)/t*360},shuffledWords(){return this.currentQuestion?[...this.currentQuestion.words,...this.currentQuestion.distractors].sort(()=>Math.random()-.5):[]},canSubmit(){var t,s,d;return((t=this.currentQuestion)==null?void 0:t.type)==="sequence"?this.userSequence.length===this.currentQuestion.words.length:((s=this.currentQuestion)==null?void 0:s.type)==="recognition"?this.recognitionAnswers.length>0:((d=this.currentQuestion)==null?void 0:d.type)==="semantic"?this.semanticAnswer!==null:!1},accuracy(){return this.answeredQuestions>0?this.correctAnswers/this.answeredQuestions*100:0},averageTime(){return this.answers.length===0?0:this.answers.reduce((s,d)=>s+d.time,0)/this.answers.length},totalScore(){return Math.round(this.accuracy*.7+this.getSpeedScore()*.3)},wordMemoryScore(){return Math.round(this.accuracy*.8+this.getConsistencyScore()*.2)},typePerformance(){const t={};return this.answers.forEach(s=>{t[s.type]||(t[s.type]={correct:0,total:0}),t[s.type].total++,s.correct&&t[s.type].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},difficultyPerformance(){const t={};return this.answers.forEach(s=>{const d=s.difficulty||this.settings.difficulty;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},bestPerformance(){let t={type:"",accuracy:0};return Object.entries(this.typePerformance).forEach(([s,d])=>{d.accuracy>t.accuracy&&(t={type:this.getTypeLabel(s),accuracy:d.accuracy})}),t},fastestTime(){return this.answers.length>0?Math.min(...this.answers.map(t=>t.time)):0},slowestTime(){return this.answers.length>0?Math.max(...this.answers.map(t=>t.time)):0},maxStreak(){let t=0,s=0;return this.answers.forEach(d=>{d.correct?(s++,t=Math.max(t,s)):s=0}),t}},methods:{startTest(){this.currentPhase="testing",this.generateQuestions(),this.startQuestion(),this.startTimer()},generateQuestions(){this.questions=[];const t=this.totalQuestions;for(let s=0;s<t;s++){const d=this.generateQuestion();this.questions.push(d)}},generateQuestion(){const t=this.settings.testType==="mixed"?["sequence","recognition","semantic"]:[this.settings.testType],s=t[Math.floor(Math.random()*t.length)],d=this.settings.difficulty,w=this.getWordCount(d),v=this.getRandomWords(w,d);if(s==="sequence")return this.generateSequenceQuestion(v,d);if(s==="recognition")return this.generateRecognitionQuestion(v,d);if(s==="semantic")return this.generateSemanticQuestion(v,d)},generateSequenceQuestion(t,s){const d=this.getRandomWords(Math.ceil(t.length/2),s,t);return{type:"sequence",words:t,distractors:d,difficulty:s,correctAnswer:t}},generateRecognitionQuestion(t,s){const d=this.getRandomWords(t.length,s,t),w=[...t,...d].sort(()=>Math.random()-.5);return{type:"recognition",words:t,options:w,difficulty:s,correctAnswer:t}},generateSemanticQuestion(t,s){const d=t[Math.floor(Math.random()*t.length)],w=this.getWordCategory(d),v=this.getRandomWords(3,s,[d]);return v.push(d),v.sort(()=>Math.random()-.5),{type:"semantic",words:t,question:`刚才的单词中，哪个属于"${w}"类别？`,options:v,difficulty:s,correctAnswer:d}},getWordCount(t){return{easy:Math.floor(Math.random()*4)+5,medium:Math.floor(Math.random()*5)+8,hard:Math.floor(Math.random()*5)+12,expert:Math.floor(Math.random()*5)+16}[t]||8},getRandomWords(t,s,d=[]){const v=(this.wordBank[s]||this.wordBank.medium).filter(b=>!d.includes(b)),l=[];for(let b=0;b<t&&b<v.length;b++){const r=Math.floor(Math.random()*v.length),p=v.splice(r,1)[0];l.push(p)}return l},getWordCategory(t){return{苹果:"水果",香蕉:"水果",橙子:"水果",葡萄:"水果",草莓:"水果",猫咪:"动物",小狗:"动物",兔子:"动物",鸟儿:"动物",鱼儿:"动物",计算机:"电子设备",键盘:"电子设备",鼠标:"电子设备",显示器:"电子设备",哲学:"学科",心理学:"学科",社会学:"学科",人类学:"学科"}[t]||"其他"},startQuestion(){if(this.currentQuestionIndex>=this.totalQuestions){this.finishTest();return}this.currentQuestion=this.questions[this.currentQuestionIndex],this.testStage="memorize",this.userSequence=[],this.recognitionAnswers=[],this.semanticAnswer=null,this.highlightIndex=-1,this.startMemorizePhase()},startMemorizePhase(){const t=this.getMemorizeTime();this.memorizeTimeLeft=t;let s=0;const d=t/this.currentQuestion.words.length,w=setInterval(()=>{this.highlightIndex=s,s++,s>=this.currentQuestion.words.length&&(clearInterval(w),this.highlightIndex=-1)},d);this.memorizeTimer=setInterval(()=>{this.memorizeTimeLeft-=100,this.memorizeTimeLeft<=0&&(clearInterval(this.memorizeTimer),this.testStage="answer",this.lastQuestionTime=Date.now())},100)},getMemorizeTime(){return this.currentQuestion.words.length*this.settings.displayTime*1e3},addToSequence(t){this.userSequence.includes(t)||this.userSequence.push(t)},removeFromSequence(t){this.userSequence.splice(t,1)},toggleRecognition(t){const s=this.recognitionAnswers.indexOf(t);s>-1?this.recognitionAnswers.splice(s,1):this.recognitionAnswers.push(t)},selectSemanticAnswer(t){this.semanticAnswer=t},submitAnswer(){const t=Date.now()-this.lastQuestionTime,s=this.checkAnswer();this.answers.push({questionIndex:this.currentQuestionIndex,type:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,correct:s,time:t,userAnswer:this.getUserAnswer(),correctAnswer:this.currentQuestion.correctAnswer}),this.answeredQuestions++,s&&this.correctAnswers++,this.lastAnswerCorrect=s,this.lastQuestionTime=t,this.currentPhase="feedback"},checkAnswer(){if(this.currentQuestion.type==="sequence")return JSON.stringify(this.userSequence)===JSON.stringify(this.currentQuestion.words);if(this.currentQuestion.type==="recognition"){const t=this.currentQuestion.words.sort(),s=this.recognitionAnswers.sort();return JSON.stringify(t)===JSON.stringify(s)}else if(this.currentQuestion.type==="semantic")return this.semanticAnswer===this.currentQuestion.correctAnswer;return!1},getUserAnswer(){return this.currentQuestion.type==="sequence"?this.userSequence:this.currentQuestion.type==="recognition"?this.recognitionAnswers:this.currentQuestion.type==="semantic"?this.semanticAnswer:null},skipQuestion(){this.answers.push({questionIndex:this.currentQuestionIndex,type:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,correct:!1,time:Date.now()-this.lastQuestionTime,userAnswer:null,correctAnswer:this.currentQuestion.correctAnswer,skipped:!0}),this.answeredQuestions++,this.nextQuestion()},nextQuestion(){this.currentQuestionIndex++,this.currentPhase="testing",this.startQuestion()},finishTest(){this.currentPhase="results",this.stopTimer(),this.$emit("complete",{score:this.totalScore,accuracy:this.accuracy,averageTime:this.averageTime,answers:this.answers})},startTimer(){this.startTime=Date.now(),this.timer=setInterval(()=>{this.elapsedTime=Date.now()-this.startTime},100)},stopTimer(){this.timer&&(clearInterval(this.timer),this.timer=null),this.memorizeTimer&&(clearInterval(this.memorizeTimer),this.memorizeTimer=null)},formatTime(t){const s=Math.floor(t/1e3),d=Math.floor(s/60),w=s%60;return`${d}:${w.toString().padStart(2,"0")}`},getCorrectAnswerDisplay(){return this.currentQuestion.type==="sequence"?this.currentQuestion.words.join(" → "):this.currentQuestion.type==="recognition"?this.currentQuestion.words.join(", "):this.currentQuestion.type==="semantic"?this.currentQuestion.correctAnswer:""},getUserAnswerDisplay(){const t=this.getUserAnswer();return this.currentQuestion.type==="sequence"?t?t.join(" → "):"未回答":this.currentQuestion.type==="recognition"?t?t.join(", "):"未回答":this.currentQuestion.type==="semantic"&&t||"未回答"},getTypeLabel(t){return{sequence:"顺序记忆",recognition:"识别记忆",semantic:"语义记忆"}[t]||t},getDifficultyLabel(t){return{easy:"简单",medium:"中等",hard:"困难",expert:"专家"}[t]||t},getSpeedScore(){if(this.answers.length===0)return 0;const t=this.averageTime;return Math.max(0,Math.min(100,100-(t-5e3)/100))},getConsistencyScore(){if(this.answers.length<3)return 100;const t=this.answers.map(v=>v.time),s=t.reduce((v,l)=>v+l,0)/t.length,d=t.reduce((v,l)=>v+Math.pow(l-s,2),0)/t.length,w=Math.sqrt(d);return Math.max(0,100-w/s*100)},getPerformanceEvaluation(){const t=this.totalScore;return t>=90?"优秀！您的单词记忆能力非常出色，在各种记忆任务中都表现优异。继续保持这种水平，可以尝试更高难度的挑战。":t>=80?"良好！您的单词记忆能力较强，在大部分记忆任务中表现良好。通过针对性训练可以进一步提升。":t>=70?"中等！您的单词记忆能力处于平均水平，还有较大的提升空间。建议加强记忆策略的学习和练习。":t>=60?"需要改进！您的单词记忆能力有待提升，建议从基础的记忆技巧开始练习，逐步提高。":"需要加强！建议从简单的记忆任务开始，掌握基本的记忆方法，循序渐进地提升记忆能力。"},getImprovementSuggestions(){const t=[];return this.accuracy<70&&(t.push("练习基础的记忆技巧，如联想记忆、分组记忆等"),t.push("从较少的单词数量开始练习，逐步增加难度")),this.averageTime>8e3&&(t.push("提高反应速度，可以通过快速阅读训练来改善"),t.push("练习快速识别和回忆，减少犹豫时间")),Object.entries(this.typePerformance).forEach(([s,d])=>{d.accuracy<60&&(s==="sequence"?t.push("加强顺序记忆训练，可以使用数字编码或故事链接法"):s==="recognition"?t.push("提高识别记忆能力，多练习区分相似单词"):s==="semantic"&&t.push("加强语义记忆，多了解单词的含义和分类"))}),t.push("保持规律的练习，每天进行短时间的记忆训练"),t.push("注意休息，避免疲劳对记忆能力的影响"),t.slice(0,5)}},beforeUnmount(){this.stopTimer()}},Ki={class:"word-memory-test"},Vi={key:0,class:"instruction-phase fade-in"},Wi={class:"instruction-container"},Ji={class:"instruction-content"},Hi={class:"test-settings"},Yi={class:"settings-grid"},Gi={class:"setting-item"},Xi={class:"setting-item"},Zi={class:"setting-item"},el={class:"setting-item"},sl={class:"instruction-actions"},tl={key:1,class:"testing-phase"},nl={class:"test-container"},il={class:"test-header"},ll={class:"progress-info"},ol={class:"progress-bar"},al={class:"progress-text"},rl={class:"test-stats"},cl={class:"stat-item"},ul={class:"stat-value"},dl={class:"stat-item"},vl={class:"stat-value"},hl={key:0,class:"memorize-stage"},ml={class:"word-display"},pl={class:"word-list"},gl={class:"memorize-timer"},fl={class:"timer-circle"},yl={class:"timer-text"},_l={key:1,class:"answer-stage"},bl={key:0,class:"sequence-test"},kl={class:"sequence-input"},wl={class:"selected-words"},Sl=["onClick"],$l={class:"word-options"},Tl=["onClick","disabled"],Ml={key:1,class:"recognition-test"},ql={class:"recognition-options"},Cl=["onClick"],Ql={key:2,class:"semantic-test"},xl={class:"question-title"},Il={class:"semantic-options"},Al=["onClick"],Dl={class:"answer-actions"},Pl=["disabled"],Ll={key:2,class:"feedback-phase fade-in"},Ol={class:"feedback-container"},El={class:"feedback-icon"},Bl={class:"feedback-title"},zl={class:"answer-explanation"},Fl={class:"correct-answer"},Rl={class:"answer-display"},Nl={class:"user-answer"},Ul={class:"answer-display"},jl={class:"feedback-stats"},Kl={class:"stat-item"},Vl={class:"stat-value"},Wl={class:"stat-item"},Jl={class:"stat-value"},Hl={class:"feedback-actions"},Yl={key:3,class:"results-phase fade-in"},Gl={class:"results-container"},Xl={class:"overall-results"},Zl={class:"score-display"},eo={class:"score-inner"},so={class:"score-number"},to={class:"stats-grid"},no={class:"stat-card"},io={class:"stat-number"},lo={class:"stat-card"},oo={class:"stat-number"},ao={class:"stat-card"},ro={class:"stat-number"},co={class:"stat-card"},uo={class:"stat-number"},vo={class:"detailed-analysis"},ho={class:"analysis-section"},mo={class:"performance-grid"},po={class:"performance-label"},go={class:"performance-value"},fo={class:"analysis-section"},yo={class:"performance-grid"},_o={class:"performance-label"},bo={class:"performance-value"},ko={class:"analysis-section"},wo={class:"memory-stats"},So={class:"stats-row"},$o={class:"stats-value"},To={class:"stats-row"},Mo={class:"stats-value"},qo={class:"stats-row"},Co={class:"stats-value"},Qo={class:"stats-row"},xo={class:"stats-value"},Io={class:"performance-feedback"},Ao={class:"feedback-content"},Do={class:"evaluation-text"},Po={class:"suggestions-list"},Lo={class:"results-actions"};function Oo(t,s,d,w,v,l){const b=je("router-link");return o(),a("div",Ki,[v.currentPhase==="instruction"?(o(),a("div",Vi,[e("div",Wi,[s[19]||(s[19]=e("h2",{class:"instruction-title"},"单词记忆测试",-1)),e("div",Ji,[s[18]||(s[18]=e("div",{class:"test-description"},[e("h3",null,"测试目标"),e("p",null,"评估您的单词记忆能力，包括短期记忆、长期记忆和语义记忆等方面。"),e("h3",null,"测试步骤"),e("ol",null,[e("li",null,"根据您的需求调整测试设置"),e("li",null,"仔细记忆显示的单词列表"),e("li",null,"在规定时间内完成记忆任务"),e("li",null,"根据题目要求进行回答"),e("li",null,"查看详细的测试结果和分析")])],-1)),e("div",Hi,[e("div",Yi,[e("div",Gi,[s[11]||(s[11]=e("label",{class:"setting-label"},"难度等级",-1)),V(e("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>v.settings.difficulty=r),class:"setting-select"},s[10]||(s[10]=[e("option",{value:"easy"},"简单 (5-8个单词)",-1),e("option",{value:"medium"},"中等 (8-12个单词)",-1),e("option",{value:"hard"},"困难 (12-16个单词)",-1),e("option",{value:"expert"},"专家 (16-20个单词)",-1)]),512),[[G,v.settings.difficulty]])]),e("div",Xi,[s[13]||(s[13]=e("label",{class:"setting-label"},"测试类型",-1)),V(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>v.settings.testType=r),class:"setting-select"},s[12]||(s[12]=[e("option",{value:"sequence"},"顺序记忆",-1),e("option",{value:"recognition"},"识别记忆",-1),e("option",{value:"semantic"},"语义记忆",-1),e("option",{value:"mixed"},"混合模式",-1)]),512),[[G,v.settings.testType]])]),e("div",Zi,[s[15]||(s[15]=e("label",{class:"setting-label"},"显示时间",-1)),V(e("select",{"onUpdate:modelValue":s[2]||(s[2]=r=>v.settings.displayTime=r),class:"setting-select"},s[14]||(s[14]=[e("option",{value:"2"},"2秒/单词",-1),e("option",{value:"3"},"3秒/单词",-1),e("option",{value:"4"},"4秒/单词",-1),e("option",{value:"5"},"5秒/单词",-1)]),512),[[G,v.settings.displayTime]])]),e("div",el,[s[17]||(s[17]=e("label",{class:"setting-label"},"题目数量",-1)),V(e("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>v.settings.questionCount=r),class:"setting-select"},s[16]||(s[16]=[e("option",{value:"10"},"10题",-1),e("option",{value:"15"},"15题",-1),e("option",{value:"20"},"20题",-1),e("option",{value:"25"},"25题",-1)]),512),[[G,v.settings.questionCount]])])])])]),e("div",sl,[e("button",{onClick:s[4]||(s[4]=(...r)=>l.startTest&&l.startTest(...r)),class:"btn-start"},"开始测试")])])])):v.currentPhase==="testing"?(o(),a("div",tl,[e("div",nl,[e("div",il,[e("div",ll,[e("div",ol,[e("div",{class:"progress-fill",style:I({width:l.progressPercentage+"%"})},null,4)]),e("span",al,i(v.currentQuestionIndex+1)+" / "+i(l.totalQuestions),1)]),e("div",rl,[e("div",cl,[s[20]||(s[20]=e("span",{class:"stat-icon"},"⏱️",-1)),e("span",ul,i(l.formatTime(v.elapsedTime)),1)]),e("div",dl,[s[21]||(s[21]=e("span",{class:"stat-icon"},"🎯",-1)),e("span",vl,i(v.correctAnswers)+"/"+i(v.answeredQuestions),1)])])]),v.testStage==="memorize"?(o(),a("div",hl,[s[22]||(s[22]=e("div",{class:"stage-title"},"请记住以下单词",-1)),e("div",ml,[e("div",pl,[(o(!0),a(S,null,$(v.currentQuestion.words,(r,p)=>(o(),a("div",{key:p,class:P(["word-item",{highlight:p===v.highlightIndex}])},i(r),3))),128))])]),e("div",gl,[e("div",fl,[e("div",{class:"timer-fill",style:I({background:`conic-gradient(#007bff ${l.timerProgress}deg, #e9ecef 0deg)`})},null,4),e("div",yl,i(Math.ceil(v.memorizeTimeLeft/1e3)),1)])])])):v.testStage==="answer"?(o(),a("div",_l,[v.currentQuestion.type==="sequence"?(o(),a("div",bl,[s[23]||(s[23]=e("div",{class:"question-title"},"请按顺序选择刚才看到的单词",-1)),e("div",kl,[e("div",wl,[(o(!0),a(S,null,$(v.userSequence,(r,p)=>(o(),a("div",{key:p,class:"selected-word"},[ke(i(r)+" ",1),e("button",{onClick:L=>l.removeFromSequence(p),class:"remove-btn"},"×",8,Sl)]))),128))]),e("div",$l,[(o(!0),a(S,null,$(l.shuffledWords,r=>(o(),a("button",{key:r,onClick:p=>l.addToSequence(r),disabled:v.userSequence.includes(r),class:P(["word-option",{disabled:v.userSequence.includes(r)}])},i(r),11,Tl))),128))])])])):v.currentQuestion.type==="recognition"?(o(),a("div",Ml,[s[24]||(s[24]=e("div",{class:"question-title"},"以下哪些单词刚才出现过？",-1)),e("div",ql,[(o(!0),a(S,null,$(v.currentQuestion.options,r=>(o(),a("button",{key:r,onClick:p=>l.toggleRecognition(r),class:P(["recognition-option",{selected:v.recognitionAnswers.includes(r)}])},i(r),11,Cl))),128))])])):v.currentQuestion.type==="semantic"?(o(),a("div",Ql,[e("div",xl,i(v.currentQuestion.question),1),e("div",Il,[(o(!0),a(S,null,$(v.currentQuestion.options,(r,p)=>(o(),a("button",{key:p,onClick:L=>l.selectSemanticAnswer(r),class:P(["semantic-option",{selected:v.semanticAnswer===r}])},i(r),11,Al))),128))])])):A("",!0),e("div",Dl,[e("button",{onClick:s[5]||(s[5]=(...r)=>l.submitAnswer&&l.submitAnswer(...r)),disabled:!l.canSubmit,class:"btn-submit"},"提交答案",8,Pl),e("button",{onClick:s[6]||(s[6]=(...r)=>l.skipQuestion&&l.skipQuestion(...r)),class:"btn-skip"},"跳过")])])):A("",!0)])])):v.currentPhase==="feedback"?(o(),a("div",Ll,[e("div",Ol,[e("div",{class:P(["feedback-result",{correct:v.lastAnswerCorrect,incorrect:!v.lastAnswerCorrect}])},[e("div",El,i(v.lastAnswerCorrect?"✅":"❌"),1),e("div",Bl,i(v.lastAnswerCorrect?"回答正确！":"回答错误"),1),e("div",zl,[e("div",Fl,[s[25]||(s[25]=e("span",{class:"label"},"正确答案：",-1)),e("span",Rl,i(l.getCorrectAnswerDisplay()),1)]),e("div",Nl,[s[26]||(s[26]=e("span",{class:"label"},"您的答案：",-1)),e("span",Ul,i(l.getUserAnswerDisplay()),1)])]),e("div",jl,[e("div",Kl,[s[27]||(s[27]=e("span",{class:"stat-label"},"用时：",-1)),e("span",Vl,i(l.formatTime(v.lastQuestionTime)),1)]),e("div",Wl,[s[28]||(s[28]=e("span",{class:"stat-label"},"准确率：",-1)),e("span",Jl,i(Math.round(v.correctAnswers/v.answeredQuestions*100))+"%",1)])])],2),e("div",Hl,[e("button",{onClick:s[7]||(s[7]=(...r)=>l.nextQuestion&&l.nextQuestion(...r)),class:"btn-next"},"继续")])])])):v.currentPhase==="results"?(o(),a("div",Yl,[e("div",Gl,[e("div",Xl,[s[34]||(s[34]=e("h2",{class:"results-title"},"单词记忆测试结果",-1)),e("div",Zl,[e("div",{class:"score-circle",style:I({background:`conic-gradient(#007bff ${l.totalScore/100*360}deg, #e9ecef 0deg)`})},[e("div",eo,[e("div",so,i(l.totalScore),1),s[29]||(s[29]=e("div",{class:"score-label"},"总分",-1))])],4)]),e("div",to,[e("div",no,[e("div",io,i(Math.round(l.accuracy))+"%",1),s[30]||(s[30]=e("div",{class:"stat-title"},"准确率",-1))]),e("div",lo,[e("div",oo,i(l.formatTime(l.averageTime)),1),s[31]||(s[31]=e("div",{class:"stat-title"},"平均用时",-1))]),e("div",ao,[e("div",ro,i(v.answeredQuestions),1),s[32]||(s[32]=e("div",{class:"stat-title"},"完成题数",-1))]),e("div",co,[e("div",uo,i(l.wordMemoryScore),1),s[33]||(s[33]=e("div",{class:"stat-title"},"记忆能力",-1))])])]),e("div",vo,[s[42]||(s[42]=e("h3",{class:"analysis-title"},"详细分析",-1)),e("div",ho,[s[35]||(s[35]=e("h4",{class:"section-title"},"测试类型表现",-1)),e("div",mo,[(o(!0),a(S,null,$(l.typePerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",po,i(l.getTypeLabel(p)),1),e("span",go,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",fo,[s[36]||(s[36]=e("h4",{class:"section-title"},"难度表现",-1)),e("div",yo,[(o(!0),a(S,null,$(l.difficultyPerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",_o,i(l.getDifficultyLabel(p)),1),e("span",bo,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",ko,[s[41]||(s[41]=e("h4",{class:"section-title"},"记忆统计",-1)),e("div",wo,[e("div",So,[s[37]||(s[37]=e("span",{class:"stats-label"},"最佳表现",-1)),e("span",$o,i(l.bestPerformance.type)+" - "+i(Math.round(l.bestPerformance.accuracy))+"%",1)]),e("div",To,[s[38]||(s[38]=e("span",{class:"stats-label"},"最快回答",-1)),e("span",Mo,i(l.formatTime(l.fastestTime)),1)]),e("div",qo,[s[39]||(s[39]=e("span",{class:"stats-label"},"最慢回答",-1)),e("span",Co,i(l.formatTime(l.slowestTime)),1)]),e("div",Qo,[s[40]||(s[40]=e("span",{class:"stats-label"},"连续正确",-1)),e("span",xo,i(l.maxStreak)+" 题",1)])])])]),e("div",Io,[s[43]||(s[43]=e("h3",{class:"analysis-title"},"表现评价与改进建议",-1)),e("div",Ao,[e("p",Do,i(l.getPerformanceEvaluation()),1),e("ul",Po,[(o(!0),a(S,null,$(l.getImprovementSuggestions(),r=>(o(),a("li",{key:r,class:"suggestion-item"},i(r),1))),128))])])]),e("div",Lo,[e("button",{onClick:s[8]||(s[8]=r=>t.$emit("restart")),class:"btn-primary"},"重新测试"),e("button",{onClick:s[9]||(s[9]=r=>t.$emit("export")),class:"btn-secondary"},"导出报告"),ze(b,{to:"/training/memory",class:"btn-secondary"},{default:Ke(()=>s[44]||(s[44]=[ke("开始训练",-1)])),_:1,__:[44]})])])])):A("",!0)])}const Eo=Le(ji,[["render",Oo],["__scopeId","data-v-810dfc48"]]);const Bo={name:"SequenceMemoryTest",emits:["complete","restart","export"],data(){return{currentPhase:"instruction",testStage:"display",settings:{difficulty:"medium",sequenceType:"mixed",displaySpeed:"medium",questionCount:15},currentQuestionIndex:0,questions:[],currentQuestion:null,startTime:null,elapsedTime:0,timer:null,displayTimer:null,displayTimeLeft:0,lastQuestionTime:0,activeIndex:-1,userSequence:[],shuffledOptions:[],answers:[],correctAnswers:0,answeredQuestions:0,lastAnswerCorrect:!1,elementBank:{colors:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],numbers:[1,2,3,4,5,6,7,8,9,0],shapes:["circle","square","triangle","diamond","star","heart","hexagon","pentagon"]}}},computed:{totalQuestions(){return parseInt(this.settings.questionCount)},progressPercentage(){return this.currentQuestionIndex/this.totalQuestions*100},timerProgress(){const t=this.getDisplayTime();return(t-this.displayTimeLeft)/t*360},canSubmit(){return this.userSequence.length===this.currentQuestion.sequence.length},accuracy(){return this.answeredQuestions>0?this.correctAnswers/this.answeredQuestions*100:0},averageTime(){return this.answers.length===0?0:this.answers.reduce((s,d)=>s+d.time,0)/this.answers.length},totalScore(){return Math.round(this.accuracy*.7+this.getSpeedScore()*.2+this.getConsistencyScore()*.1)},sequenceMemoryScore(){return Math.round(this.accuracy*.8+this.getLengthScore()*.2)},typePerformance(){const t={};return this.answers.forEach(s=>{const d=s.sequenceType;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},difficultyPerformance(){const t={};return this.answers.forEach(s=>{const d=s.difficulty;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},lengthPerformance(){const t={};return this.answers.forEach(s=>{const d=s.sequenceLength;t[d]||(t[d]={correct:0,total:0}),t[d].total++,s.correct&&t[d].correct++}),Object.keys(t).forEach(s=>{t[s].accuracy=t[s].correct/t[s].total*100}),t},bestPerformance(){let t={type:"",accuracy:0};return Object.entries(this.typePerformance).forEach(([s,d])=>{d.accuracy>t.accuracy&&(t={type:this.getTypeLabel(s),accuracy:d.accuracy})}),t},fastestTime(){return this.answers.length>0?Math.min(...this.answers.map(t=>t.time)):0},slowestTime(){return this.answers.length>0?Math.max(...this.answers.map(t=>t.time)):0},maxStreak(){let t=0,s=0;return this.answers.forEach(d=>{d.correct?(s++,t=Math.max(t,s)):s=0}),t},averageSequenceLength(){return this.answers.length===0?0:this.answers.reduce((s,d)=>s+d.sequenceLength,0)/this.answers.length}},methods:{startTest(){this.currentPhase="testing",this.generateQuestions(),this.startQuestion(),this.startTimer()},generateQuestions(){this.questions=[];const t=this.totalQuestions;for(let s=0;s<t;s++){const d=this.generateQuestion();this.questions.push(d)}},generateQuestion(){const t=this.settings.sequenceType==="mixed"?["color","number","shape"]:[this.settings.sequenceType],s=t[Math.floor(Math.random()*t.length)],d=this.settings.difficulty,w=this.getSequenceLength(d),v=this.generateSequence(s,w),l=this.generateDistractors(s,v);return{sequence:v,distractors:l,type:s,difficulty:d,length:w}},getSequenceLength(t){return{easy:Math.floor(Math.random()*3)+3,medium:Math.floor(Math.random()*3)+5,hard:Math.floor(Math.random()*3)+7,expert:Math.floor(Math.random()*4)+9}[t]||5},generateSequence(t,s){const d=[],w=[...this.elementBank[t+"s"]];for(let v=0;v<s;v++){const l=Math.floor(Math.random()*w.length),b=w[l];d.push({type:t,value:b,id:`${t}_${b}_${v}`}),w.splice(l,1),w.length===0&&w.push(...this.elementBank[t+"s"])}return d},generateDistractors(t,s){const d=[],w=s.map(b=>b.value),v=this.elementBank[t+"s"].filter(b=>!w.includes(b)),l=Math.min(s.length,v.length);for(let b=0;b<l;b++){const r=Math.floor(Math.random()*v.length),p=v.splice(r,1)[0];d.push({type:t,value:p,id:`${t}_${p}_distractor_${b}`})}return d},startQuestion(){if(this.currentQuestionIndex>=this.totalQuestions){this.finishTest();return}this.currentQuestion=this.questions[this.currentQuestionIndex],this.testStage="display",this.userSequence=[],this.activeIndex=-1,this.startDisplayPhase()},startDisplayPhase(){const t=this.getDisplayTime();this.displayTimeLeft=t;let s=0;const d=this.getItemDisplayTime(),w=setInterval(()=>{this.activeIndex=s,s++,s>this.currentQuestion.sequence.length&&(clearInterval(w),this.activeIndex=-1)},d);this.displayTimer=setInterval(()=>{this.displayTimeLeft-=100,this.displayTimeLeft<=0&&(clearInterval(this.displayTimer),this.testStage="answer",this.prepareAnswerPhase(),this.lastQuestionTime=Date.now())},100)},getDisplayTime(){return this.currentQuestion.sequence.length*this.getItemDisplayTime()+1e3},getItemDisplayTime(){return{slow:1500,medium:1e3,fast:700,"very-fast":500}[this.settings.displaySpeed]||1e3},prepareAnswerPhase(){this.shuffledOptions=[...this.currentQuestion.sequence,...this.currentQuestion.distractors].sort(()=>Math.random()-.5)},addToSequence(t){!this.isItemSelected(t)&&this.userSequence.length<this.currentQuestion.sequence.length&&this.userSequence.push(t)},removeFromSequence(t){this.userSequence.splice(t,1)},clearSequence(){this.userSequence=[]},isItemSelected(t){return this.userSequence.some(s=>s.id===t.id)},submitAnswer(){const t=Date.now()-this.lastQuestionTime,s=this.checkAnswer();this.answers.push({questionIndex:this.currentQuestionIndex,sequenceType:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,sequenceLength:this.currentQuestion.length,correct:s,time:t,userAnswer:this.userSequence.map(d=>d.value),correctAnswer:this.currentQuestion.sequence.map(d=>d.value)}),this.answeredQuestions++,s&&this.correctAnswers++,this.lastAnswerCorrect=s,this.lastQuestionTime=t,this.currentPhase="feedback"},checkAnswer(){if(this.userSequence.length!==this.currentQuestion.sequence.length)return!1;for(let t=0;t<this.userSequence.length;t++)if(this.userSequence[t].value!==this.currentQuestion.sequence[t].value)return!1;return!0},isItemCorrect(t,s){return s>=this.currentQuestion.sequence.length?!1:t.value===this.currentQuestion.sequence[s].value},skipQuestion(){this.answers.push({questionIndex:this.currentQuestionIndex,sequenceType:this.currentQuestion.type,difficulty:this.currentQuestion.difficulty,sequenceLength:this.currentQuestion.length,correct:!1,time:Date.now()-this.lastQuestionTime,userAnswer:null,correctAnswer:this.currentQuestion.sequence.map(t=>t.value),skipped:!0}),this.answeredQuestions++,this.nextQuestion()},nextQuestion(){this.currentQuestionIndex++,this.currentPhase="testing",this.startQuestion()},finishTest(){this.currentPhase="results",this.stopTimer(),this.$emit("complete",{score:this.totalScore,accuracy:this.accuracy,averageTime:this.averageTime,answers:this.answers})},startTimer(){this.startTime=Date.now(),this.timer=setInterval(()=>{this.elapsedTime=Date.now()-this.startTime},100)},stopTimer(){this.timer&&(clearInterval(this.timer),this.timer=null),this.displayTimer&&(clearInterval(this.displayTimer),this.displayTimer=null)},formatTime(t){const s=Math.floor(t/1e3),d=Math.floor(s/60),w=s%60;return`${d}:${w.toString().padStart(2,"0")}`},getItemStyle(t){return{transition:"all 0.3s ease"}},getTypeLabel(t){return{color:"颜色序列",number:"数字序列",shape:"形状序列"}[t]||t},getDifficultyLabel(t){return{easy:"简单",medium:"中等",hard:"困难",expert:"专家"}[t]||t},getSpeedScore(){if(this.answers.length===0)return 0;const t=this.averageTime;return Math.max(0,Math.min(100,100-(t-3e3)/100))},getConsistencyScore(){if(this.answers.length<3)return 100;const t=this.answers.map(v=>v.time),s=t.reduce((v,l)=>v+l,0)/t.length,d=t.reduce((v,l)=>v+Math.pow(l-s,2),0)/t.length,w=Math.sqrt(d);return Math.max(0,100-w/s*100)},getLengthScore(){return this.answers.length===0?0:this.averageSequenceLength/12*100},getPerformanceEvaluation(){const t=this.totalScore;return t>=90?"优秀！您的序列记忆能力非常出色，能够准确记住复杂的序列模式。继续保持这种水平，可以尝试更长的序列挑战。":t>=80?"良好！您的序列记忆能力较强，在大部分序列任务中表现良好。通过针对性训练可以进一步提升。":t>=70?"中等！您的序列记忆能力处于平均水平，还有较大的提升空间。建议加强序列记忆策略的学习和练习。":t>=60?"需要改进！您的序列记忆能力有待提升，建议从较短的序列开始练习，逐步提高。":"需要加强！建议从简单的序列记忆任务开始，掌握基本的记忆方法，循序渐进地提升能力。"},getImprovementSuggestions(){const t=[];return this.accuracy<70&&(t.push("练习基础的序列记忆技巧，如分组记忆、节奏记忆等"),t.push("从较短的序列开始练习，逐步增加长度")),this.averageTime>5e3&&(t.push("提高反应速度，可以通过快速识别训练来改善"),t.push("练习快速序列识别，减少犹豫时间")),Object.entries(this.typePerformance).forEach(([d,w])=>{w.accuracy<60&&(d==="color"?t.push("加强颜色序列记忆，可以使用颜色联想法"):d==="number"?t.push("提高数字序列记忆，可以使用数字编码技巧"):d==="shape"&&t.push("加强形状序列记忆，可以使用形状故事法"))}),this.averageSequenceLength<6&&t.push("逐步挑战更长的序列，提高记忆容量"),t.push("保持规律的练习，每天进行短时间的序列记忆训练"),t.push("注意休息，避免疲劳对记忆能力的影响"),t.slice(0,5)}},beforeUnmount(){this.stopTimer()}},zo={class:"sequence-memory-test"},Fo={key:0,class:"instruction-phase fade-in"},Ro={class:"instruction-container"},No={class:"instruction-content"},Uo={class:"test-settings"},jo={class:"settings-grid"},Ko={class:"setting-item"},Vo={class:"setting-item"},Wo={class:"setting-item"},Jo={class:"setting-item"},Ho={class:"instruction-actions"},Yo={key:1,class:"testing-phase"},Go={class:"test-container"},Xo={class:"test-header"},Zo={class:"progress-info"},ea={class:"progress-bar"},sa={class:"progress-text"},ta={class:"test-stats"},na={class:"stat-item"},ia={class:"stat-value"},la={class:"stat-item"},oa={class:"stat-value"},aa={key:0,class:"display-stage"},ra={class:"sequence-display"},ca={class:"sequence-container"},ua={key:1,class:"number-item"},da={key:2,class:"shape-item"},va={class:"display-timer"},ha={class:"timer-circle"},ma={class:"timer-text"},pa={key:1,class:"answer-stage"},ga={class:"user-sequence"},fa={class:"selected-sequence"},ya=["onClick"],_a={key:1,class:"number-item"},ba={key:2,class:"shape-item"},ka={class:"options-area"},wa={class:"sequence-options"},Sa=["onClick"],$a={key:1,class:"number-item"},Ta={key:2,class:"shape-item"},Ma={class:"answer-actions"},qa=["disabled"],Ca={key:2,class:"feedback-phase fade-in"},Qa={class:"feedback-container"},xa={class:"feedback-icon"},Ia={class:"feedback-title"},Aa={class:"sequence-comparison"},Da={class:"correct-sequence"},Pa={class:"sequence-display-small"},La={key:1,class:"number-item-small"},Oa={key:2,class:"shape-item-small"},Ea={class:"user-sequence-feedback"},Ba={class:"sequence-display-small"},za={key:1,class:"number-item-small"},Fa={key:2,class:"shape-item-small"},Ra={class:"feedback-stats"},Na={class:"stat-item"},Ua={class:"stat-value"},ja={class:"stat-item"},Ka={class:"stat-value"},Va={class:"stat-item"},Wa={class:"stat-value"},Ja={class:"feedback-actions"},Ha={key:3,class:"results-phase fade-in"},Ya={class:"results-container"},Ga={class:"overall-results"},Xa={class:"score-display"},Za={class:"score-inner"},er={class:"score-number"},sr={class:"stats-grid"},tr={class:"stat-card"},nr={class:"stat-number"},ir={class:"stat-card"},lr={class:"stat-number"},or={class:"stat-card"},ar={class:"stat-number"},rr={class:"stat-card"},cr={class:"stat-number"},ur={class:"detailed-analysis"},dr={class:"analysis-section"},vr={class:"performance-grid"},hr={class:"performance-label"},mr={class:"performance-value"},pr={class:"analysis-section"},gr={class:"performance-grid"},fr={class:"performance-label"},yr={class:"performance-value"},_r={class:"analysis-section"},br={class:"performance-grid"},kr={class:"performance-label"},wr={class:"performance-value"},Sr={class:"analysis-section"},$r={class:"memory-stats"},Tr={class:"stats-row"},Mr={class:"stats-value"},qr={class:"stats-row"},Cr={class:"stats-value"},Qr={class:"stats-row"},xr={class:"stats-value"},Ir={class:"stats-row"},Ar={class:"stats-value"},Dr={class:"stats-row"},Pr={class:"stats-value"},Lr={class:"performance-feedback"},Or={class:"feedback-content"},Er={class:"evaluation-text"},Br={class:"suggestions-list"},zr={class:"results-actions"};function Fr(t,s,d,w,v,l){const b=je("router-link");return o(),a("div",zo,[v.currentPhase==="instruction"?(o(),a("div",Fo,[e("div",Ro,[s[20]||(s[20]=e("h2",{class:"instruction-title"},"序列记忆测试",-1)),e("div",No,[s[19]||(s[19]=e("div",{class:"test-description"},[e("h3",null,"测试目标"),e("p",null,"评估您的序列记忆能力，包括顺序记忆、模式识别和序列重现等方面。"),e("h3",null,"测试步骤"),e("ol",null,[e("li",null,"根据您的需求调整测试设置"),e("li",null,"仔细观察显示的序列模式"),e("li",null,"在规定时间内记住序列的顺序"),e("li",null,"根据要求重现或识别序列"),e("li",null,"查看详细的测试结果和分析")])],-1)),e("div",Uo,[e("div",jo,[e("div",Ko,[s[12]||(s[12]=e("label",{class:"setting-label"},"难度等级",-1)),V(e("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>v.settings.difficulty=r),class:"setting-select"},s[11]||(s[11]=[e("option",{value:"easy"},"简单 (3-5个元素)",-1),e("option",{value:"medium"},"中等 (5-7个元素)",-1),e("option",{value:"hard"},"困难 (7-9个元素)",-1),e("option",{value:"expert"},"专家 (9-12个元素)",-1)]),512),[[G,v.settings.difficulty]])]),e("div",Vo,[s[14]||(s[14]=e("label",{class:"setting-label"},"序列类型",-1)),V(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>v.settings.sequenceType=r),class:"setting-select"},s[13]||(s[13]=[e("option",{value:"color"},"颜色序列",-1),e("option",{value:"number"},"数字序列",-1),e("option",{value:"shape"},"形状序列",-1),e("option",{value:"mixed"},"混合模式",-1)]),512),[[G,v.settings.sequenceType]])]),e("div",Wo,[s[16]||(s[16]=e("label",{class:"setting-label"},"显示速度",-1)),V(e("select",{"onUpdate:modelValue":s[2]||(s[2]=r=>v.settings.displaySpeed=r),class:"setting-select"},s[15]||(s[15]=[e("option",{value:"slow"},"慢速 (1.5秒/元素)",-1),e("option",{value:"medium"},"中速 (1秒/元素)",-1),e("option",{value:"fast"},"快速 (0.7秒/元素)",-1),e("option",{value:"very-fast"},"极快 (0.5秒/元素)",-1)]),512),[[G,v.settings.displaySpeed]])]),e("div",Jo,[s[18]||(s[18]=e("label",{class:"setting-label"},"题目数量",-1)),V(e("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>v.settings.questionCount=r),class:"setting-select"},s[17]||(s[17]=[e("option",{value:"10"},"10题",-1),e("option",{value:"15"},"15题",-1),e("option",{value:"20"},"20题",-1),e("option",{value:"25"},"25题",-1)]),512),[[G,v.settings.questionCount]])])])])]),e("div",Ho,[e("button",{onClick:s[4]||(s[4]=(...r)=>l.startTest&&l.startTest(...r)),class:"btn-start"},"开始测试")])])])):v.currentPhase==="testing"?(o(),a("div",Yo,[e("div",Go,[e("div",Xo,[e("div",Zo,[e("div",ea,[e("div",{class:"progress-fill",style:I({width:l.progressPercentage+"%"})},null,4)]),e("span",sa,i(v.currentQuestionIndex+1)+" / "+i(l.totalQuestions),1)]),e("div",ta,[e("div",na,[s[21]||(s[21]=e("span",{class:"stat-icon"},"⏱️",-1)),e("span",ia,i(l.formatTime(v.elapsedTime)),1)]),e("div",la,[s[22]||(s[22]=e("span",{class:"stat-icon"},"🎯",-1)),e("span",oa,i(v.correctAnswers)+"/"+i(v.answeredQuestions),1)])])]),v.testStage==="display"?(o(),a("div",aa,[s[23]||(s[23]=e("div",{class:"stage-title"},"请记住以下序列",-1)),e("div",ra,[e("div",ca,[(o(!0),a(S,null,$(v.currentQuestion.sequence,(r,p)=>(o(),a("div",{key:p,class:P(["sequence-item",{active:p===v.activeIndex,completed:p<v.activeIndex,[r.type]:!0}]),style:I(l.getItemStyle(r))},[r.type==="color"?(o(),a("div",{key:0,class:"color-item",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",ua,i(r.value),1)):r.type==="shape"?(o(),a("div",da,[e("div",{class:P(["shape",r.value])},null,2)])):A("",!0)],6))),128))])]),e("div",va,[e("div",ha,[e("div",{class:"timer-fill",style:I({background:`conic-gradient(#007bff ${l.timerProgress}deg, #e9ecef 0deg)`})},null,4),e("div",ma,i(Math.ceil(v.displayTimeLeft/1e3)),1)])])])):v.testStage==="answer"?(o(),a("div",pa,[s[27]||(s[27]=e("div",{class:"question-title"},"请按顺序重现刚才看到的序列",-1)),e("div",ga,[s[25]||(s[25]=e("div",{class:"sequence-title"},"您的选择：",-1)),e("div",fa,[(o(!0),a(S,null,$(v.userSequence,(r,p)=>(o(),a("div",{key:p,class:P(["selected-item",r.type]),style:I(l.getItemStyle(r)),onClick:L=>l.removeFromSequence(p)},[r.type==="color"?(o(),a("div",{key:0,class:"color-item",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",_a,i(r.value),1)):r.type==="shape"?(o(),a("div",ba,[e("div",{class:P(["shape",r.value])},null,2)])):A("",!0),s[24]||(s[24]=e("button",{class:"remove-btn"},"×",-1))],14,ya))),128))])]),e("div",ka,[s[26]||(s[26]=e("div",{class:"options-title"},"可选项：",-1)),e("div",wa,[(o(!0),a(S,null,$(v.shuffledOptions,(r,p)=>(o(),a("div",{key:p,class:P(["option-item",{disabled:l.isItemSelected(r),[r.type]:!0}]),style:I(l.getItemStyle(r)),onClick:L=>l.addToSequence(r)},[r.type==="color"?(o(),a("div",{key:0,class:"color-item",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",$a,i(r.value),1)):r.type==="shape"?(o(),a("div",Ta,[e("div",{class:P(["shape",r.value])},null,2)])):A("",!0)],14,Sa))),128))])]),e("div",Ma,[e("button",{onClick:s[5]||(s[5]=(...r)=>l.submitAnswer&&l.submitAnswer(...r)),disabled:!l.canSubmit,class:"btn-submit"},"提交答案",8,qa),e("button",{onClick:s[6]||(s[6]=(...r)=>l.skipQuestion&&l.skipQuestion(...r)),class:"btn-skip"},"跳过"),e("button",{onClick:s[7]||(s[7]=(...r)=>l.clearSequence&&l.clearSequence(...r)),class:"btn-clear"},"清空")])])):A("",!0)])])):v.currentPhase==="feedback"?(o(),a("div",Ca,[e("div",Qa,[e("div",{class:P(["feedback-result",{correct:v.lastAnswerCorrect,incorrect:!v.lastAnswerCorrect}])},[e("div",xa,i(v.lastAnswerCorrect?"✅":"❌"),1),e("div",Ia,i(v.lastAnswerCorrect?"回答正确！":"回答错误"),1),e("div",Aa,[e("div",Da,[s[28]||(s[28]=e("span",{class:"label"},"正确序列：",-1)),e("div",Pa,[(o(!0),a(S,null,$(v.currentQuestion.sequence,(r,p)=>(o(),a("div",{key:p,class:P(["sequence-item-small",r.type]),style:I(l.getItemStyle(r))},[r.type==="color"?(o(),a("div",{key:0,class:"color-item-small",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",La,i(r.value),1)):r.type==="shape"?(o(),a("div",Oa,[e("div",{class:P(["shape-small",r.value])},null,2)])):A("",!0)],6))),128))])]),e("div",Ea,[s[29]||(s[29]=e("span",{class:"label"},"您的答案：",-1)),e("div",Ba,[(o(!0),a(S,null,$(v.userSequence,(r,p)=>(o(),a("div",{key:p,class:P(["sequence-item-small",{correct:l.isItemCorrect(r,p),incorrect:!l.isItemCorrect(r,p),[r.type]:!0}]),style:I(l.getItemStyle(r))},[r.type==="color"?(o(),a("div",{key:0,class:"color-item-small",style:I({backgroundColor:r.value})},null,4)):r.type==="number"?(o(),a("div",za,i(r.value),1)):r.type==="shape"?(o(),a("div",Fa,[e("div",{class:P(["shape-small",r.value])},null,2)])):A("",!0)],6))),128))])])]),e("div",Ra,[e("div",Na,[s[30]||(s[30]=e("span",{class:"stat-label"},"用时：",-1)),e("span",Ua,i(l.formatTime(v.lastQuestionTime)),1)]),e("div",ja,[s[31]||(s[31]=e("span",{class:"stat-label"},"准确率：",-1)),e("span",Ka,i(Math.round(v.correctAnswers/v.answeredQuestions*100))+"%",1)]),e("div",Va,[s[32]||(s[32]=e("span",{class:"stat-label"},"序列长度：",-1)),e("span",Wa,i(v.currentQuestion.sequence.length),1)])])],2),e("div",Ja,[e("button",{onClick:s[8]||(s[8]=(...r)=>l.nextQuestion&&l.nextQuestion(...r)),class:"btn-next"},"继续")])])])):v.currentPhase==="results"?(o(),a("div",Ha,[e("div",Ya,[e("div",Ga,[s[38]||(s[38]=e("h2",{class:"results-title"},"序列记忆测试结果",-1)),e("div",Xa,[e("div",{class:"score-circle",style:I({background:`conic-gradient(#007bff ${l.totalScore/100*360}deg, #e9ecef 0deg)`})},[e("div",Za,[e("div",er,i(l.totalScore),1),s[33]||(s[33]=e("div",{class:"score-label"},"总分",-1))])],4)]),e("div",sr,[e("div",tr,[e("div",nr,i(Math.round(l.accuracy))+"%",1),s[34]||(s[34]=e("div",{class:"stat-title"},"准确率",-1))]),e("div",ir,[e("div",lr,i(l.formatTime(l.averageTime)),1),s[35]||(s[35]=e("div",{class:"stat-title"},"平均用时",-1))]),e("div",or,[e("div",ar,i(v.answeredQuestions),1),s[36]||(s[36]=e("div",{class:"stat-title"},"完成题数",-1))]),e("div",rr,[e("div",cr,i(l.sequenceMemoryScore),1),s[37]||(s[37]=e("div",{class:"stat-title"},"序列记忆",-1))])])]),e("div",ur,[s[48]||(s[48]=e("h3",{class:"analysis-title"},"详细分析",-1)),e("div",dr,[s[39]||(s[39]=e("h4",{class:"section-title"},"序列类型表现",-1)),e("div",vr,[(o(!0),a(S,null,$(l.typePerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",hr,i(l.getTypeLabel(p)),1),e("span",mr,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",pr,[s[40]||(s[40]=e("h4",{class:"section-title"},"难度表现",-1)),e("div",gr,[(o(!0),a(S,null,$(l.difficultyPerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",fr,i(l.getDifficultyLabel(p)),1),e("span",yr,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",_r,[s[41]||(s[41]=e("h4",{class:"section-title"},"序列长度表现",-1)),e("div",br,[(o(!0),a(S,null,$(l.lengthPerformance,(r,p)=>(o(),a("div",{key:p,class:"performance-item"},[e("span",kr,i(p)+"个元素",1),e("span",wr,i(Math.round(r.accuracy))+"% ("+i(r.correct)+"/"+i(r.total)+")",1)]))),128))])]),e("div",Sr,[s[47]||(s[47]=e("h4",{class:"section-title"},"记忆统计",-1)),e("div",$r,[e("div",Tr,[s[42]||(s[42]=e("span",{class:"stats-label"},"最佳表现",-1)),e("span",Mr,i(l.bestPerformance.type)+" - "+i(Math.round(l.bestPerformance.accuracy))+"%",1)]),e("div",qr,[s[43]||(s[43]=e("span",{class:"stats-label"},"最快回答",-1)),e("span",Cr,i(l.formatTime(l.fastestTime)),1)]),e("div",Qr,[s[44]||(s[44]=e("span",{class:"stats-label"},"最慢回答",-1)),e("span",xr,i(l.formatTime(l.slowestTime)),1)]),e("div",Ir,[s[45]||(s[45]=e("span",{class:"stats-label"},"连续正确",-1)),e("span",Ar,i(l.maxStreak)+" 题",1)]),e("div",Dr,[s[46]||(s[46]=e("span",{class:"stats-label"},"平均序列长度",-1)),e("span",Pr,i(l.averageSequenceLength.toFixed(1))+" 个元素",1)])])])]),e("div",Lr,[s[49]||(s[49]=e("h3",{class:"analysis-title"},"表现评价与改进建议",-1)),e("div",Or,[e("p",Er,i(l.getPerformanceEvaluation()),1),e("ul",Br,[(o(!0),a(S,null,$(l.getImprovementSuggestions(),r=>(o(),a("li",{key:r,class:"suggestion-item"},i(r),1))),128))])])]),e("div",zr,[e("button",{onClick:s[9]||(s[9]=r=>t.$emit("restart")),class:"btn-primary"},"重新测试"),e("button",{onClick:s[10]||(s[10]=r=>t.$emit("export")),class:"btn-secondary"},"导出报告"),ze(b,{to:"/training/memory",class:"btn-secondary"},{default:Ke(()=>s[50]||(s[50]=[ke("开始训练",-1)])),_:1,__:[50]})])])])):A("",!0)])}const Rr=Le(Bo,[["render",Fr],["__scopeId","data-v-61bf027e"]]);const Nr={class:"memory-assessment"},Ur={key:0,class:"setup-phase"},jr={class:"setup-content"},Kr={class:"quick-settings-preview"},Vr={class:"preview-item"},Wr={class:"preview-value"},Jr={class:"preview-item"},Hr={class:"preview-value"},Yr={class:"preview-item"},Gr={class:"preview-value"},Xr={class:"settings-actions"},Zr={class:"setup-actions"},ec=["disabled"],sc={key:2,class:"testing-phase"},tc={class:"testing-header"},nc={class:"progress-section"},ic={class:"overall-progress"},lc={class:"progress-bar"},oc={class:"progress-text"},ac={class:"current-module-info"},rc={class:"module-name"},cc={class:"module-icon"},uc={key:0,class:"timer"},dc={class:"test-content"},vc={key:3,class:"results-phase"},hc={class:"results-header"},mc={class:"completion-time"},pc={class:"overall-score"},gc={class:"score-circle"},fc={class:"score-value"},yc={class:"score-level"},_c={class:"level-description"},bc={class:"ability-radar"},kc={class:"radar-container"},wc={class:"radar-chart"},Sc={class:"radar-grid"},$c={class:"radar-data"},Tc={class:"radar-legend"},Mc={class:"legend-label"},qc={class:"legend-score"},Cc={class:"module-results"},Qc={class:"results-grid"},xc={class:"result-header"},Ic={class:"result-icon"},Ac={class:"result-title"},Dc={class:"result-score"},Pc={class:"result-metrics"},Lc={class:"metric-item"},Oc={class:"metric-value"},Ec={class:"metric-item"},Bc={class:"metric-value"},zc={class:"metric-item"},Fc={class:"metric-value"},Rc={class:"result-performance"},Nc={class:"performance-bar"},Uc={class:"performance-label"},jc={key:0,class:"question-details"},Kc={class:"details-tabs"},Vc=["onClick"],Wc={class:"details-content"},Jc={class:"question-list"},Hc={class:"question-number"},Yc={class:"question-content"},Gc={class:"question-text"},Xc={class:"question-answer"},Zc={class:"user-answer"},eu={class:"correct-answer"},su={class:"question-result"},tu={class:"result-icon"},nu={class:"result-time"},iu={class:"improvement-suggestions"},lu={class:"suggestions-grid"},ou={class:"suggestion-icon"},au={class:"suggestion-content"},ru={class:"suggestion-actions"},cu=["onClick"],uu={class:"results-actions"},du={__name:"MemoryAssessment",setup(t){const s=ns(),{settings:d,showSettingsModal:w,openSettings:v,closeSettings:l,saveSettings:b,resetSettings:r}=rs("memory"),p=y("setup"),L=y(0),_=y([]),z=y(0),W=y(null),R=y(!1),j=y(""),X=y({}),U=[{key:"number",name:"数字记忆",description:"测试对数字序列的记忆能力",icon:"🔢",questionCount:15,duration:8,component:"NumberMemoryTest"},{key:"image",name:"图像记忆",description:"测试对图像内容的记忆能力",icon:"🖼️",questionCount:12,duration:10,component:"ImageMemoryTest"},{key:"word",name:"单词记忆",description:"测试对词汇的记忆能力",icon:"📝",questionCount:20,duration:12,component:"WordMemoryTest"},{key:"sequence",name:"序列记忆",description:"测试对序列模式的记忆能力",icon:"🔗",questionCount:10,duration:6,component:"SequenceMemoryTest"}],D=y([{key:"number",name:"数字记忆",score:0,color:"#007bff"},{key:"image",name:"图像记忆",score:0,color:"#28a745"},{key:"word",name:"单词记忆",score:0,color:"#ffc107"},{key:"sequence",name:"序列记忆",score:0,color:"#dc3545"}]),x=[{value:"easy",label:"简单",description:"适合初学者"},{value:"medium",label:"中等",description:"适合有一定基础的用户"},{value:"hard",label:"困难",description:"适合高级用户挑战"}],C=[{value:"comprehensive",label:"综合测评",description:"全面评估记忆能力"},{value:"quick",label:"快速测评",description:"快速了解记忆水平"},{value:"detailed",label:"详细测评",description:"深入分析记忆表现"}],Q=T(()=>{var n;return(n=d.value.selectedModules)!=null&&n.length?d.value.selectedModules.map(u=>{const k=U.find(F=>F.key===u);return(k==null?void 0:k.name)||u}).join("、"):"未选择"}),ee=T(()=>{const n=x.find(u=>u.value===d.value.difficulty);return(n==null?void 0:n.label)||"中等"}),ae=T(()=>{var n;return(n=d.value.selectedModules)!=null&&n.length?d.value.selectedModules.reduce((u,k)=>{const F=U.find(N=>N.key===k);return u+((F==null?void 0:F.duration)||0)},0):0}),ne=T(()=>{var n;return((n=d.value.selectedModules)==null?void 0:n.length)>0}),de=T(()=>{var n;return(n=d.value.selectedModules)!=null&&n.length?L.value/d.value.selectedModules.length*100:0}),ie=T(()=>{var u;if(L.value>=((u=d.value.selectedModules)==null?void 0:u.length))return null;const n=d.value.selectedModules[L.value];return U.find(k=>k.key===n)}),re=T(()=>{var u;return{number:zt,image:Ui,word:Eo,sequence:Rr}[(u=ie.value)==null?void 0:u.key]||null}),E=T(()=>{const n=_.value.find(u=>u.moduleKey==="number");return(n==null?void 0:n.score)||0}),Z=T(()=>{const n=_.value.find(u=>u.moduleKey==="image");return(n==null?void 0:n.score)||0}),se=T(()=>{const n=_.value.find(u=>u.moduleKey==="word");return(n==null?void 0:n.score)||0}),K=T(()=>{const n=_.value.find(u=>u.moduleKey==="sequence");return(n==null?void 0:n.score)||0}),J=T(()=>[{name:"数字记忆",score:E.value,color:"#007bff"},{name:"图像记忆",score:Z.value,color:"#28a745"},{name:"单词记忆",score:se.value,color:"#ffc107"},{name:"序列记忆",score:K.value,color:"#dc3545"}]),H=T(()=>_.value.reduce((n,u)=>n+(u.totalQuestions||0),0)),ve=T(()=>_.value.reduce((n,u)=>n+(u.correctAnswers||0),0));T(()=>H.value===0?0:Math.round(ve.value/H.value*100)),T(()=>{if(_.value.length===0)return 0;const n=_.value.reduce((u,k)=>u+(k.averageTime||0),0);return Math.round(n/_.value.length)});const Y=T(()=>{if(_.value.length===0)return 0;const n=_.value.reduce((u,k)=>u+k.score,0);return Math.round(n/_.value.length)}),Me=T(()=>{const n=[];return Y.value<60&&n.push({type:"overall",priority:"high",icon:"🎯",title:"加强基础记忆训练",description:"您的整体记忆能力有较大提升空间，建议从基础记忆训练开始。",actions:[{label:"开始基础训练",action:"basic-training"},{label:"查看训练计划",action:"training-plan"}]}),_.value.forEach(u=>{if(u.score<70){const k=me(u.moduleKey);n.push({type:u.moduleKey,priority:"medium",icon:pe(u.moduleKey),title:`提升${k}能力`,description:`您在${k}方面的表现需要加强，建议进行针对性训练。`,actions:[{label:"专项训练",action:`${u.moduleKey}-training`},{label:"学习技巧",action:`${u.moduleKey}-tips`}]})}}),n.push({type:"general",priority:"low",icon:"💡",title:"保持规律练习",description:"记忆能力需要持续练习来维持和提升，建议制定规律的训练计划。",actions:[{label:"制定计划",action:"create-plan"},{label:"设置提醒",action:"set-reminder"}]}),n}),we=()=>{ne.value&&(p.value="testing",L.value=0,_.value=[],z.value=0,X.value={difficulty:d.value.difficulty,mode:d.value.mode,enableHints:d.value.enableHints,enableFeedback:d.value.enableFeedback,enableProgress:d.value.enableProgress},ce())},ce=()=>{const n=Date.now();W.value=setInterval(()=>{z.value=Math.floor((Date.now()-n)/1e3)},1e3)},te=()=>{W.value&&(clearInterval(W.value),W.value=null)},qe=n=>{const u=d.value.selectedModules[L.value];_.value.push({moduleKey:u,...n}),L.value++,L.value>=d.value.selectedModules.length&&Se()},he=n=>{console.log("Test progress:",n)},Se=()=>{p.value="results",te();const n={type:"memory",timestamp:new Date().toISOString(),settings:{...X.value},results:_.value,overallScore:Y.value,totalTime:z.value,abilityScores:J.value},u=JSON.parse(localStorage.getItem("memoryAssessmentResults")||"[]");u.push(n),localStorage.setItem("memoryAssessmentResults",JSON.stringify(u)),_.value.length>0&&(j.value=_.value[0].moduleKey)},me=n=>{const u=U.find(k=>k.key===n);return(u==null?void 0:u.name)||"未知模块"},pe=n=>{const u=U.find(k=>k.key===n);return(u==null?void 0:u.icon)||"❓"},ge=n=>n>=90?{class:"excellent",label:"优秀",description:"您的记忆能力非常出色！"}:n>=80?{class:"good",label:"良好",description:"您的记忆能力表现良好。"}:n>=70?{class:"average",label:"一般",description:"您的记忆能力处于平均水平。"}:n>=60?{class:"below-average",label:"偏低",description:"您的记忆能力有提升空间。"}:{class:"poor",label:"较差",description:"建议加强记忆训练。"},fe=n=>n>=90?"excellent":n>=80?"good":n>=70?"average":n>=60?"below-average":"poor",Ce=n=>n>=90?"优秀":n>=80?"良好":n>=70?"一般":n>=60?"偏低":"较差",$e=n=>n?n.toLocaleString("zh-CN"):"",le=()=>{p.value="setup",L.value=0,_.value=[],z.value=0,R.value=!1,te()},Qe=()=>{const n={type:"memory-assessment",timestamp:new Date().toISOString(),overallScore:Y.value,moduleResults:_.value,settings:X.value},u=JSON.stringify(n,null,2),k=new Blob([u],{type:"application/json"}),F=URL.createObjectURL(k),N=document.createElement("a");N.href=F,N.download=`记忆能力测评报告_${new Date().toLocaleDateString()}.json`,N.click(),URL.revokeObjectURL(F),console.log("导出记忆能力测评报告")},xe=()=>{le()},Ie=()=>{s.push("/training/memory")},Ae=()=>{R.value=!R.value},g=n=>{console.log("执行建议操作:",n)};return Oe(()=>{}),Ee(()=>{te()}),(n,u)=>{var k,F,N;return o(),a("div",Nr,[p.value==="setup"?(o(),a("div",Ur,[e("div",jr,[u[3]||(u[3]=e("h2",null,"记忆能力测评",-1)),u[4]||(u[4]=e("p",{class:"assessment-description"}," 全面评估您的记忆能力，包括数字记忆、图像记忆、单词记忆和序列记忆等多个维度。 ",-1)),e("div",Kr,[e("div",Vr,[u[0]||(u[0]=e("span",{class:"preview-label"},"已选模块:",-1)),e("span",Wr,i(Q.value),1)]),e("div",Jr,[u[1]||(u[1]=e("span",{class:"preview-label"},"难度等级:",-1)),e("span",Hr,i(ee.value),1)]),e("div",Yr,[u[2]||(u[2]=e("span",{class:"preview-label"},"预计时长:",-1)),e("span",Gr,i(ae.value)+"分钟",1)])]),e("div",Xr,[ze(os,{text:"配置测评参数",onClick:ue(v)},null,8,["onClick"])]),e("div",Zr,[e("button",{onClick:we,disabled:!ne.value,class:"btn-start"}," 开始测评 ",8,ec)])])])):A("",!0),ue(w)?(o(),Re(as,{key:1,visible:ue(w),title:"记忆能力测评设置",settings:ue(d),"available-modules":U,"difficulty-levels":x,"assessment-modes":C,onClose:ue(l),onSave:ue(b),onReset:ue(r)},null,8,["visible","settings","onClose","onSave","onReset"])):A("",!0),p.value==="testing"?(o(),a("div",sc,[e("div",tc,[e("div",nc,[u[5]||(u[5]=e("h3",null,"记忆能力测评进行中",-1)),e("div",ic,[e("div",lc,[e("div",{class:"progress-fill",style:I({width:de.value+"%"})},null,4)]),e("span",oc,i(L.value+1)+" / "+i(((k=ue(d).selectedModules)==null?void 0:k.length)||0),1)])]),e("div",ac,[e("div",rc,[e("span",cc,i((F=ie.value)==null?void 0:F.icon),1),e("span",null,i((N=ie.value)==null?void 0:N.name),1)]),ue(d).enableProgress?(o(),a("div",uc,[u[6]||(u[6]=e("span",{class:"timer-icon"},"⏱️",-1)),e("span",null,i(n.formatTime(z.value)),1)])):A("",!0)])]),e("div",dc,[(o(),Re(is(re.value),{difficulty:n.selectedDifficulty,"enable-hints":n.enableHints,"enable-feedback":n.enableFeedback,"assessment-mode":n.assessmentMode,onTestComplete:qe,onTestProgress:he},null,40,["difficulty","enable-hints","enable-feedback","assessment-mode"]))])])):A("",!0),p.value==="results"?(o(),a("div",vc,[e("div",hc,[u[7]||(u[7]=e("h2",null,"记忆能力测评报告",-1)),e("p",mc,"完成时间: "+i($e(n.completionTime)),1)]),e("div",pc,[e("div",gc,[e("div",fc,i(Y.value),1),u[8]||(u[8]=e("div",{class:"score-label"},"综合得分",-1))]),e("div",yc,[e("div",{class:P(["level-badge",ge(Y.value).class])},i(ge(Y.value).label),3),e("p",_c,i(ge(Y.value).description),1)])]),e("div",bc,[u[9]||(u[9]=e("h3",null,"记忆能力分析",-1)),e("div",kc,[e("div",wc,[e("div",Sc,[(o(!0),a(S,null,$(D.value,(q,B)=>(o(),a("div",{class:"radar-axis",key:q.key},[e("div",{class:"axis-line",style:I({transform:`rotate(${B*(360/D.value.length)}deg)`})},null,4),e("div",{class:"axis-label",style:I({transform:`rotate(${B*(360/D.value.length)}deg) translate(120px) rotate(-${B*(360/D.value.length)}deg)`})},i(q.name),5)]))),128))]),e("div",$c,[(o(!0),a(S,null,$(D.value,(q,B)=>(o(),a("div",{key:q.key,class:"data-point",style:I({transform:`rotate(${B*(360/D.value.length)}deg) translate(${q.score}px)`,backgroundColor:q.color})},null,4))),128))])]),e("div",Tc,[(o(!0),a(S,null,$(D.value,q=>(o(),a("div",{key:q.key,class:"legend-item"},[e("div",{class:"legend-color",style:I({backgroundColor:q.color})},null,4),e("span",Mc,i(q.name),1),e("span",qc,i(q.score),1)]))),128))])])]),e("div",Cc,[u[13]||(u[13]=e("h3",null,"模块详细结果",-1)),e("div",Qc,[(o(!0),a(S,null,$(_.value,q=>(o(),a("div",{key:q.moduleKey,class:"result-card"},[e("div",xc,[e("div",Ic,i(pe(q.moduleKey)),1),e("div",Ac,[e("h4",null,i(me(q.moduleKey)),1),e("div",Dc,i(q.score)+"分",1)])]),e("div",Pc,[e("div",Lc,[u[10]||(u[10]=e("span",{class:"metric-label"},"准确率",-1)),e("span",Oc,i(q.accuracy)+"%",1)]),e("div",Ec,[u[11]||(u[11]=e("span",{class:"metric-label"},"平均用时",-1)),e("span",Bc,i(q.averageTime)+"s",1)]),e("div",zc,[u[12]||(u[12]=e("span",{class:"metric-label"},"完成题数",-1)),e("span",Fc,i(q.completedQuestions),1)])]),e("div",Rc,[e("div",Nc,[e("div",{class:P(["performance-fill",fe(q.score)]),style:I({width:q.score+"%"})},null,6)]),e("div",Uc,i(Ce(q.score)),1)])]))),128))])]),R.value?(o(),a("div",jc,[u[14]||(u[14]=e("h3",null,"题目详情",-1)),e("div",Kc,[(o(!0),a(S,null,$(_.value,q=>(o(),a("button",{key:q.moduleKey,class:P(["tab-button",{active:j.value===q.moduleKey}]),onClick:B=>j.value=q.moduleKey},i(me(q.moduleKey)),11,Vc))),128))]),e("div",Wc,[(o(!0),a(S,null,$(_.value,q=>V((o(),a("div",{key:q.moduleKey,class:"detail-panel"},[e("div",Jc,[(o(!0),a(S,null,$(q.questions,(B,De)=>(o(),a("div",{key:De,class:P(["question-item",{correct:B.isCorrect,incorrect:!B.isCorrect}])},[e("div",Hc,i(De+1),1),e("div",Yc,[e("div",Gc,i(B.question),1),e("div",Xc,[e("span",Zc,"您的答案: "+i(B.userAnswer||"未作答"),1),e("span",eu,"正确答案: "+i(B.correctAnswer),1)])]),e("div",su,[e("div",tu,i(B.isCorrect?"✅":"❌"),1),e("div",nu,i(B.timeSpent)+"s",1)])],2))),128))])])),[[ls,j.value===q.moduleKey]])),128))])])):A("",!0),e("div",iu,[u[15]||(u[15]=e("h3",null,"改进建议",-1)),e("div",lu,[(o(!0),a(S,null,$(Me.value,q=>(o(),a("div",{key:q.type,class:P(["suggestion-card",q.priority])},[e("div",ou,i(q.icon),1),e("div",au,[e("h4",null,i(q.title),1),e("p",null,i(q.description),1),e("div",ru,[(o(!0),a(S,null,$(q.actions,B=>(o(),a("button",{key:B.label,onClick:De=>g(B),class:"suggestion-action"},i(B.label),9,cu))),128))])])],2))),128))])]),e("div",uu,[e("button",{onClick:Qe,class:"btn-export"},u[16]||(u[16]=[e("span",{class:"btn-icon"},"📊",-1),ke(" 导出报告 ",-1)])),e("button",{onClick:xe,class:"btn-retake"},u[17]||(u[17]=[e("span",{class:"btn-icon"},"🔄",-1),ke(" 重新测评 ",-1)])),e("button",{onClick:Ie,class:"btn-training"},u[18]||(u[18]=[e("span",{class:"btn-icon"},"🎯",-1),ke(" 前往训练 ",-1)])),e("button",{onClick:Ae,class:"btn-details"},[u[19]||(u[19]=e("span",{class:"btn-icon"},"📋",-1)),ke(" "+i(R.value?"隐藏":"显示")+"题目详情 ",1)])])])):A("",!0)])}}},gu=Le(du,[["__scopeId","data-v-02f1d83d"]]);export{gu as default};
