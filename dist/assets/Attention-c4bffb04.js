import{c as I,i as c,D as rt,k as cs,A as rs,r as dt,o as i,a as l,b as t,F as f,h as g,g as v,t as a,n as p,m as B,e as ds,y as us,l as ut}from"./index-e0b54b24.js";import{u as vs,a as ms,b as _s}from"./useBasicTraining-91a9c65c.js";import{S as fs,a as gs}from"./configService-cad34a82.js";import{u as hs}from"./useTrainingSettings-353bc7b0.js";import{_ as ys}from"./_plugin-vue_export-helper-c27b6911.js";const ps={name:"Attention",components:{SettingsModal:fs,SettingsButton:gs},emits:["back"],setup(vt,{emit:e}){const P=vs("attention"),{isTraining:s,isPaused:z,isCompleted:mt,selectedMode:k,currentTarget:W,foundCount:n,totalCount:r,elapsedTime:h,completionTime:Pn,errorCount:zn,showHint:On,startTraining:_t,pauseTraining:ft,resumeTraining:gt,stopTraining:ht,completeTraining:Nn,updateProgress:Fn,resetTraining:Ln}=P,{settings:yt,updateSettings:En}=_s(P),{stats:L,formattedStats:pt,getChartData:G,getAchievementProgress:qn}=ms(P),kt=I(()=>pt.value);I(()=>G.value.weekly),I(()=>G.value.monthly),I(()=>L),I(()=>L.recentSessions||[]);const bt=I(()=>L.achievements||[]),{settings:Vn,settingsSections:Tt,showSettingsModal:St,isLoading:Hn,error:Qn,saveSettings:Mt,resetSettings:Ct,openSettings:At,closeSettings:xt}=hs("attention"),E=c(!1),w=c(!1),R=c(!1),b=c(0),S=c(0),u=c(0),M=c(50),q=c(!1),m=rt({type:"color",color:"#ff0000",number:5,shape:"â—",instruction:"ç‚¹å‡»çº¢è‰²åœ†åœˆ"}),V=c([]),U=c([]),It=c("æ‰¾åˆ°ç›®æ ‡é¡¹ç›®ï¼Œå¿½ç•¥å¹²æ‰°å…ƒç´ "),j=c("æŒ‰é¢œè‰²åˆ†ç±»"),J=c([]),K=c([]),wt=c("æ ¹æ®å½“å‰è§„åˆ™è¿›è¡Œåˆ†ç±»"),O=c("encoding"),H=c([]),N=c(3),D=c([]),Rt=c("è®°ä½æ˜¾ç¤ºçš„é¡¹ç›®"),Q=c(3),Dt=c([{value:1,label:"å¾ˆä¸ç¡®å®š"},{value:2,label:"ä¸ç¡®å®š"},{value:3,label:"ä¸€èˆ¬"},{value:4,label:"ç¡®å®š"},{value:5,label:"å¾ˆç¡®å®š"}]),X=c(""),Y=c([]),Bt=c(0),Z=c(0),Pt=c("è¯„ä¼°ä½ çš„ä¿¡å¿ƒæ°´å¹³ï¼Œç„¶åå›ç­”é—®é¢˜"),zt=c([{id:"focus",name:"ä¸“æ³¨åŠ›æµ‹è¯•",icon:"ğŸ¯",level:"beginner",levelText:"åˆçº§",description:"é€šè¿‡ç›®æ ‡æ£€æµ‹ä»»åŠ¡è®­ç»ƒæŒç»­æ³¨æ„åŠ›å’Œé€‰æ‹©æ€§æ³¨æ„åŠ›",type:"ç›®æ ‡æ£€æµ‹",difficulty:"ç®€å•",focus:"æŒç»­æ³¨æ„",progress:80,features:["ç›®æ ‡æ£€æµ‹","ååº”æ—¶é—´","å‡†ç¡®ç‡ç»Ÿè®¡"],benefits:["æå‡ä¸“æ³¨åŠ›","å¢å¼ºååº”é€Ÿåº¦"]},{id:"interference",name:"æŠ—å¹²æ‰°è®­ç»ƒ",icon:"ğŸ›¡ï¸",level:"intermediate",levelText:"ä¸­çº§",description:"åœ¨å¹²æ‰°ç¯å¢ƒä¸­ä¿æŒæ³¨æ„åŠ›ï¼Œè®­ç»ƒæŠ—å¹²æ‰°èƒ½åŠ›",type:"å¹²æ‰°æŠ‘åˆ¶",difficulty:"ä¸­ç­‰",focus:"æŠ—å¹²æ‰°",progress:65,features:["å¹²æ‰°æŠ‘åˆ¶","é€‰æ‹©æ€§æ³¨æ„","è®¤çŸ¥æ§åˆ¶"],benefits:["å¢å¼ºæŠ—å¹²æ‰°èƒ½åŠ›","æå‡è®¤çŸ¥æ§åˆ¶"]},{id:"flexibility",name:"è®¤çŸ¥çµæ´»æ€§",icon:"ğŸ”„",level:"intermediate",levelText:"ä¸­çº§",description:"è®­ç»ƒåœ¨ä¸åŒä»»åŠ¡è§„åˆ™é—´çµæ´»åˆ‡æ¢çš„èƒ½åŠ›",type:"ä»»åŠ¡åˆ‡æ¢",difficulty:"ä¸­ç­‰",focus:"è®¤çŸ¥çµæ´»æ€§",progress:55,features:["ä»»åŠ¡åˆ‡æ¢","è§„åˆ™å­¦ä¹ ","è®¤çŸ¥çµæ´»æ€§"],benefits:["æå‡é€‚åº”èƒ½åŠ›","å¢å¼ºæ€ç»´çµæ´»æ€§"]},{id:"memory",name:"å·¥ä½œè®°å¿†è®­ç»ƒ",icon:"ğŸ§ ",level:"advanced",levelText:"é«˜çº§",description:"è®­ç»ƒå·¥ä½œè®°å¿†å®¹é‡å’Œæ“ä½œèƒ½åŠ›",type:"è®°å¿†è®­ç»ƒ",difficulty:"å›°éš¾",focus:"å·¥ä½œè®°å¿†",progress:40,features:["è®°å¿†å®¹é‡","ä¿¡æ¯æ“ä½œ","è®¤çŸ¥è´Ÿè·"],benefits:["å¢å¼ºè®°å¿†èƒ½åŠ›","æå‡è®¤çŸ¥å®¹é‡"]},{id:"metacognition",name:"å…ƒè®¤çŸ¥ç›‘æ§",icon:"ğŸ¤”",level:"expert",levelText:"ä¸“å®¶",description:"è®­ç»ƒå¯¹è‡ªå·±è®¤çŸ¥è¿‡ç¨‹çš„ç›‘æ§å’Œè°ƒèŠ‚èƒ½åŠ›",type:"å…ƒè®¤çŸ¥",difficulty:"å¾ˆå›°éš¾",focus:"è‡ªæˆ‘ç›‘æ§",progress:25,features:["è‡ªæˆ‘ç›‘æ§","ä¿¡å¿ƒè¯„ä¼°","ç­–ç•¥è°ƒèŠ‚"],benefits:["æå‡è‡ªæˆ‘è®¤çŸ¥","å¢å¼ºå­¦ä¹ æ•ˆç‡"]}]),Ot=c([{accuracy:75},{accuracy:78},{accuracy:82},{accuracy:85},{accuracy:88},{accuracy:90},{accuracy:92}]),C=rt({averageAccuracy:0,bestAccuracy:0,averageReactionTime:0,duration:0,achievement:null});let F=null,A=null;const Nt=o=>{k.value=o},$=o=>{k.value=o,s.value=!0,z.value=!1,Lt(o),ns(),_t(o)},Ft=()=>{z.value?(gt(),as()):(ft(),os())},x=()=>{lt(),C.averageAccuracy=b.value,C.bestAccuracy=Math.max(b.value,C.bestAccuracy),C.averageReactionTime=S.value,C.duration=h.value,updateStats({mode:k.value.id,duration:h.value,accuracy:b.value,reactionTime:S.value,completed:!0}),q.value=!0,ht()},Lt=o=>{switch(u.value=0,b.value=0,S.value=0,o.id){case"focus":Et();break;case"interference":et();break;case"flexibility":nt();break;case"memory":at();break;case"metacognition":it();break}},Et=()=>{tt()},tt=()=>{const o=["color","number","shape"],d=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff"],_=[1,2,3,4,5,6,7,8,9],y=["â—","â– ","â–²","â™¦","â˜…"];switch(o[Math.floor(Math.random()*o.length)]){case"color":m.type="color",m.color=d[Math.floor(Math.random()*d.length)],m.instruction=`ç‚¹å‡»${qt(m.color)}åœ†åœˆ`;break;case"number":m.type="number",m.number=_[Math.floor(Math.random()*_.length)],m.instruction=`ç‚¹å‡»æ•°å­—${m.number}`;break;case"shape":m.type="shape",m.shape=y[Math.floor(Math.random()*y.length)],m.instruction=`ç‚¹å‡»${Vt(m.shape)}`;break}E.value=Math.random()<yt.value.targetFrequency/100},qt=o=>({"#ff0000":"çº¢è‰²","#00ff00":"ç»¿è‰²","#0000ff":"è“è‰²","#ffff00":"é»„è‰²","#ff00ff":"ç´«è‰²"})[o]||"æœªçŸ¥",Vt=o=>({"â—":"åœ†å½¢","â– ":"æ–¹å½¢","â–²":"ä¸‰è§’å½¢","â™¦":"è±å½¢","â˜…":"æ˜Ÿå½¢"})[o]||"æœªçŸ¥",Ht=()=>{const o=Date.now()-(F||Date.now());E.value?(w.value=!0,T(!0),Qt(o),setTimeout(()=>{w.value=!1,st()},500)):(R.value=!0,T(!1),setTimeout(()=>{R.value=!1,st()},500))},st=()=>{u.value++,u.value>=M.value?x():(tt(),F=Date.now())},T=o=>{const d=u.value+1,_=o?Math.round(b.value*u.value/100)+1:Math.round(b.value*u.value/100);b.value=Math.round(_/d*100)},Qt=o=>{const d=u.value;S.value=Math.round((S.value*(d-1)+o)/d)},et=()=>{V.value=[{content:"A",isTarget:!0},{content:"B",isTarget:!1},{content:"C",isTarget:!1},{content:"D",isTarget:!1}],U.value=[{content:"Ã—",style:{position:"absolute",top:"20%",left:"10%"}},{content:"â—‹",style:{position:"absolute",top:"60%",right:"15%"}},{content:"â–³",style:{position:"absolute",bottom:"30%",left:"20%"}}]},Wt=o=>{const _=V.value[o].isTarget;T(_),_?w.value=!0:R.value=!0,setTimeout(()=>{w.value=!1,R.value=!1,Gt()},500)},Gt=()=>{u.value++,u.value>=M.value?x():et()},nt=()=>{const o=["æŒ‰é¢œè‰²åˆ†ç±»","æŒ‰å½¢çŠ¶åˆ†ç±»","æŒ‰å¤§å°åˆ†ç±»"];j.value=o[Math.floor(Math.random()*o.length)],J.value=[{content:"â—",style:{color:"red",fontSize:"20px"}},{content:"â– ",style:{color:"blue",fontSize:"24px"}},{content:"â–²",style:{color:"green",fontSize:"18px"}}],K.value=[{label:"é€‰é¡¹A"},{label:"é€‰é¡¹B"},{label:"é€‰é¡¹C"}]},Ut=o=>{T(Math.random()>.3),ot()},jt=o=>{T(Math.random()>.3),ot()},ot=()=>{u.value++,u.value>=M.value?x():nt()},at=()=>{O.value="encoding";const o=["A","B","C","D","E"];H.value=o.slice(0,3+Math.floor(Math.random()*3)).map(d=>({content:d,active:!0})),setTimeout(()=>{Jt()},2e3)},Jt=()=>{O.value="delay",N.value=3,A=setInterval(()=>{N.value--,N.value<=0&&(clearInterval(A),Kt())},1e3)},Kt=()=>{O.value="recall";const o=["A","B","C","D","E","F","G","H"];D.value=o.map(d=>({content:d,selected:!1}))},Xt=o=>{D.value[o].selected=!D.value[o].selected},Yt=()=>{const o=D.value.filter(y=>y.selected),d=H.value.map(y=>y.content),_=o.length===d.length&&o.every(y=>d.includes(y.content));T(_),Zt()},Zt=()=>{u.value++,u.value>=M.value?x():at()},it=()=>{const o=["è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿ","å“ªä¸ªé€‰é¡¹æ˜¯æ­£ç¡®çš„ï¼Ÿ","ä½ è®¤ä¸ºè¿™ä¸ªåˆ¤æ–­å¯¹å—ï¼Ÿ"];X.value=o[Math.floor(Math.random()*o.length)],Y.value=["é€‰é¡¹A","é€‰é¡¹B","é€‰é¡¹C","é€‰é¡¹D"]},$t=o=>{Q.value=o},ts=o=>{const d=Math.random()>.4;T(d),ss(d),es()},ss=o=>{const d=Q.value/5*100,y=100-Math.abs(d-(o?100:0));Z.value=Math.round(y)},es=()=>{u.value++,u.value>=M.value?x():it()},ns=()=>{F=Date.now()},os=()=>{A&&clearInterval(A)},as=()=>{F=Date.now()},lt=()=>{A&&clearInterval(A)},is=o=>{const d=Math.floor(o/60),_=o%60;return`${d.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`},ct=()=>{q.value=!1,s.value=!1,k.value=null},ls=()=>{ct(),$(k.value)};return cs(()=>{}),rs(()=>{lt()}),{isTraining:s,isPaused:z,selectedMode:k,elapsedTime:h,showCompletionModal:q,targetActive:E,showCorrect:w,showWrong:R,currentAccuracy:b,averageReactionTime:S,completedTasks:u,totalTasks:M,currentTask:m,interferenceItems:V,distractors:U,interferenceInstruction:It,currentRule:j,flexibilityStimuli:J,responseOptions:K,flexibilityInstruction:wt,memoryPhase:O,memoryItems:H,delayCountdown:N,recallOptions:D,memoryInstruction:Rt,selectedConfidence:Q,confidenceLevels:Dt,metacognitionQuestion:X,metacognitionOptions:Y,metacognitionAccuracy:Bt,confidenceAccuracyMatch:Z,metacognitionInstruction:Pt,trainingModes:zt,progressData:Ot,completionStats:C,todayStats:kt,achievements:bt,showSettingsModal:St,settingsSections:Tt,selectMode:Nt,startTraining:$,togglePause:Ft,stopTraining:x,handleTargetClick:Ht,selectInterferenceItem:Wt,respondToStimulus:Ut,makeResponse:jt,selectRecallOption:Xt,confirmRecall:Yt,setConfidence:$t,selectMetacognitionOption:ts,formatTime:is,closeModal:ct,restartTraining:ls,openSettings:At,closeSettings:xt,saveSettings:Mt,resetSettings:Ct}}},ks={class:"attention-container"},bs={key:0,class:"mode-selection"},Ts={class:"modes-grid"},Ss=["onClick"],Ms={class:"mode-header"},Cs={class:"mode-icon"},As={class:"mode-info"},xs={class:"mode-name"},Is={class:"mode-description"},ws={class:"mode-details"},Rs={class:"detail-item"},Ds={class:"detail-value"},Bs={class:"detail-item"},Ps={class:"detail-value"},zs={class:"detail-item"},Os={class:"detail-value"},Ns={class:"mode-progress"},Fs={class:"progress-bar"},Ls={class:"progress-text"},Es=["onClick"],qs={key:1,class:"training-interface"},Vs={class:"training-header"},Hs={class:"mode-info"},Qs={class:"mode-icon"},Ws={class:"mode-name"},Gs={class:"training-controls"},Us={key:0,class:"focus-test"},js={class:"test-area"},Js={class:"target-content"},Ks={key:1,class:"number-display"},Xs={key:2,class:"shape-display"},Ys={class:"task-instruction"},Zs={key:1,class:"interference-test"},$s={class:"test-area"},te={class:"main-task"},se={class:"task-display"},ee=["onClick"],ne={class:"interference-elements"},oe={class:"task-instruction"},ae={key:2,class:"flexibility-test"},ie={class:"test-area"},le={class:"rule-display"},ce={class:"stimulus-display"},re=["onClick"],de={class:"response-options"},ue=["onClick"],ve={class:"task-instruction"},me={key:3,class:"memory-test"},_e={class:"test-area"},fe={key:0,class:"memory-phase"},ge={class:"memory-items"},he={key:1,class:"memory-phase"},ye={class:"delay-task"},pe={class:"countdown"},ke={key:2,class:"memory-phase"},be={class:"recall-options"},Te=["onClick"],Se={class:"task-instruction"},Me={key:4,class:"metacognition-test"},Ce={class:"test-area"},Ae={class:"confidence-rating"},xe={class:"confidence-scale"},Ie=["onClick"],we={class:"metacognition-task"},Re={class:"task-question"},De={class:"task-options"},Be=["onClick"],Pe={class:"performance-feedback"},ze={class:"feedback-content"},Oe={class:"accuracy-display"},Ne={class:"accuracy-value"},Fe={class:"confidence-accuracy"},Le={class:"match-value"},Ee={class:"task-instruction"},qe={class:"training-stats"},Ve={class:"stat-item"},He={class:"stat-value"},Qe={class:"stat-item"},We={class:"stat-value"},Ge={class:"stat-item"},Ue={class:"stat-value"},je={class:"stat-item"},Je={class:"stat-value"},Ke={class:"statistics-section"},Xe={class:"stats-grid"},Ye={class:"stat-card"},Ze={class:"stat-content"},$e={class:"stat-item"},tn={class:"stat-value"},sn={class:"stat-item"},en={class:"stat-value"},nn={class:"stat-item"},on={class:"stat-value"},an={class:"stat-item"},ln={class:"stat-value"},cn={class:"stat-card"},rn={class:"progress-chart"},dn={class:"chart-placeholder"},un={class:"trend-line"},vn={class:"stat-card"},mn={class:"achievements"},_n={class:"achievement-icon"},fn={class:"achievement-info"},gn={class:"achievement-name"},hn={class:"achievement-desc"},yn={class:"modal-header"},pn={class:"modal-content"},kn={class:"completion-stats"},bn={class:"stat-item"},Tn={class:"stat-value"},Sn={class:"stat-item"},Mn={class:"stat-value"},Cn={class:"stat-item"},An={class:"stat-value"},xn={class:"stat-item"},In={class:"stat-value"},wn={key:0,class:"achievement"},Rn={class:"achievement-text"},Dn={class:"modal-actions"};function Bn(vt,e,P,s,z,mt){const k=dt("SettingsButton"),W=dt("SettingsModal");return i(),l("div",ks,[s.isTraining?v("",!0):(i(),l("div",bs,[e[12]||(e[12]=t("h2",null,"é€‰æ‹©è®­ç»ƒæ¨¡å¼",-1)),t("div",Ts,[(i(!0),l(f,null,g(s.trainingModes,n=>{var r;return i(),l("div",{key:n.id,class:p(["mode-card",{selected:((r=s.selectedMode)==null?void 0:r.id)===n.id}]),onClick:h=>s.selectMode(n)},[t("div",Ms,[t("div",Cs,a(n.icon),1),t("div",As,[t("h3",xs,a(n.name),1),t("span",{class:p(["mode-level",n.level])},a(n.levelText),3)])]),t("p",Is,a(n.description),1),t("div",ws,[t("div",Rs,[e[9]||(e[9]=t("span",{class:"detail-label"},"è®­ç»ƒç±»å‹:",-1)),t("span",Ds,a(n.type),1)]),t("div",Bs,[e[10]||(e[10]=t("span",{class:"detail-label"},"éš¾åº¦ç­‰çº§:",-1)),t("span",Ps,a(n.difficulty),1)]),t("div",zs,[e[11]||(e[11]=t("span",{class:"detail-label"},"è®­ç»ƒé‡ç‚¹:",-1)),t("span",Os,a(n.focus),1)])]),t("div",Ns,[t("div",Fs,[t("div",{class:"progress-fill",style:B({width:n.progress+"%"})},null,4)]),t("span",Ls,a(n.progress)+"%",1)]),t("button",{class:"start-button",onClick:ut(h=>s.startTraining(n),["stop"])}," å¼€å§‹è®­ç»ƒ ",8,Es)],10,Ss)}),128))])])),s.isTraining?(i(),l("div",qs,[t("div",Vs,[t("div",Hs,[t("span",Qs,a(s.selectedMode.icon),1),t("span",Ws,a(s.selectedMode.name),1)]),t("div",Gs,[t("button",{class:p(["control-button",{paused:s.isPaused}]),onClick:e[0]||(e[0]=(...n)=>s.togglePause&&s.togglePause(...n))},a(s.isPaused?"ç»§ç»­":"æš‚åœ"),3),t("button",{class:"control-button stop",onClick:e[1]||(e[1]=(...n)=>s.stopTraining&&s.stopTraining(...n))},"ç»“æŸ")])]),s.selectedMode.id==="focus"?(i(),l("div",Us,[t("div",js,[t("div",{class:p(["focus-target",{active:s.targetActive,correct:s.showCorrect,wrong:s.showWrong}]),onClick:e[2]||(e[2]=(...n)=>s.handleTargetClick&&s.handleTargetClick(...n))},[t("div",Js,[s.currentTask.type==="color"?(i(),l("span",{key:0,class:"color-circle",style:B({backgroundColor:s.currentTask.color})},null,4)):v("",!0),s.currentTask.type==="number"?(i(),l("span",Ks,a(s.currentTask.number),1)):v("",!0),s.currentTask.type==="shape"?(i(),l("span",Xs,a(s.currentTask.shape),1)):v("",!0)])],2),t("div",Ys,[t("p",null,a(s.currentTask.instruction),1)])])])):v("",!0),s.selectedMode.id==="interference"?(i(),l("div",Zs,[t("div",$s,[t("div",te,[e[13]||(e[13]=t("h4",null,"ä¸»è¦ä»»åŠ¡",-1)),t("div",se,[(i(!0),l(f,null,g(s.interferenceItems,(n,r)=>(i(),l("div",{class:p(["target-item",{highlighted:n.isTarget}]),key:r,onClick:h=>s.selectInterferenceItem(r)},a(n.content),11,ee))),128))])]),t("div",ne,[(i(!0),l(f,null,g(s.distractors,(n,r)=>(i(),l("div",{class:"distractor",key:r,style:B(n.style)},a(n.content),5))),128))]),t("div",oe,[t("p",null,a(s.interferenceInstruction),1)])])])):v("",!0),s.selectedMode.id==="flexibility"?(i(),l("div",ae,[t("div",ie,[t("div",le,[t("h4",null,"å½“å‰è§„åˆ™: "+a(s.currentRule),1)]),t("div",ce,[(i(!0),l(f,null,g(s.flexibilityStimuli,(n,r)=>(i(),l("div",{class:"stimulus-item",key:r,onClick:h=>s.respondToStimulus(r)},[t("div",{class:"stimulus-content",style:B(n.style)},a(n.content),5)],8,re))),128))]),t("div",de,[(i(!0),l(f,null,g(s.responseOptions,(n,r)=>(i(),l("button",{key:r,class:"response-btn",onClick:h=>s.makeResponse(n)},a(n.label),9,ue))),128))]),t("div",ve,[t("p",null,a(s.flexibilityInstruction),1)])])])):v("",!0),s.selectedMode.id==="memory"?(i(),l("div",me,[t("div",_e,[s.memoryPhase==="encoding"?(i(),l("div",fe,[e[14]||(e[14]=t("h4",null,"è®°å¿†é˜¶æ®µ",-1)),t("div",ge,[(i(!0),l(f,null,g(s.memoryItems,(n,r)=>(i(),l("div",{class:p(["memory-item",{active:n.active}]),key:r},a(n.content),3))),128))])])):v("",!0),s.memoryPhase==="delay"?(i(),l("div",he,[e[16]||(e[16]=t("h4",null,"ä¿æŒé˜¶æ®µ",-1)),t("div",ye,[e[15]||(e[15]=t("p",null,"è¯·ä¿æŒæ³¨æ„åŠ›ï¼Œå‡†å¤‡å›å¿†...",-1)),t("div",pe,a(s.delayCountdown),1)])])):v("",!0),s.memoryPhase==="recall"?(i(),l("div",ke,[e[17]||(e[17]=t("h4",null,"å›å¿†é˜¶æ®µ",-1)),t("div",be,[(i(!0),l(f,null,g(s.recallOptions,(n,r)=>(i(),l("button",{key:r,class:p(["recall-btn",{selected:n.selected}]),onClick:h=>s.selectRecallOption(r)},a(n.content),11,Te))),128))]),t("button",{class:"confirm-btn",onClick:e[3]||(e[3]=(...n)=>s.confirmRecall&&s.confirmRecall(...n))},"ç¡®è®¤")])):v("",!0),t("div",Se,[t("p",null,a(s.memoryInstruction),1)])])])):v("",!0),s.selectedMode.id==="metacognition"?(i(),l("div",Me,[t("div",Ce,[t("div",Ae,[e[18]||(e[18]=t("h4",null,"ä¿¡å¿ƒè¯„çº§",-1)),t("div",xe,[(i(!0),l(f,null,g(s.confidenceLevels,n=>(i(),l("button",{key:n.value,class:p(["confidence-btn",{selected:s.selectedConfidence===n.value}]),onClick:r=>s.setConfidence(n.value)},a(n.label),11,Ie))),128))])]),t("div",we,[t("div",Re,[t("p",null,a(s.metacognitionQuestion),1)]),t("div",De,[(i(!0),l(f,null,g(s.metacognitionOptions,(n,r)=>(i(),l("button",{key:r,class:"option-btn",onClick:h=>s.selectMetacognitionOption(r)},a(n),9,Be))),128))])]),t("div",Pe,[e[21]||(e[21]=t("h4",null,"è¡¨ç°åé¦ˆ",-1)),t("div",ze,[t("div",Oe,[e[19]||(e[19]=t("span",{class:"accuracy-label"},"å‡†ç¡®ç‡:",-1)),t("span",Ne,a(s.metacognitionAccuracy)+"%",1)]),t("div",Fe,[e[20]||(e[20]=t("span",{class:"confidence-label"},"ä¿¡å¿ƒ-å‡†ç¡®ç‡åŒ¹é…:",-1)),t("span",Le,a(s.confidenceAccuracyMatch)+"%",1)])])]),t("div",Ee,[t("p",null,a(s.metacognitionInstruction),1)])])])):v("",!0),t("div",qe,[t("div",Ve,[e[22]||(e[22]=t("span",{class:"stat-label"},"å·²è®­ç»ƒæ—¶é—´:",-1)),t("span",He,a(s.formatTime(s.elapsedTime)),1)]),t("div",Qe,[e[23]||(e[23]=t("span",{class:"stat-label"},"å½“å‰å‡†ç¡®ç‡:",-1)),t("span",We,a(s.currentAccuracy)+"%",1)]),t("div",Ge,[e[24]||(e[24]=t("span",{class:"stat-label"},"ååº”æ—¶é—´:",-1)),t("span",Ue,a(s.averageReactionTime)+"ms",1)]),t("div",je,[e[25]||(e[25]=t("span",{class:"stat-label"},"å®Œæˆé¢˜ç›®:",-1)),t("span",Je,a(s.completedTasks)+"/"+a(s.totalTasks),1)])])])):v("",!0),ds(k,{onClick:s.openSettings},null,8,["onClick"]),s.showSettingsModal?(i(),us(W,{key:2,sections:s.settingsSections,onClose:s.closeSettings,onSave:s.saveSettings,onReset:s.resetSettings},null,8,["sections","onClose","onSave","onReset"])):v("",!0),t("div",Ke,[e[33]||(e[33]=t("h3",null,"è®­ç»ƒç»Ÿè®¡",-1)),t("div",Xe,[t("div",Ye,[e[30]||(e[30]=t("h4",null,"ä»Šæ—¥è¡¨ç°",-1)),t("div",Ze,[t("div",$e,[e[26]||(e[26]=t("span",{class:"stat-label"},"è®­ç»ƒæ¬¡æ•°:",-1)),t("span",tn,a(s.todayStats.sessionsCompleted),1)]),t("div",sn,[e[27]||(e[27]=t("span",{class:"stat-label"},"å¹³å‡å‡†ç¡®ç‡:",-1)),t("span",en,a(s.todayStats.averageAccuracy)+"%",1)]),t("div",nn,[e[28]||(e[28]=t("span",{class:"stat-label"},"æœ€ä½³å‡†ç¡®ç‡:",-1)),t("span",on,a(s.todayStats.bestAccuracy)+"%",1)]),t("div",an,[e[29]||(e[29]=t("span",{class:"stat-label"},"å¹³å‡ååº”æ—¶é—´:",-1)),t("span",ln,a(s.todayStats.averageReactionTime)+"ms",1)])])]),t("div",cn,[e[31]||(e[31]=t("h4",null,"è¿›æ­¥è¶‹åŠ¿",-1)),t("div",rn,[t("div",dn,[t("div",un,[(i(!0),l(f,null,g(s.progressData,(n,r)=>(i(),l("div",{key:r,class:"data-point",style:B({left:r/(s.progressData.length-1)*100+"%",bottom:n.accuracy/100*100+"%"})},null,4))),128))])])])]),t("div",vn,[e[32]||(e[32]=t("h4",null,"æˆå°±ç³»ç»Ÿ",-1)),t("div",mn,[(i(!0),l(f,null,g(s.achievements,n=>(i(),l("div",{key:n.id,class:p(["achievement-item",{unlocked:n.unlocked}])},[t("div",_n,a(n.icon),1),t("div",fn,[t("div",gn,a(n.name),1),t("div",hn,a(n.description),1)])],2))),128))])])])]),s.showCompletionModal?(i(),l("div",{key:3,class:"modal-overlay",onClick:e[8]||(e[8]=(...n)=>s.closeModal&&s.closeModal(...n))},[t("div",{class:"completion-modal",onClick:e[7]||(e[7]=ut(()=>{},["stop"]))},[t("div",yn,[e[34]||(e[34]=t("h3",null,"è®­ç»ƒå®Œæˆï¼",-1)),t("button",{class:"close-button",onClick:e[4]||(e[4]=(...n)=>s.closeModal&&s.closeModal(...n))},"Ã—")]),t("div",pn,[t("div",kn,[t("div",bn,[e[35]||(e[35]=t("span",{class:"stat-label"},"å¹³å‡å‡†ç¡®ç‡:",-1)),t("span",Tn,a(s.completionStats.averageAccuracy)+"%",1)]),t("div",Sn,[e[36]||(e[36]=t("span",{class:"stat-label"},"æœ€ä½³å‡†ç¡®ç‡:",-1)),t("span",Mn,a(s.completionStats.bestAccuracy)+"%",1)]),t("div",Cn,[e[37]||(e[37]=t("span",{class:"stat-label"},"å¹³å‡ååº”æ—¶é—´:",-1)),t("span",An,a(s.completionStats.averageReactionTime)+"ms",1)]),t("div",xn,[e[38]||(e[38]=t("span",{class:"stat-label"},"è®­ç»ƒæ—¶é•¿:",-1)),t("span",In,a(s.formatTime(s.completionStats.duration)),1)])]),s.completionStats.achievement?(i(),l("div",wn,[e[39]||(e[39]=t("div",{class:"achievement-icon"},"ğŸ†",-1)),t("div",Rn,a(s.completionStats.achievement),1)])):v("",!0)]),t("div",Dn,[t("button",{class:"primary-button",onClick:e[5]||(e[5]=(...n)=>s.restartTraining&&s.restartTraining(...n))},"å†æ¬¡è®­ç»ƒ"),t("button",{class:"secondary-button",onClick:e[6]||(e[6]=(...n)=>s.closeModal&&s.closeModal(...n))},"è¿”å›")])])])):v("",!0)])}const Xn=ys(ps,[["render",Bn],["__scopeId","data-v-4ad09d53"]]);export{Xn as default};
