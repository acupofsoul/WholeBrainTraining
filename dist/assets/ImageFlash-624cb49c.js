import{o as c,a as u,b as e,F as b,h as w,g as m,t as r,n as y,m as p,s as g,v as T,D as A,f as h,x as v,y as f,d as C,z as I}from"./index-7434e420.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const M={name:"ImageFlash",emits:["go-back"],data(){return{isTraining:!1,isPaused:!1,isCompleted:!1,selectedMode:null,currentRound:0,totalRounds:10,correctCount:0,errorCount:0,isFlashing:!1,currentFlashImage:{},showRecognitionTest:!1,showResult:!1,isAnswerCorrect:!1,countdown:3,recognitionQuestion:{},selectedAnswer:null,userCount:null,reactionTimes:[],roundStartTime:null,trainingModes:[{id:"simple_shapes",name:"基础图形",icon:"🔷",level:"beginner",levelText:"初级",description:"简单几何图形闪视，训练基础识别能力",flashSpeed:800,imageType:"几何图形",difficulty:"简单",bestRecognition:95,averageRecognition:88},{id:"color_shapes",name:"彩色图形",icon:"🌈",level:"intermediate",levelText:"中级",description:"彩色几何图形闪视，训练颜色识别",flashSpeed:600,imageType:"彩色图形",difficulty:"中等",bestRecognition:82,averageRecognition:75},{id:"complex_patterns",name:"复杂图案",icon:"🔸",level:"advanced",levelText:"高级",description:"复杂图案闪视，挑战视觉识别极限",flashSpeed:400,imageType:"复杂图案",difficulty:"困难",bestRecognition:68,averageRecognition:61},{id:"symbol_recognition",name:"符号识别",icon:"🔣",level:"intermediate",levelText:"中级",description:"各种符号闪视，训练符号记忆",flashSpeed:700,imageType:"符号标记",difficulty:"中等",bestRecognition:79,averageRecognition:72},{id:"dot_patterns",name:"点阵图案",icon:"⚫",level:"advanced",levelText:"高级",description:"点阵图案闪视，训练空间记忆",flashSpeed:500,imageType:"点阵图案",difficulty:"困难",bestRecognition:71,averageRecognition:64},{id:"mixed_challenge",name:"综合挑战",icon:"🎯",level:"expert",levelText:"专家",description:"混合类型闪视，全面挑战视觉能力",flashSpeed:300,imageType:"混合类型",difficulty:"极难",bestRecognition:59,averageRecognition:52}],currentModeData:{},imageLibrary:{shapes:[{type:"shape",shape:"circle",color:"#FF5722",difficulty:"easy",category:"basic"},{type:"shape",shape:"square",color:"#2196F3",difficulty:"easy",category:"basic"},{type:"shape",shape:"triangle",color:"#4CAF50",difficulty:"easy",category:"basic"},{type:"shape",shape:"diamond",color:"#FF9800",difficulty:"medium",category:"basic"},{type:"shape",shape:"hexagon",color:"#9C27B0",difficulty:"medium",category:"basic"},{type:"shape",shape:"pentagon",color:"#E91E63",difficulty:"medium",category:"basic"},{type:"shape",shape:"octagon",color:"#795548",difficulty:"hard",category:"basic"},{type:"shape",shape:"star",color:"#FFC107",difficulty:"hard",category:"basic"},{type:"shape",shape:"oval",color:"#607D8B",difficulty:"medium",category:"basic"},{type:"shape",shape:"rhombus",color:"#3F51B5",difficulty:"hard",category:"basic"}],symbols:[{type:"symbol",symbol:"★",color:"#FFD700",difficulty:"easy",category:"symbols"},{type:"symbol",symbol:"♦",color:"#FF5722",difficulty:"easy",category:"symbols"},{type:"symbol",symbol:"♠",color:"#333",difficulty:"easy",category:"symbols"},{type:"symbol",symbol:"♥",color:"#E91E63",difficulty:"easy",category:"symbols"},{type:"symbol",symbol:"♣",color:"#4CAF50",difficulty:"easy",category:"symbols"},{type:"symbol",symbol:"◆",color:"#2196F3",difficulty:"medium",category:"symbols"},{type:"symbol",symbol:"▲",color:"#FF9800",difficulty:"medium",category:"symbols"},{type:"symbol",symbol:"●",color:"#9C27B0",difficulty:"medium",category:"symbols"},{type:"symbol",symbol:"◎",color:"#00BCD4",difficulty:"hard",category:"symbols"},{type:"symbol",symbol:"※",color:"#FF5722",difficulty:"hard",category:"symbols"},{type:"symbol",symbol:"☆",color:"#FFEB3B",difficulty:"medium",category:"symbols"},{type:"symbol",symbol:"◇",color:"#8BC34A",difficulty:"hard",category:"symbols"}],patterns:[{type:"pattern",difficulty:"medium",category:"patterns",pattern:[{x:20,y:20,color:"#FF5722"},{x:50,y:30,color:"#2196F3"},{x:80,y:40,color:"#4CAF50"}]},{type:"pattern",difficulty:"medium",category:"patterns",pattern:[{x:30,y:30,color:"#FF9800"},{x:70,y:30,color:"#9C27B0"},{x:50,y:70,color:"#FFD700"}]},{type:"pattern",difficulty:"hard",category:"patterns",pattern:[{x:15,y:15,color:"#E91E63"},{x:45,y:25,color:"#3F51B5"},{x:75,y:35,color:"#00BCD4"},{x:25,y:65,color:"#8BC34A"},{x:65,y:75,color:"#FF5722"}]},{type:"pattern",difficulty:"easy",category:"patterns",pattern:[{x:40,y:40,color:"#2196F3"},{x:60,y:60,color:"#4CAF50"}]}],numbers:[{type:"number",value:"1",color:"#FF5722",difficulty:"easy",category:"numbers"},{type:"number",value:"2",color:"#2196F3",difficulty:"easy",category:"numbers"},{type:"number",value:"3",color:"#4CAF50",difficulty:"easy",category:"numbers"},{type:"number",value:"4",color:"#FF9800",difficulty:"easy",category:"numbers"},{type:"number",value:"5",color:"#9C27B0",difficulty:"easy",category:"numbers"},{type:"number",value:"12",color:"#E91E63",difficulty:"medium",category:"numbers"},{type:"number",value:"25",color:"#795548",difficulty:"medium",category:"numbers"},{type:"number",value:"67",color:"#607D8B",difficulty:"medium",category:"numbers"},{type:"number",value:"123",color:"#3F51B5",difficulty:"hard",category:"numbers"},{type:"number",value:"456",color:"#00BCD4",difficulty:"hard",category:"numbers"}],letters:[{type:"letter",value:"A",color:"#FF5722",difficulty:"easy",category:"letters"},{type:"letter",value:"B",color:"#2196F3",difficulty:"easy",category:"letters"},{type:"letter",value:"C",color:"#4CAF50",difficulty:"easy",category:"letters"},{type:"letter",value:"X",color:"#FF9800",difficulty:"medium",category:"letters"},{type:"letter",value:"Y",color:"#9C27B0",difficulty:"medium",category:"letters"},{type:"letter",value:"Z",color:"#E91E63",difficulty:"medium",category:"letters"},{type:"letter",value:"AB",color:"#795548",difficulty:"hard",category:"letters"},{type:"letter",value:"XY",color:"#607D8B",difficulty:"hard",category:"letters"}]},settings:{flashDuration:600,intervalTime:2,rounds:10,imageType:"mixed",imageSize:200,backgroundColor:"white",colorMode:"colorful",showProgress:!0,soundEffects:!0,randomOrder:!0,autoNext:!1,difficulty:"all",contentFilter:"all",showHints:!0,adaptiveDifficulty:!1,showEncouragement:!0,showGuide:!0,progressSound:!1,animationEffects:!0,highlightColor:"#FFD700",recognitionMode:"instant",textColor:"#333333",theme:"light"},statistics:{totalSessions:38,bestRecognition:95,averageRecognition:76,averageReactionTime:850,modePerformance:[{id:"simple_shapes",name:"基础图形",level:"初级",bestRecognition:95,averageRecognition:88,attempts:12,mastery:92},{id:"color_shapes",name:"彩色图形",level:"中级",bestRecognition:82,averageRecognition:75,attempts:10,mastery:78},{id:"complex_patterns",name:"复杂图案",level:"高级",bestRecognition:68,averageRecognition:61,attempts:8,mastery:65}],recognitionTrend:[{recognition:65},{recognition:70},{recognition:68},{recognition:75},{recognition:78},{recognition:76},{recognition:82},{recognition:85},{recognition:83},{recognition:88}]},flashTimer:null,countdownTimer:null}},computed:{recognitionRate(){const i=this.correctCount+this.errorCount;return i>0?Math.round(this.correctCount/i*100):0},averageReactionTime(){if(this.reactionTimes.length===0)return 0;const i=this.reactionTimes.reduce((t,n)=>t+n,0);return Math.round(i/this.reactionTimes.length)},performanceLevel(){const i=this.recognitionRate;return i>=90?{text:"优秀",class:"excellent"}:i>=80?{text:"良好",class:"good"}:i>=70?{text:"一般",class:"average"}:{text:"需要提高",class:"poor"}},abilityScores(){return{imageRecognition:Math.min(100,this.recognitionRate+5),shapePerception:Math.min(100,this.recognitionRate),colorDiscrimination:Math.min(100,this.recognitionRate-5),visualMemory:Math.min(100,this.recognitionRate-10)}}},methods:{selectMode(i){this.selectedMode=i},startTraining(i){this.selectedMode=i,this.currentModeData=this.trainingModes.find(t=>t.id===i),this.resetTrainingState(),this.isTraining=!0,this.totalRounds=parseInt(this.settings.rounds),this.startCountdown()},pauseTraining(){this.isPaused=!0,this.clearTimers()},resumeTraining(){this.isPaused=!1,!this.showRecognitionTest&&this.startCountdown()},stopTraining(){this.clearTimers(),this.isTraining=!1,this.isPaused=!1,this.isCompleted=!1},restartTraining(){this.resetTrainingState(),this.startCountdown()},startCountdown(){this.countdown=3,this.countdownTimer=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.countdownTimer),this.startFlash())},1e3)},startFlash(){this.currentRound++,this.generateFlashImage(),this.isFlashing=!0,this.roundStartTime=Date.now(),this.settings.soundEffects&&this.playFlashSound(),this.flashTimer=setTimeout(()=>{this.isFlashing=!1,this.showRecognitionTest=!0;const i=Date.now()-this.roundStartTime;this.reactionTimes.push(i),this.recognitionQuestion.type==="count"&&this.$nextTick(()=>{this.$refs.countInput&&this.$refs.countInput.focus()})},this.settings.flashDuration)},generateFlashImage(){const i=this.currentModeData.id,t=this.getFilteredImages(i),n=t[Math.floor(Math.random()*t.length)];this.currentFlashImage=n,this.generateRecognitionQuestion(n)},getFilteredImages(i){let t=[];return i==="simple_shapes"||i==="color_shapes"?t=[...this.imageLibrary.shapes]:i==="symbol_recognition"?t=[...this.imageLibrary.symbols]:i==="dot_patterns"?t=[...this.imageLibrary.patterns]:i==="number_flash"?t=[...this.imageLibrary.numbers]:i==="letter_flash"?t=[...this.imageLibrary.letters]:t=[...this.imageLibrary.shapes,...this.imageLibrary.symbols,...this.imageLibrary.patterns,...this.imageLibrary.numbers,...this.imageLibrary.letters],this.settings.difficulty!=="all"&&(t=t.filter(n=>n.difficulty===this.settings.difficulty)),this.settings.contentFilter!=="all"&&(t=t.filter(n=>n.category===this.settings.contentFilter)),t.length===0&&(t=[...this.imageLibrary.shapes,...this.imageLibrary.symbols,...this.imageLibrary.patterns,...this.imageLibrary.numbers,...this.imageLibrary.letters]),t},generateShapeImage(){const i=this.imageLibrary.shapes;return{...i[Math.floor(Math.random()*i.length)]}},generateSymbolImage(){const i=this.imageLibrary.symbols;return{...i[Math.floor(Math.random()*i.length)]}},generatePatternImage(){const i=this.imageLibrary.patterns;return{...i[Math.floor(Math.random()*i.length)]}},generateRecognitionQuestion(i){const t=["choice","judgment","count"],n=t[Math.floor(Math.random()*t.length)];n==="choice"?this.generateChoiceQuestion(i):n==="judgment"?this.generateJudgmentQuestion(i):this.generateCountQuestion(i)},generateChoiceQuestion(i){const t=[];t.push({id:"correct",...i});for(let n=0;n<3;n++){let a;i.type==="shape"?a=this.generateShapeImage():i.type==="symbol"?a=this.generateSymbolImage():a=this.generatePatternImage(),t.push({id:`wrong_${n}`,...a})}this.settings.randomOrder&&this.shuffleArray(t),this.recognitionQuestion={type:"choice",question:"请选择刚才看到的图像：",options:t,correctAnswer:"correct"}},generateJudgmentQuestion(i){const t=Math.random()>.5;let n;t?n={...i}:i.type==="shape"?n=this.generateShapeImage():i.type==="symbol"?n=this.generateSymbolImage():n=this.generatePatternImage(),this.recognitionQuestion={type:"judgment",question:"这是刚才看到的图像吗？",testImage:n,correctAnswer:t}},generateCountQuestion(i){if(i.type==="pattern")this.recognitionQuestion={type:"count",question:"刚才看到的图案中有多少个点？",correctAnswer:i.pattern.length};else{const t=Math.floor(Math.random()*5)+1;this.recognitionQuestion={type:"count",question:"如果刚才的图像重复出现，总共会有多少个？",correctAnswer:t}}},selectAnswer(i){this.showResult||(this.selectedAnswer=i,this.checkAnswer(i))},submitAnswer(){this.userCount===null||this.showResult||this.checkAnswer(this.userCount)},checkAnswer(i){let t=!1;this.recognitionQuestion.type==="choice"?t=i===this.recognitionQuestion.correctAnswer:this.recognitionQuestion.type==="judgment"?t=i===this.recognitionQuestion.correctAnswer:t=i===this.recognitionQuestion.correctAnswer,this.isAnswerCorrect=t,t?(this.correctCount++,this.settings.soundEffects&&this.playSuccessSound()):(this.errorCount++,this.settings.soundEffects&&this.playErrorSound()),this.showResult=!0,this.settings.autoNext&&setTimeout(()=>{this.nextRound()},2e3)},nextRound(){this.showResult=!1,this.showRecognitionTest=!1,this.selectedAnswer=null,this.userCount=null,this.currentRound>=this.totalRounds?this.completeTraining():this.startCountdown()},completeTraining(){this.isCompleted=!0,this.settings.soundEffects&&this.playCompletionSound(),this.saveResult()},getCorrectAnswerText(){if(this.recognitionQuestion.type==="choice"){const i=this.recognitionQuestion.options.find(t=>t.id===this.recognitionQuestion.correctAnswer);if(i)return i.type==="shape"?`${i.color} ${i.shape}`:i.type==="symbol"?i.symbol:"对应的图案"}else return this.recognitionQuestion.type==="judgment"?this.recognitionQuestion.correctAnswer?"是":"否":this.recognitionQuestion.correctAnswer;return""},resetTrainingState(){this.currentRound=0,this.correctCount=0,this.errorCount=0,this.isCompleted=!1,this.isFlashing=!1,this.showRecognitionTest=!1,this.showResult=!1,this.selectedAnswer=null,this.userCount=null,this.reactionTimes=[],this.clearTimers()},clearTimers(){this.flashTimer&&(clearTimeout(this.flashTimer),this.flashTimer=null),this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null)},shuffleArray(i){for(let t=i.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[i[t],i[n]]=[i[n],i[t]]}},playFlashSound(){const i=new(window.AudioContext||window.webkitAudioContext),t=i.createOscillator(),n=i.createGain();t.connect(n),n.connect(i.destination),t.frequency.setValueAtTime(1e3,i.currentTime),n.gain.setValueAtTime(.1,i.currentTime),n.gain.exponentialRampToValueAtTime(.01,i.currentTime+.2),t.start(i.currentTime),t.stop(i.currentTime+.2)},playSuccessSound(){const i=new(window.AudioContext||window.webkitAudioContext),t=i.createOscillator(),n=i.createGain();t.connect(n),n.connect(i.destination),t.frequency.setValueAtTime(1200,i.currentTime),n.gain.setValueAtTime(.1,i.currentTime),n.gain.exponentialRampToValueAtTime(.01,i.currentTime+.3),t.start(i.currentTime),t.stop(i.currentTime+.3)},playErrorSound(){const i=new(window.AudioContext||window.webkitAudioContext),t=i.createOscillator(),n=i.createGain();t.connect(n),n.connect(i.destination),t.frequency.setValueAtTime(300,i.currentTime),n.gain.setValueAtTime(.1,i.currentTime),n.gain.exponentialRampToValueAtTime(.01,i.currentTime+.4),t.start(i.currentTime),t.stop(i.currentTime+.4)},playCompletionSound(){const i=new(window.AudioContext||window.webkitAudioContext);[523,659,784,1047].forEach((n,a)=>{const s=i.createOscillator(),l=i.createGain();s.connect(l),l.connect(i.destination);const o=i.currentTime+a*.2;s.frequency.setValueAtTime(n,o),l.gain.setValueAtTime(.1,o),l.gain.exponentialRampToValueAtTime(.01,o+.4),s.start(o),s.stop(o+.4)})},getEncouragementMessage(){if(!this.settings.showEncouragement)return"";const i=this.recognitionRate;let t;i>=90?t="excellent":i>=80?t="good":i>=60?t="average":t="poor";const a={excellent:["太棒了！你的视觉识别能力非常出色！","完美的表现！继续保持这种专注力！","惊人的识别速度！你的大脑反应很敏锐！","卓越的成绩！你的视觉训练效果显著！"],good:["很好！你的识别能力在稳步提升！","不错的表现！继续练习会更好！","良好的进步！保持这种训练节奏！","做得很好！你的专注力在增强！"],average:["继续努力！你正在进步中！","不要气馁，多练习会有提升！","保持练习，你会看到明显改善！","坚持训练，成功就在前方！"],poor:["没关系，每个人都有起步阶段！","坚持练习，你一定会进步的！","不要放弃，持续训练是关键！","相信自己，下次会更好！"]}[t];return a[Math.floor(Math.random()*a.length)]},saveResult(){const i={id:Date.now().toString(),mode:this.currentModeData.id,modeName:this.currentModeData.name,recognitionRate:this.recognitionRate,correctCount:this.correctCount,errorCount:this.errorCount,totalRounds:this.totalRounds,averageReactionTime:this.averageReactionTime,reactionTimes:[...this.reactionTimes],settings:{flashDuration:this.settings.flashDuration,intervalTime:this.settings.intervalTime,imageSize:this.settings.imageSize,imageType:this.settings.imageType},date:new Date().toISOString(),timestamp:Date.now()},t=JSON.parse(localStorage.getItem("imageFlashResults")||"[]");t.push(i),t.length>1e3&&t.splice(0,t.length-1e3),localStorage.setItem("imageFlashResults",JSON.stringify(t)),this.updateStatistics(i)},updateStatistics(i){i.recognitionRate>this.statistics.bestRecognition&&(this.statistics.bestRecognition=i.recognitionRate),this.statistics.totalSessions++,this.saveStatistics()},getChartPoints(){return this.statistics.recognitionTrend.map((i,t)=>{const n=t/(this.statistics.recognitionTrend.length-1)*100,a=100-i.recognition;return`${n},${a}`}).join(" ")},saveSettings(){localStorage.setItem("imageFlashSettings",JSON.stringify(this.settings))},loadSettings(){const i=localStorage.getItem("imageFlashSettings");i&&(this.settings={...this.settings,...JSON.parse(i)})},saveStatistics(){localStorage.setItem("imageFlashStats",JSON.stringify(this.statistics))},loadStatistics(){const i=localStorage.getItem("imageFlashStats");i&&(this.statistics={...this.statistics,...JSON.parse(i)})},getTrainingHistory(i=30){const t=JSON.parse(localStorage.getItem("imageFlashResults")||"[]"),n=new Date;return n.setDate(n.getDate()-i),t.filter(a=>new Date(a.date)>=n)},getDetailedAnalysis(){const i=JSON.parse(localStorage.getItem("imageFlashResults")||"[]");if(i.length===0)return{totalSessions:0,averageRecognition:0,bestRecognition:0,worstRecognition:0,improvementTrend:0,modePerformance:{},weeklyProgress:[]};const t={totalSessions:i.length,averageRecognition:i.reduce((n,a)=>n+a.recognitionRate,0)/i.length,bestRecognition:Math.max(...i.map(n=>n.recognitionRate)),worstRecognition:Math.min(...i.map(n=>n.recognitionRate)),averageReactionTime:i.reduce((n,a)=>n+(a.averageReactionTime||0),0)/i.length};if(i.length>=10){const n=i.slice(-10),a=i.slice(-20,-10),s=n.reduce((o,d)=>o+d.recognitionRate,0)/n.length,l=a.reduce((o,d)=>o+d.recognitionRate,0)/a.length;t.improvementTrend=s-l}else t.improvementTrend=0;return t.modePerformance={},i.forEach(n=>{t.modePerformance[n.mode]||(t.modePerformance[n.mode]={sessions:0,totalRecognition:0,bestRecognition:0,averageReactionTime:0,totalReactionTime:0});const a=t.modePerformance[n.mode];a.sessions++,a.totalRecognition+=n.recognitionRate,a.bestRecognition=Math.max(a.bestRecognition,n.recognitionRate),a.totalReactionTime+=n.averageReactionTime||0}),Object.keys(t.modePerformance).forEach(n=>{const a=t.modePerformance[n];a.averageRecognition=a.totalRecognition/a.sessions,a.averageReactionTime=a.totalReactionTime/a.sessions}),t.weeklyProgress=this.calculateWeeklyProgress(i),t},calculateWeeklyProgress(i){const t={};return i.forEach(n=>{const a=new Date(n.date),s=new Date(a);s.setDate(a.getDate()-a.getDay());const l=s.toISOString().split("T")[0];t[l]||(t[l]={week:l,sessions:0,totalRecognition:0,bestRecognition:0}),t[l].sessions++,t[l].totalRecognition+=n.recognitionRate,t[l].bestRecognition=Math.max(t[l].bestRecognition,n.recognitionRate)}),Object.values(t).map(n=>({...n,averageRecognition:n.totalRecognition/n.sessions})).sort((n,a)=>new Date(n.week)-new Date(a.week)).slice(-12)},exportTrainingData(){const i=JSON.parse(localStorage.getItem("imageFlashResults")||"[]"),t=JSON.parse(localStorage.getItem("imageFlashSettings")||"{}"),n=JSON.parse(localStorage.getItem("imageFlashStats")||"{}"),a={exportDate:new Date().toISOString(),version:"1.0",type:"imageFlashTraining",data:{results:i,settings:t,statistics:n,analysis:this.getDetailedAnalysis()}},s=JSON.stringify(a,null,2),l=new Blob([s],{type:"application/json"}),o=document.createElement("a");return o.href=URL.createObjectURL(l),o.download=`image-flash-training-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0},importTrainingData(i){return new Promise((t,n)=>{const a=new FileReader;a.onload=s=>{var l;try{const o=JSON.parse(s.target.result);if(o.type!=="imageFlashTraining"){n(new Error("无效的数据文件类型"));return}if(this.createBackup(),o.data.results){const _=[...JSON.parse(localStorage.getItem("imageFlashResults")||"[]"),...o.data.results].filter((R,F,x)=>x.findIndex(k=>k.id===R.id)===F).sort((R,F)=>new Date(R.date)-new Date(F.date));localStorage.setItem("imageFlashResults",JSON.stringify(_))}o.data.settings&&(localStorage.setItem("imageFlashSettings",JSON.stringify(o.data.settings)),this.loadSettings()),o.data.statistics&&(localStorage.setItem("imageFlashStats",JSON.stringify(o.data.statistics)),this.loadStatistics()),t({success:!0,message:"数据导入成功",importedRecords:((l=o.data.results)==null?void 0:l.length)||0})}catch(o){n(new Error("数据文件格式错误: "+o.message))}},a.onerror=()=>n(new Error("文件读取失败")),a.readAsText(i)})},createBackup(){const i={results:localStorage.getItem("imageFlashResults"),settings:localStorage.getItem("imageFlashSettings"),statistics:localStorage.getItem("imageFlashStats"),timestamp:Date.now()},t=JSON.parse(localStorage.getItem("imageFlashBackups")||"[]");t.push(i),t.length>10&&t.splice(0,t.length-10),localStorage.setItem("imageFlashBackups",JSON.stringify(t))},restoreBackup(i){const t=JSON.parse(localStorage.getItem("imageFlashBackups")||"[]");if(i<0||i>=t.length)throw new Error("无效的备份索引");const n=t[i];return n.results&&localStorage.setItem("imageFlashResults",n.results),n.settings&&(localStorage.setItem("imageFlashSettings",n.settings),this.loadSettings()),n.statistics&&(localStorage.setItem("imageFlashStats",n.statistics),this.loadStatistics()),!0},clearTrainingData(i="all"){switch(this.createBackup(),i){case"results":localStorage.removeItem("imageFlashResults");break;case"settings":localStorage.removeItem("imageFlashSettings"),this.loadSettings();break;case"statistics":localStorage.removeItem("imageFlashStats"),this.loadStatistics();break;case"all":localStorage.removeItem("imageFlashResults"),localStorage.removeItem("imageFlashSettings"),localStorage.removeItem("imageFlashStats"),this.loadSettings(),this.loadStatistics();break}return!0},getStorageUsage(){const i=localStorage.getItem("imageFlashResults")||"",t=localStorage.getItem("imageFlashSettings")||"",n=localStorage.getItem("imageFlashStats")||"",a=localStorage.getItem("imageFlashBackups")||"",s={results:{size:new Blob([i]).size,records:JSON.parse(i||"[]").length},settings:{size:new Blob([t]).size},statistics:{size:new Blob([n]).size},backups:{size:new Blob([a]).size,count:JSON.parse(a||"[]").length}};return s.total=s.results.size+s.settings.size+s.statistics.size+s.backups.size,s},goBack(){this.$emit("go-back")}},mounted(){this.loadSettings(),this.loadStatistics()},beforeUnmount(){this.clearTimers()},watch:{settings:{handler(){this.saveSettings()},deep:!0}}},E={class:"image-flash-container"},B={key:0,class:"training-modes"},O={class:"modes-grid"},V=["onClick"],Q={class:"mode-header"},N={class:"mode-icon"},P={class:"mode-description"},z={class:"mode-details"},U={class:"detail-item"},L={class:"detail-value"},J={class:"detail-item"},j={class:"detail-value"},q={class:"detail-item"},G={class:"detail-value"},H={class:"mode-stats"},K={class:"stat-item"},W={class:"stat-value"},X={class:"stat-item"},Y={class:"stat-value"},Z=["onClick"],$={key:1,class:"training-interface"},tt={class:"training-card"},et={class:"training-header"},st={class:"training-info"},it={class:"info-item"},ot={class:"info-value"},nt={class:"info-item"},lt={class:"info-value correct"},at={class:"info-item"},rt={class:"info-value error"},ct={class:"info-item"},ut={class:"info-value"},gt={class:"training-controls"},dt={class:"flash-display-area"},mt={class:"image-display"},pt=["src","alt"],ht={key:1,class:"ready-indicator"},yt={class:"countdown-circle"},ft={class:"countdown-number"},vt={key:2,class:"pause-indicator"},bt={key:0,class:"recognition-area"},wt={class:"recognition-prompt"},St={class:"recognition-hint"},_t={key:0,class:"recognition-options"},Tt=["onClick"],Rt=["src","alt"],Ft={key:3,class:"option-pattern"},Ct={key:1,class:"judgment-options"},xt=["disabled"],kt=["disabled"],At={key:2,class:"count-input"},It=["disabled"],Dt=["disabled"],Mt={key:3,class:"answer-result"},Et={class:"result-icon"},Bt={class:"result-text"},Ot={key:0,class:"correct-answer"},Vt={key:1,class:"explanation"},Qt={key:1,class:"completion-status"},Nt={class:"completion-header"},Pt={key:0,class:"encouragement-message"},zt={class:"encouragement-content"},Ut={class:"encouragement-text"},Lt={class:"completion-stats"},Jt={class:"stat-item"},jt={class:"stat-value"},qt={class:"stat-item"},Gt={class:"stat-value correct"},Ht={class:"stat-item"},Kt={class:"stat-value error"},Wt={class:"stat-item"},Xt={class:"stat-value"},Yt={class:"stat-item"},Zt={class:"stat-value"},$t={class:"stat-item"},te={class:"completion-actions"},ee={key:2,class:"training-settings"},se={class:"settings-grid"},ie={class:"setting-card"},oe={class:"setting-item"},ne={class:"range-container"},le={class:"range-value"},ae={class:"setting-item"},re={class:"range-container"},ce={class:"range-value"},ue={class:"setting-item"},ge={class:"setting-item"},de={class:"setting-card"},me={class:"setting-item"},pe={class:"range-container"},he={class:"range-value"},ye={class:"setting-item"},fe={class:"setting-item"},ve={class:"setting-card"},be={class:"setting-item"},we={class:"setting-label"},Se={class:"setting-item"},_e={class:"setting-label"},Te={class:"setting-item"},Re={class:"setting-label"},Fe={class:"setting-item"},Ce={class:"setting-label"},xe={class:"setting-item"},ke={class:"setting-label"},Ae={class:"setting-item"},Ie={class:"setting-label"},De={class:"setting-item"},Me={class:"setting-label"},Ee={class:"setting-item"},Be={class:"setting-label"},Oe={class:"setting-item"},Ve={class:"setting-label"},Qe={class:"setting-card"},Ne={class:"setting-item"},Pe={class:"setting-item"},ze={class:"setting-item"},Ue={class:"setting-label"},Le={class:"setting-item"},Je={class:"setting-item"},je={key:3,class:"training-statistics"},qe={class:"stats-grid"},Ge={class:"stats-card"},He={class:"stats-overview"},Ke={class:"stat-item"},We={class:"stat-info"},Xe={class:"stat-value"},Ye={class:"stat-item"},Ze={class:"stat-info"},$e={class:"stat-value"},ts={class:"stat-item"},es={class:"stat-info"},ss={class:"stat-value"},is={class:"stat-item"},os={class:"stat-info"},ns={class:"stat-value"},ls={class:"stats-card"},as={class:"mode-performance"},rs={class:"mode-header"},cs={class:"mode-name"},us={class:"mode-level"},gs={class:"mode-details"},ds={class:"detail-row"},ms={class:"detail-value"},ps={class:"detail-row"},hs={class:"detail-value"},ys={class:"detail-row"},fs={class:"detail-value"},vs={class:"mode-progress"},bs={class:"progress-bar"},ws={class:"progress-text"},Ss={class:"stats-card"},_s={class:"recognition-chart"},Ts={class:"chart-container"},Rs={class:"chart-line"},Fs=["title"],Cs={class:"chart-svg"},xs=["points"],ks={class:"stats-card"},As={class:"ability-analysis"},Is={class:"ability-item"},Ds={class:"ability-header"},Ms={class:"ability-score"},Es={class:"ability-bar"},Bs={class:"ability-item"},Os={class:"ability-header"},Vs={class:"ability-score"},Qs={class:"ability-bar"},Ns={class:"ability-item"},Ps={class:"ability-header"},zs={class:"ability-score"},Us={class:"ability-bar"},Ls={class:"ability-item"},Js={class:"ability-header"},js={class:"ability-score"},qs={class:"ability-bar"};function Gs(i,t,n,a,s,l){return c(),u("div",E,[s.isTraining?m("",!0):(c(),u("div",B,[t[37]||(t[37]=e("h3",null,"选择训练模式",-1)),e("div",O,[(c(!0),u(b,null,w(s.trainingModes,o=>(c(),u("div",{key:o.id,class:y(["mode-card",{active:s.selectedMode===o.id}]),onClick:d=>l.selectMode(o.id)},[e("div",Q,[e("span",N,r(o.icon),1),e("span",{class:y(["mode-level",o.level])},r(o.levelText),3)]),e("h4",null,r(o.name),1),e("p",P,r(o.description),1),e("div",z,[e("div",U,[t[32]||(t[32]=e("span",{class:"detail-label"},"闪视速度:",-1)),e("span",L,r(o.flashSpeed)+"ms",1)]),e("div",J,[t[33]||(t[33]=e("span",{class:"detail-label"},"图像类型:",-1)),e("span",j,r(o.imageType),1)]),e("div",q,[t[34]||(t[34]=e("span",{class:"detail-label"},"难度等级:",-1)),e("span",G,r(o.difficulty),1)])]),e("div",H,[e("div",K,[t[35]||(t[35]=e("span",{class:"stat-label"},"最高识别率",-1)),e("span",W,r(o.bestRecognition)+"%",1)]),e("div",X,[t[36]||(t[36]=e("span",{class:"stat-label"},"平均识别率",-1)),e("span",Y,r(o.averageRecognition)+"%",1)])]),e("button",{class:"start-mode-btn",onClick:I(d=>l.startTraining(o.id),["stop"])}," 开始训练 ",8,Z)],10,V))),128))])])),s.isTraining?(c(),u("div",$,[e("div",tt,[e("div",et,[e("h3",null,r(s.currentModeData.name),1),e("div",st,[e("div",it,[t[38]||(t[38]=e("span",{class:"info-label"},"轮次:",-1)),e("span",ot,r(s.currentRound)+"/"+r(s.totalRounds),1)]),e("div",nt,[t[39]||(t[39]=e("span",{class:"info-label"},"识别正确:",-1)),e("span",lt,r(s.correctCount),1)]),e("div",at,[t[40]||(t[40]=e("span",{class:"info-label"},"识别错误:",-1)),e("span",rt,r(s.errorCount),1)]),e("div",ct,[t[41]||(t[41]=e("span",{class:"info-label"},"识别率:",-1)),e("span",ut,r(l.recognitionRate)+"%",1)])]),e("div",gt,[!s.isPaused&&!s.isCompleted?(c(),u("button",{key:0,class:"control-btn",onClick:t[0]||(t[0]=(...o)=>l.pauseTraining&&l.pauseTraining(...o))}," ⏸️ ")):m("",!0),s.isPaused?(c(),u("button",{key:1,class:"control-btn",onClick:t[1]||(t[1]=(...o)=>l.resumeTraining&&l.resumeTraining(...o))}," ▶️ ")):m("",!0),e("button",{class:"control-btn",onClick:t[2]||(t[2]=(...o)=>l.stopTraining&&l.stopTraining(...o))}," ⏹️ ")])]),e("div",dt,[e("div",{class:y(["flash-container",{flashing:s.isFlashing}])},[s.isFlashing?(c(),u("div",{key:0,class:y(["flash-content",{animated:s.settings.animationEffects}])},[e("div",mt,[s.currentFlashImage.type==="image"?(c(),u("img",{key:0,src:s.currentFlashImage.src,alt:s.currentFlashImage.alt,class:"flash-image",style:p({width:s.settings.imageSize+"px",height:s.settings.imageSize+"px"})},null,12,pt)):s.currentFlashImage.type==="shape"?(c(),u("div",{key:1,class:y(["flash-shape",s.currentFlashImage.shape]),style:p({width:s.settings.imageSize+"px",height:s.settings.imageSize+"px",backgroundColor:s.currentFlashImage.color})},null,6)):s.currentFlashImage.type==="symbol"?(c(),u("div",{key:2,class:"flash-symbol",style:p({fontSize:s.settings.imageSize/2+"px",color:s.currentFlashImage.color})},r(s.currentFlashImage.symbol),5)):s.currentFlashImage.type==="pattern"?(c(),u("div",{key:3,class:"flash-pattern",style:p({width:s.settings.imageSize+"px",height:s.settings.imageSize+"px"})},[(c(!0),u(b,null,w(s.currentFlashImage.pattern,(o,d)=>(c(),u("div",{key:d,class:"pattern-dot",style:p({left:o.x+"%",top:o.y+"%",backgroundColor:o.color||"#333","--dot-index":d})},null,4))),128))],4)):m("",!0)])],2)):!s.isCompleted&&!s.isPaused?(c(),u("div",ht,[t[42]||(t[42]=e("span",{class:"ready-text"},"准备观察...",-1)),e("div",yt,[e("span",ft,r(s.countdown),1)])])):s.isPaused?(c(),u("div",vt,t[43]||(t[43]=[e("span",{class:"pause-text"},"已暂停",-1),e("p",null,"点击继续按钮恢复训练",-1)]))):m("",!0)],2)]),s.showRecognitionTest&&!s.isCompleted?(c(),u("div",bt,[e("div",wt,[t[44]||(t[44]=e("h4",null,"识别测试",-1)),e("p",St,r(s.recognitionQuestion.question),1)]),s.recognitionQuestion.type==="choice"?(c(),u("div",_t,[(c(!0),u(b,null,w(s.recognitionQuestion.options,(o,d)=>(c(),u("div",{key:d,class:y(["recognition-option",{selected:s.selectedAnswer===o.id,correct:s.showResult&&o.id===s.recognitionQuestion.correctAnswer,wrong:s.showResult&&s.selectedAnswer===o.id&&o.id!==s.recognitionQuestion.correctAnswer}]),onClick:S=>l.selectAnswer(o.id)},[o.type==="image"?(c(),u("img",{key:0,src:o.src,alt:o.alt,class:"option-image"},null,8,Rt)):o.type==="shape"?(c(),u("div",{key:1,class:y(["option-shape",o.shape]),style:p({backgroundColor:o.color})},null,6)):o.type==="symbol"?(c(),u("div",{key:2,class:"option-symbol",style:p({color:o.color})},r(o.symbol),5)):o.type==="pattern"?(c(),u("div",Ft,[(c(!0),u(b,null,w(o.pattern,(S,_)=>(c(),u("div",{key:_,class:"pattern-dot small",style:p({left:S.x+"%",top:S.y+"%",backgroundColor:S.color||"#333","--dot-index":_})},null,4))),128))])):m("",!0)],10,Tt))),128))])):s.recognitionQuestion.type==="judgment"?(c(),u("div",Ct,[e("button",{class:y(["judgment-option",{selected:s.selectedAnswer===!0,correct:s.showResult&&s.recognitionQuestion.correctAnswer===!0,wrong:s.showResult&&s.selectedAnswer===!0&&s.recognitionQuestion.correctAnswer!==!0}]),onClick:t[3]||(t[3]=o=>l.selectAnswer(!0)),disabled:s.showResult}," ✓ 是 ",10,xt),e("button",{class:y(["judgment-option",{selected:s.selectedAnswer===!1,correct:s.showResult&&s.recognitionQuestion.correctAnswer===!1,wrong:s.showResult&&s.selectedAnswer===!1&&s.recognitionQuestion.correctAnswer!==!1}]),onClick:t[4]||(t[4]=o=>l.selectAnswer(!1)),disabled:s.showResult}," ✗ 否 ",10,kt)])):(c(),u("div",At,[g(e("input",{type:"number",class:"input-field","onUpdate:modelValue":t[5]||(t[5]=o=>s.userCount=o),placeholder:"请输入数量...",onKeyup:t[6]||(t[6]=A((...o)=>l.submitAnswer&&l.submitAnswer(...o),["enter"])),disabled:s.showResult,ref:"countInput",min:"0",max:"20"},null,40,It),[[T,s.userCount,void 0,{number:!0}]]),e("button",{class:"submit-btn",onClick:t[7]||(t[7]=(...o)=>l.submitAnswer&&l.submitAnswer(...o)),disabled:s.userCount===null||s.showResult}," 提交答案 ",8,Dt)])),s.showResult?(c(),u("div",Mt,[e("div",{class:y(["result-message",{correct:s.isAnswerCorrect,wrong:!s.isAnswerCorrect}])},[e("span",Et,r(s.isAnswerCorrect?"✅":"❌"),1),e("span",Bt,r(s.isAnswerCorrect?"识别正确！":"识别有误"),1)],2),s.isAnswerCorrect?m("",!0):(c(),u("div",Ot,[t[45]||(t[45]=h(" 正确答案: ",-1)),e("strong",null,r(l.getCorrectAnswerText()),1)])),s.recognitionQuestion.explanation?(c(),u("div",Vt,[t[46]||(t[46]=e("strong",null,"解析:",-1)),h(" "+r(s.recognitionQuestion.explanation),1)])):m("",!0),e("button",{class:"next-btn",onClick:t[8]||(t[8]=(...o)=>l.nextRound&&l.nextRound(...o))},r(s.currentRound>=s.totalRounds?"查看结果":"下一张"),1)])):m("",!0)])):m("",!0),s.isCompleted?(c(),u("div",Qt,[e("div",Nt,[t[47]||(t[47]=e("span",{class:"completion-icon"},"🎉",-1)),t[48]||(t[48]=e("h4",null,"训练完成！",-1)),e("p",null,"恭喜你完成了 "+r(s.totalRounds)+" 轮图像闪视训练",1)]),s.settings.showEncouragement?(c(),u("div",Pt,[e("div",zt,[e("span",Ut,r(l.getEncouragementMessage()),1)])])):m("",!0),e("div",Lt,[e("div",Jt,[t[49]||(t[49]=e("span",{class:"stat-label"},"总轮次",-1)),e("span",jt,r(s.totalRounds),1)]),e("div",qt,[t[50]||(t[50]=e("span",{class:"stat-label"},"识别正确",-1)),e("span",Gt,r(s.correctCount),1)]),e("div",Ht,[t[51]||(t[51]=e("span",{class:"stat-label"},"识别错误",-1)),e("span",Kt,r(s.errorCount),1)]),e("div",Wt,[t[52]||(t[52]=e("span",{class:"stat-label"},"识别率",-1)),e("span",Xt,r(l.recognitionRate)+"%",1)]),e("div",Yt,[t[53]||(t[53]=e("span",{class:"stat-label"},"平均反应时间",-1)),e("span",Zt,r(l.averageReactionTime)+"ms",1)]),e("div",$t,[t[54]||(t[54]=e("span",{class:"stat-label"},"等级评价",-1)),e("span",{class:y(["stat-value",l.performanceLevel.class])},r(l.performanceLevel.text),3)])]),e("div",te,[e("button",{class:"action-btn secondary",onClick:t[9]||(t[9]=(...o)=>l.stopTraining&&l.stopTraining(...o))}," 返回选择 "),e("button",{class:"action-btn primary",onClick:t[10]||(t[10]=(...o)=>l.restartTraining&&l.restartTraining(...o))}," 再次训练 ")])])):m("",!0)])])):m("",!0),s.isTraining?m("",!0):(c(),u("div",ee,[t[88]||(t[88]=e("h3",null,"训练设置",-1)),e("div",se,[e("div",ie,[t[61]||(t[61]=e("h4",null,"基础设置",-1)),e("div",oe,[t[55]||(t[55]=e("label",null,"闪视速度 (毫秒)",-1)),e("div",ne,[g(e("input",{type:"range",class:"range-input","onUpdate:modelValue":t[11]||(t[11]=o=>s.settings.flashDuration=o),min:"200",max:"2000",step:"100"},null,512),[[T,s.settings.flashDuration]]),e("span",le,r(s.settings.flashDuration)+"ms",1)])]),e("div",ae,[t[56]||(t[56]=e("label",null,"间隔时间 (秒)",-1)),e("div",re,[g(e("input",{type:"range",class:"range-input","onUpdate:modelValue":t[12]||(t[12]=o=>s.settings.intervalTime=o),min:"1",max:"5",step:"1"},null,512),[[T,s.settings.intervalTime]]),e("span",ce,r(s.settings.intervalTime)+"s",1)])]),e("div",ue,[t[58]||(t[58]=e("label",null,"训练轮次",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[13]||(t[13]=o=>s.settings.rounds=o)},t[57]||(t[57]=[e("option",{value:"5"},"5轮",-1),e("option",{value:"10"},"10轮",-1),e("option",{value:"15"},"15轮",-1),e("option",{value:"20"},"20轮",-1)]),512),[[v,s.settings.rounds]])]),e("div",ge,[t[60]||(t[60]=e("label",null,"图像类型",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[14]||(t[14]=o=>s.settings.imageType=o)},t[59]||(t[59]=[e("option",{value:"shapes"},"几何图形",-1),e("option",{value:"symbols"},"符号标记",-1),e("option",{value:"patterns"},"点阵图案",-1),e("option",{value:"mixed"},"混合类型",-1)]),512),[[v,s.settings.imageType]])])]),e("div",de,[t[67]||(t[67]=e("h4",null,"显示设置",-1)),e("div",me,[t[62]||(t[62]=e("label",null,"图像大小",-1)),e("div",pe,[g(e("input",{type:"range",class:"range-input","onUpdate:modelValue":t[15]||(t[15]=o=>s.settings.imageSize=o),min:"100",max:"300",step:"20"},null,512),[[T,s.settings.imageSize]]),e("span",he,r(s.settings.imageSize)+"px",1)])]),e("div",ye,[t[64]||(t[64]=e("label",null,"背景颜色",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[16]||(t[16]=o=>s.settings.backgroundColor=o)},t[63]||(t[63]=[e("option",{value:"white"},"白色",-1),e("option",{value:"black"},"黑色",-1),e("option",{value:"gray"},"灰色",-1),e("option",{value:"blue"},"蓝色",-1)]),512),[[v,s.settings.backgroundColor]])]),e("div",fe,[t[66]||(t[66]=e("label",null,"颜色模式",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[17]||(t[17]=o=>s.settings.colorMode=o)},t[65]||(t[65]=[e("option",{value:"colorful"},"彩色",-1),e("option",{value:"monochrome"},"单色",-1),e("option",{value:"grayscale"},"灰度",-1)]),512),[[v,s.settings.colorMode]])])]),e("div",ve,[t[77]||(t[77]=e("h4",null,"训练辅助",-1)),e("div",be,[e("label",we,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=o=>s.settings.showProgress=o)},null,512),[[f,s.settings.showProgress]]),t[68]||(t[68]=h(" 显示进度 ",-1))])]),e("div",Se,[e("label",_e,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=o=>s.settings.soundEffects=o)},null,512),[[f,s.settings.soundEffects]]),t[69]||(t[69]=h(" 声音效果 ",-1))])]),e("div",Te,[e("label",Re,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=o=>s.settings.randomOrder=o)},null,512),[[f,s.settings.randomOrder]]),t[70]||(t[70]=h(" 随机顺序 ",-1))])]),e("div",Fe,[e("label",Ce,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=o=>s.settings.autoNext=o)},null,512),[[f,s.settings.autoNext]]),t[71]||(t[71]=h(" 自动下一题 ",-1))])]),e("div",xe,[e("label",ke,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[22]||(t[22]=o=>s.settings.showHints=o)},null,512),[[f,s.settings.showHints]]),t[72]||(t[72]=h(" 提示显示 ",-1))])]),e("div",Ae,[e("label",Ie,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[23]||(t[23]=o=>s.settings.adaptiveDifficulty=o)},null,512),[[f,s.settings.adaptiveDifficulty]]),t[73]||(t[73]=h(" 自适应难度 ",-1))])]),e("div",De,[e("label",Me,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=o=>s.settings.showEncouragement=o)},null,512),[[f,s.settings.showEncouragement]]),t[74]||(t[74]=h(" 鼓励消息 ",-1))])]),e("div",Ee,[e("label",Be,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[25]||(t[25]=o=>s.settings.showGuide=o)},null,512),[[f,s.settings.showGuide]]),t[75]||(t[75]=h(" 阅读指南 ",-1))])]),e("div",Oe,[e("label",Ve,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[26]||(t[26]=o=>s.settings.progressSound=o)},null,512),[[f,s.settings.progressSound]]),t[76]||(t[76]=h(" 进度音效 ",-1))])])]),e("div",Qe,[t[87]||(t[87]=e("h4",null,"高级设置",-1)),e("div",Ne,[t[79]||(t[79]=e("label",null,"难度等级",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[27]||(t[27]=o=>s.settings.difficulty=o)},t[78]||(t[78]=[e("option",{value:"easy"},"简单",-1),e("option",{value:"medium"},"中等",-1),e("option",{value:"hard"},"困难",-1),e("option",{value:"all"},"全部",-1)]),512),[[v,s.settings.difficulty]])]),e("div",Pe,[t[81]||(t[81]=e("label",null,"内容过滤",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[28]||(t[28]=o=>s.settings.contentFilter=o)},t[80]||(t[80]=[C('<option value="all" data-v-4ed4c038>全部类型</option><option value="shapes" data-v-4ed4c038>几何图形</option><option value="symbols" data-v-4ed4c038>符号标记</option><option value="patterns" data-v-4ed4c038>点阵图案</option><option value="numbers" data-v-4ed4c038>数字</option><option value="letters" data-v-4ed4c038>字母</option>',6)]),512),[[v,s.settings.contentFilter]])]),e("div",ze,[e("label",Ue,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[29]||(t[29]=o=>s.settings.animationEffects=o)},null,512),[[f,s.settings.animationEffects]]),t[82]||(t[82]=h(" 动画效果 ",-1))])]),e("div",Le,[t[84]||(t[84]=e("label",null,"高亮颜色",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[30]||(t[30]=o=>s.settings.highlightColor=o)},t[83]||(t[83]=[C('<option value="#FFD700" data-v-4ed4c038>金色</option><option value="#FF6B6B" data-v-4ed4c038>红色</option><option value="#4ECDC4" data-v-4ed4c038>青色</option><option value="#45B7D1" data-v-4ed4c038>蓝色</option><option value="#96CEB4" data-v-4ed4c038>绿色</option>',5)]),512),[[v,s.settings.highlightColor]])]),e("div",Je,[t[86]||(t[86]=e("label",null,"识别模式",-1)),g(e("select",{class:"select-input","onUpdate:modelValue":t[31]||(t[31]=o=>s.settings.recognitionMode=o)},t[85]||(t[85]=[e("option",{value:"instant"},"即时识别",-1),e("option",{value:"delayed"},"延时识别",-1),e("option",{value:"choice"},"选择识别",-1)]),512),[[v,s.settings.recognitionMode]])])])])])),s.isTraining?m("",!0):(c(),u("div",je,[t[109]||(t[109]=e("h3",null,"训练统计",-1)),e("div",qe,[e("div",Ge,[t[97]||(t[97]=e("h4",null,"总体表现",-1)),e("div",He,[e("div",Ke,[t[90]||(t[90]=e("span",{class:"stat-icon"},"👁️",-1)),e("div",We,[e("span",Xe,r(s.statistics.totalSessions),1),t[89]||(t[89]=e("span",{class:"stat-label"},"总训练次数",-1))])]),e("div",Ye,[t[92]||(t[92]=e("span",{class:"stat-icon"},"🎯",-1)),e("div",Ze,[e("span",$e,r(s.statistics.bestRecognition)+"%",1),t[91]||(t[91]=e("span",{class:"stat-label"},"最高识别率",-1))])]),e("div",ts,[t[94]||(t[94]=e("span",{class:"stat-icon"},"📊",-1)),e("div",es,[e("span",ss,r(s.statistics.averageRecognition)+"%",1),t[93]||(t[93]=e("span",{class:"stat-label"},"平均识别率",-1))])]),e("div",is,[t[96]||(t[96]=e("span",{class:"stat-icon"},"⚡",-1)),e("div",os,[e("span",ns,r(s.statistics.averageReactionTime)+"ms",1),t[95]||(t[95]=e("span",{class:"stat-label"},"平均反应时间",-1))])])])]),e("div",ls,[t[101]||(t[101]=e("h4",null,"不同模式表现",-1)),e("div",as,[(c(!0),u(b,null,w(s.statistics.modePerformance,o=>(c(),u("div",{key:o.id,class:"mode-stat"},[e("div",rs,[e("span",cs,r(o.name),1),e("span",us,r(o.level),1)]),e("div",gs,[e("div",ds,[t[98]||(t[98]=e("span",{class:"detail-label"},"最高:",-1)),e("span",ms,r(o.bestRecognition)+"%",1)]),e("div",ps,[t[99]||(t[99]=e("span",{class:"detail-label"},"平均:",-1)),e("span",hs,r(o.averageRecognition)+"%",1)]),e("div",ys,[t[100]||(t[100]=e("span",{class:"detail-label"},"次数:",-1)),e("span",fs,r(o.attempts),1)])]),e("div",vs,[e("div",bs,[e("div",{class:"progress-fill",style:p({width:o.mastery+"%"})},null,4)]),e("span",ws,"熟练度: "+r(o.mastery)+"%",1)])]))),128))])]),e("div",Ss,[t[103]||(t[103]=e("h4",null,"识别率趋势",-1)),e("div",_s,[e("div",Ts,[e("div",Rs,[(c(!0),u(b,null,w(s.statistics.recognitionTrend,(o,d)=>(c(),u("div",{key:d,class:"chart-point",style:p({left:d/(s.statistics.recognitionTrend.length-1)*100+"%",bottom:o.recognition+"%"}),title:`第${d+1}次: ${o.recognition}%`},null,12,Fs))),128)),(c(),u("svg",Cs,[e("polyline",{points:l.getChartPoints(),fill:"none",stroke:"#2196F3","stroke-width":"2"},null,8,xs)]))]),t[102]||(t[102]=e("div",{class:"chart-axis"},[e("span",{class:"axis-label"},"训练次数")],-1))])])]),e("div",ks,[t[108]||(t[108]=e("h4",null,"视觉能力分析",-1)),e("div",As,[e("div",Is,[e("div",Ds,[t[104]||(t[104]=e("span",{class:"ability-name"},"图像识别",-1)),e("span",Ms,r(l.abilityScores.imageRecognition)+"/100",1)]),e("div",Es,[e("div",{class:"ability-fill",style:p({width:l.abilityScores.imageRecognition+"%"})},null,4)])]),e("div",Bs,[e("div",Os,[t[105]||(t[105]=e("span",{class:"ability-name"},"形状感知",-1)),e("span",Vs,r(l.abilityScores.shapePerception)+"/100",1)]),e("div",Qs,[e("div",{class:"ability-fill",style:p({width:l.abilityScores.shapePerception+"%"})},null,4)])]),e("div",Ns,[e("div",Ps,[t[106]||(t[106]=e("span",{class:"ability-name"},"颜色辨识",-1)),e("span",zs,r(l.abilityScores.colorDiscrimination)+"/100",1)]),e("div",Us,[e("div",{class:"ability-fill",style:p({width:l.abilityScores.colorDiscrimination+"%"})},null,4)])]),e("div",Ls,[e("div",Js,[t[107]||(t[107]=e("span",{class:"ability-name"},"视觉记忆",-1)),e("span",js,r(l.abilityScores.visualMemory)+"/100",1)]),e("div",qs,[e("div",{class:"ability-fill",style:p({width:l.abilityScores.visualMemory+"%"})},null,4)])])])])])]))])}const Ws=D(M,[["render",Gs],["__scopeId","data-v-4ed4c038"]]);export{Ws as default};
